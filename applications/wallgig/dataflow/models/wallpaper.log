SET IRMethod, name = processing instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: HASH-processing- def_%v_3 
		 7: %self->where def_%v_4 %self[2.0,] %v_3[2.6,] 	 SYMBOL:	 ARGS:%v_3,
		 8: RETURN %v_4[2.7,] %self[2.0,2.7,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = processed instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: HASH-processing- def_%v_3 
		 7: %self->where def_%v_4 %self[2.0,] %v_3[2.6,] 	 SYMBOL:	 ARGS:%v_3,
		 8: RETURN %v_4[2.7,] %self[2.0,2.7,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = visible instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RETURN %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = latest instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: HASH-created_at- def_%v_3 
		 7: %self->order def_%v_4 %self[2.0,] %v_3[2.6,] 	 SYMBOL:	 ARGS:%v_3,
		 8: RETURN %v_4[2.7,] %self[2.0,2.7,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = processing instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: HASH-processing- def_%v_3 
		 7: %self->where def_%v_4 %self[2.0,] %v_3[2.6,] 	 SYMBOL:	 ARGS:%v_3,
		 8: RETURN %v_4[2.7,] %self[2.0,2.7,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = processed instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: HASH-processing- def_%v_3 
		 7: %self->where def_%v_4 %self[2.0,] %v_3[2.6,] 	 SYMBOL:	 ARGS:%v_3,
		 8: RETURN %v_4[2.7,] %self[2.0,2.7,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = visible instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RETURN %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = latest instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: HASH-created_at- def_%v_3 
		 7: %self->order def_%v_4 %self[2.0,] %v_3[2.6,] 	 SYMBOL:	 ARGS:%v_3,
		 8: RETURN %v_4[2.7,] %self[2.0,2.7,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = processing instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: HASH-processing- def_%v_3 
		 7: %self->where def_%v_4 %self[2.0,] %v_3[2.6,] 	 SYMBOL:	 ARGS:%v_3,
		 8: RETURN %v_4[2.7,] %self[2.0,2.7,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = processed instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: HASH-processing- def_%v_3 
		 7: %self->where def_%v_4 %self[2.0,] %v_3[2.6,] 	 SYMBOL:	 ARGS:%v_3,
		 8: RETURN %v_4[2.7,] %self[2.0,2.7,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = visible instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RETURN %self[2.0,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = latest instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: HASH-created_at- def_%v_3 
		 7: %self->order def_%v_4 %self[2.0,] %v_3[2.6,] 	 SYMBOL:	 ARGS:%v_3,
		 8: RETURN %v_4[2.7,] %self[2.0,2.7,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = search_data instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->user_id def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %self->user def_%v_4 %self[2.0,2.6,] 	 SYMBOL:	 ARGS:
		 8: %v_4->try def_%v_5 %v_4[2.7,] 	 SYMBOL:username,	 ARGS:Symbol,
		 9: %self->purity def_%v_6 %self[2.0,2.6,2.7,] 	 SYMBOL:	 ARGS:
		 10: %self->tag_list def_%v_7 %self[2.0,2.6,2.7,2.9,] 	 SYMBOL:	 ARGS:
		 11: %self->category_list def_%v_8 %self[2.0,2.6,2.7,2.9,2.10,] 	 SYMBOL:	 ARGS:
		 12: %self->image_width def_%v_9 %self[2.0,2.6,2.7,2.9,2.10,2.11,] 	 SYMBOL:	 ARGS:
		 13: %self->image_height def_%v_10 %self[2.0,2.6,2.7,2.9,2.10,2.11,2.12,] 	 SYMBOL:	 ARGS:
		 14: %self->image_hsv_color_scores def_%v_11 %self[2.0,2.6,2.7,2.9,2.10,2.11,2.12,2.13,] 	 SYMBOL:	 ARGS:
		 15: %self->aspect_ratio def_%v_12 %self[2.0,2.6,2.7,2.9,2.10,2.11,2.12,2.13,2.14,] 	 SYMBOL:	 ARGS:
		 16: %self->created_at def_%v_13 %self[2.0,2.6,2.7,2.9,2.10,2.11,2.12,2.13,2.14,2.15,] 	 SYMBOL:	 ARGS:
		 17: %self->updated_at def_%v_14 %self[2.0,2.6,2.7,2.9,2.10,2.11,2.12,2.13,2.14,2.15,2.16,] 	 SYMBOL:	 ARGS:
		 18: %self->impressions_count def_%v_15 %self[2.0,2.6,2.7,2.9,2.10,2.11,2.12,2.13,2.14,2.15,2.16,2.17,] 	 SYMBOL:	 ARGS:
		 19: %self->favourites_count def_%v_16 %self[2.0,2.6,2.7,2.9,2.10,2.11,2.12,2.13,2.14,2.15,2.16,2.17,2.18,] 	 SYMBOL:	 ARGS:
		 20: HASH-user_id-user-purity-tag-category-width-height-color-aspect_ratio-created_at-updated_at-views-favourites- def_%v_17 %v_3[2.6,] %v_5[2.8,] %v_6[2.9,] %v_7[2.10,] %v_8[2.11,] %v_9[2.12,] %v_10[2.13,] %v_11[2.14,] %v_12[2.15,] %v_13[2.16,] %v_14[2.17,] %v_15[2.18,] %v_16[2.19,] 
		 21: RETURN %v_17[2.20,] %self[2.0,2.6,2.7,2.9,2.10,2.11,2.12,2.13,2.14,2.15,2.16,2.17,2.18,2.19,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = should_index? instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->processing? def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->! def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 5 
	datadep: 
	instructions:
		 0: %self->approved? def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: RETURN %v_5[3.0,] %self[3.0,2.0,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: RETURN %v_4[2.7,] %self[2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = ensure_consistency! instanceMethod = false
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->connection def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: COPY TYPE_StringLiteral "
      UPDATE wallpapers SET favourites_count = (
        SELECT COUNT(*) FROM favourites WHERE favourites.wallpaper_id = wallpapers.id
      )
    " def_%v_4 
		 8: %v_3->execute def_%v_5 %v_3[2.6,] %v_4[2.7,] 	 SYMBOL:	 ARGS:%v_4,
		 9: RETURN %v_5[2.8,] %self[2.0,2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = image_storage_path instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_i 
		 6: 
		 7: (File) def_%v_3 
		 8: %self->image_uid def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 9: %self->image def_%v_5 %self[2.0,2.8,] 	 SYMBOL:	 ARGS:
		 10: %v_5->ext def_%v_6 %v_5[2.9,] 	 SYMBOL:	 ARGS:
		 11: BRANCH %v_6[2.10,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral ".jpg" def_%v_7 
		 1: COPY TYPE_PASS def_%v_6 %v_7[3.0,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: %v_3->basename def_%v_8 %v_3[2.7,] %v_4[2.8,] %v_6[3.1,2.10,] 	 SYMBOL:	 ARGS:%v_4,%v_6,
		 1: COPY TYPE_PASS def_name %v_8[4.0,] 
		 2: 
		 3: (File) def_%v_9 
		 4: %self->image_uid def_%v_10 %self[2.0,] 	 SYMBOL:	 ARGS:
		 5: %v_9->dirname def_%v_11 %v_9[4.3,] %v_10[4.4,] 	 SYMBOL:	 ARGS:%v_10,
		 6: COPY TYPE_StringLiteral "_" def_%v_12 
		 7: i->width def_%v_13 i[2.5,] 	 SYMBOL:	 ARGS:
		 8: COPY TYPE_StringLiteral "x" def_%v_14 
		 9: i->height def_%v_15 i[4.7,2.5,] 	 SYMBOL:	 ARGS:
		 10: COPY TYPE_StringLiteral "." def_%v_16 
		 11: i->format def_%v_17 i[4.7,4.9,2.5,] 	 SYMBOL:	 ARGS:
		 12: BUILDSTRING def_%v_18 name[4.1,] %v_12[4.6,] %v_13[4.7,] %v_14[4.8,] %v_15[4.9,] %v_16[4.10,] %v_17[4.11,] 
		 13: COPY TYPE_Array def_%v_19 %v_11[4.5,] %v_18[4.12,] 
		 14: COPY TYPE_StringLiteral "/" def_%v_20 
		 15: %v_19->join def_%v_21 %v_19[4.13,] %v_20[4.14,] 	 SYMBOL:	 ARGS:%v_20,
		 16: RETURN %v_21[4.15,] %self[4.4,2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = update_processing_status instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->has_thumbnails? def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: ATTRASSIGN %self->processing 
		 2: 
		 3: %self->save def_%v_4 %self[3.1,2.0,] 	 SYMBOL:	 ARGS:
		 4: RETURN %v_4[3.3,] %self[3.1,3.3,2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = has_thumbnails? instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->image def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->present? def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 5 
	datadep: 
	instructions:
		 0: %self->thumbnail_image def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_5->present? def_%v_6 %v_5[3.0,] 	 SYMBOL:	 ARGS:
		 2: RETURN %v_6[3.1,] %self[3.0,2.0,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: RETURN %v_4[2.7,] %self[2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = has_image_sizes? instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->image_width def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->present? def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 5 
	datadep: 
	instructions:
		 0: %self->image_height def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_5->present? def_%v_6 %v_5[3.0,] 	 SYMBOL:	 ARGS:
		 2: RETURN %v_6[3.1,] %self[3.0,2.0,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: RETURN %v_4[2.7,] %self[2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = check_image_gravity_changed instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->image_gravity_changed? def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: COPY TYPE_PASS def_image_gravity_changed %v_3[2.6,] 
		 8: 
		 9: def_%v_4 %v_0[2.1,] 
		 10: 
		 11: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: %self->queue_create_thumbnails def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: RETURN %v_5[3.0,] %self[3.0,2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = format instanceMethod = true
BB 1
	outgoing: 11 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->image_height def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->nil? def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: %self->image_width def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_5->nil? def_%v_6 %v_5[3.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_4 %v_6[3.1,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_4[3.2,2.7,] 
BB 5
	outgoing: 11 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_Symbol def_%v_7 
		 2: RETURN %self[2.0,] 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: 
		 1: %self->image_height def_%v_8 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %self->image_width def_%v_9 %self[6.1,2.0,] 	 SYMBOL:	 ARGS:
		 3: %v_8-><= def_%v_10 %v_8[6.1,] %v_9[6.2,] 	 SYMBOL:	 ARGS:%v_9,
		 4: BRANCH %v_10[6.3,] 
BB 7
	outgoing: 9 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_Symbol def_%v_11 
		 2: 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_Symbol def_%v_11 
BB 9
	outgoing: 11 
	datadep: 
	instructions:
		 0: RETURN %v_11[8.1,7.1,] %self[2.0,] 
BB 11
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = portrait? instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->format def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->== def_%v_4 %v_3[2.6,] 	 SYMBOL:portrait,	 ARGS:Symbol,
		 8: RETURN %v_4[2.7,] %self[2.0,2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = landscape? instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->format def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->== def_%v_4 %v_3[2.6,] 	 SYMBOL:landscape,	 ARGS:Symbol,
		 8: RETURN %v_4[2.7,] %self[2.0,2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = aspect_ratio instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->has_image_sizes? def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_Float def_factor 
		 2: 
		 3: %self->image_width def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 4: %v_4->to_f def_%v_5 %v_4[3.3,] 	 SYMBOL:	 ARGS:
		 5: %self->image_height def_%v_6 %self[3.3,2.0,] 	 SYMBOL:	 ARGS:
		 6: %v_6->to_f def_%v_7 %v_6[3.5,] 	 SYMBOL:	 ARGS:
		 7: %v_5->/ def_%v_8 %v_5[3.4,] %v_7[3.6,] 	 SYMBOL:	 ARGS:%v_7,
		 8: %v_8->* def_%v_9 %v_8[3.7,] factor[3.1,] 	 SYMBOL:	 ARGS:factor,
		 9: %v_9->floor def_%v_10 %v_9[3.8,] 	 SYMBOL:	 ARGS:
		 10: %v_10->/ def_%v_11 %v_10[3.9,] factor[3.1,] 	 SYMBOL:	 ARGS:factor,
		 11: RETURN %v_11[3.10,] %self[3.3,3.5,2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = to_s instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: COPY TYPE_StringLiteral "Wallpaper #" def_%v_3 
		 7: %self->id def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 8: BUILDSTRING def_%v_5 %v_3[2.6,] %v_4[2.7,] 
		 9: RETURN %v_5[2.8,] %self[2.0,2.7,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = queue_create_thumbnails instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (WallpaperResizerWorker) def_%v_3 
		 7: %self->id def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 8: %v_3->perform_async def_%v_5 %v_3[2.6,] %v_4[2.7,] 	 SYMBOL:	 ARGS:%v_4,
		 9: RETURN %v_5[2.8,] %self[2.0,2.7,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = set_image_hash instanceMethod = true
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 6 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->image def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->present? def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 4 5 
	datadep: 
	instructions:
		 0: (Digest) def_%v_5 
		 1: (inherit MD5) def_%v_6 %v_5[3.0,] 
		 2: %v_6[3.1,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: %v_5->const_missing def_%v_6 %v_5[3.0,] 	 SYMBOL:MD5,	 ARGS:Symbol,
BB 5
	outgoing: 8 
	datadep: 
	instructions:
		 0: %self->image def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_7->file def_%v_8 %v_7[5.0,] 	 SYMBOL:	 ARGS:
		 2: %v_6->file def_%v_9 %v_6[4.0,3.1,] %v_8[5.1,] 	 SYMBOL:	 ARGS:%v_8,
		 3: %v_9->hexdigest def_%v_10 %v_9[5.2,] 	 SYMBOL:	 ARGS:
		 4: ATTRASSIGN %self->image_hash %v_10[5.3,] 
		 5: RETURN %v_10[5.3,] %self[5.0,5.4,2.0,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = category_list instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->tags def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->where def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: HASH-category_id- def_%v_5 
		 9: %v_4->not def_%v_6 %v_4[2.7,] %v_5[2.8,] 	 SYMBOL:	 ARGS:%v_5,
		 10: %v_6->includes def_%v_7 %v_6[2.9,] 	 SYMBOL:category,	 ARGS:Symbol,
		 11: %v_7->reject def_%v_8 %v_7[2.10,] %self[2.0,2.6,] 	 SYMBOL:	 ARGS:%v_7,
CLOSURE BEGIN: tag[] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_tag 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: tag->category def_%cl_1_3 tag[2.2,] 	 SYMBOL:	 ARGS:
		 2: %cl_1_3->blank? def_%cl_1_4 %cl_1_3[3.1,] 	 SYMBOL:	 ARGS:
		 3: RETURN %cl_1_4[3.2,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_5 
		 1: def_%cl_1_6 %cl_1_5[4.0,] 
		 2: RETURN %cl_1_6[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 12: %v_8->map def_%v_9 %v_8[2.11,] %self[2.0,2.6,] 	 SYMBOL:	 ARGS:%v_8,
CLOSURE BEGIN: tag[2.11,] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_2_0 
		 2: RECEIVEARG def_tag 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: tag->category def_%cl_2_3 tag[2.2,] 	 SYMBOL:	 ARGS:
		 2: %cl_2_3->ancestor_ids def_%cl_2_4 %cl_2_3[3.1,] 	 SYMBOL:	 ARGS:
		 3: tag->category_id def_%cl_2_5 tag[3.1,2.2,] 	 SYMBOL:	 ARGS:
		 4: %cl_2_4-><< def_%cl_2_6 %cl_2_4[3.2,] %cl_2_5[3.3,] 	 SYMBOL:	 ARGS:%cl_2_5,
		 5: RETURN %cl_2_6[3.4,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_2_7 
		 1: def_%cl_2_8 %cl_2_7[4.0,] 
		 2: RETURN %cl_2_8[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 13: %v_9->flatten def_%v_10 %v_9[2.12,] 	 SYMBOL:	 ARGS:
		 14: %v_10->uniq def_%v_11 %v_10[2.13,] 	 SYMBOL:	 ARGS:
		 15: COPY TYPE_PASS def_category_ids %v_11[2.14,] 
		 16: 
		 17: (Category) def_%v_12 
		 18: HASH-id- def_%v_13 %v_11[2.14,] 
		 19: %v_12->where def_%v_14 %v_12[2.17,] %v_13[2.18,] 	 SYMBOL:	 ARGS:%v_13,
		 20: %v_14->pluck def_%v_15 %v_14[2.19,] 	 SYMBOL:name,	 ARGS:Symbol,
		 21: RETURN %v_15[2.20,] %self[2.0,2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = tag_list instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->cached_tag_list def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->presence def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 5 
	datadep: 
	instructions:
		 0: %self->tags def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_5->pluck def_%v_6 %v_5[3.0,] 	 SYMBOL:name,	 ARGS:Symbol,
		 2: RETURN %v_6[3.1,] %self[3.0,2.0,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: RETURN %v_4[2.7,] %self[2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = tag_list_text instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVECONSTARG def_glue 
		 6: glue[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral ", " def_%v_3 
		 1: COPY TYPE_PASS def_glue %v_3[3.0,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: 
		 1: %self->tag_list def_%v_4 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_4->join def_%v_5 %v_4[4.1,] glue[3.1,2.5,] 	 SYMBOL:	 ARGS:glue,
		 3: RETURN %v_5[4.2,] %self[4.1,2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = set_cached_tag_list instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->tags def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->pluck def_%v_4 %v_3[2.6,] 	 SYMBOL:name,	 ARGS:Symbol,
		 8: ATTRASSIGN %self->cached_tag_list %v_4[2.7,] 
		 9: RETURN %v_4[2.7,] %self[2.0,2.6,2.8,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = cache_tag_list instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->set_cached_tag_list def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: 
		 8: %self->save def_%v_4 %self[2.0,2.6,] 	 SYMBOL:	 ARGS:
		 9: RETURN %v_4[2.8,] %self[2.0,2.6,2.8,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = queue_notify_subscribers instanceMethod = true
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: (NotifySubscribers) def_%v_3 
		 7: COPY TYPE_StringLiteral "User" def_%v_4 
		 8: %self->user_id def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 9: %self->id def_%v_6 %self[2.0,2.8,] 	 SYMBOL:	 ARGS:
		 10: %self->persisted? def_%v_7 %self[2.0,2.8,2.9,] 	 SYMBOL:	 ARGS:
		 11: BRANCH %v_7[2.10,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: %self->approved? def_%v_8 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: COPY TYPE_PASS def_%v_7 %v_8[3.0,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: %v_3->perform_async def_%v_9 %v_3[2.6,] %v_4[2.7,] %v_5[2.8,] %v_6[2.9,] %v_7[3.1,2.10,] 	 SYMBOL:	 ARGS:%v_4,%v_5,%v_6,%v_7,
		 1: RETURN %v_9[4.0,] %self[2.0,] 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = merge_to instanceMethod = true
BB 1
	outgoing: 9 2 
	datadep: 
	instructions:
BB 2
	outgoing: 4 5 7 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_other_wallpaper 
		 6: 
		 7: %self->== def_%v_3 %self[2.0,] other_wallpaper[2.5,] 	 SYMBOL:	 ARGS:other_wallpaper,
		 8: BRANCH %v_3[2.7,] 
BB 4
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: COPY TYPE_StringLiteral "Cannot merge two same wallpapers" def_%v_4 
		 1: %self->raise def_%v_5 %self[2.0,] %v_4[4.0,] 	 SYMBOL:	 ARGS:%v_4,
		 2: 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_5 
BB 6
	outgoing: 7 9 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_Array def_%v_6 
		 2: COPY TYPE_PASS def_excluded_associations %v_6[6.1,] 
		 3: 
		 4: %self->class def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 5: %v_7->reflect_on_all_associations def_%v_8 %v_7[6.4,] 	 SYMBOL:	 ARGS:
		 6: %v_8->select def_%v_9 %v_8[6.5,] %self[6.4,2.0,] 	 SYMBOL:	 ARGS:%v_8,
CLOSURE BEGIN: association[] excluded_associations[6.2,] 
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_association 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 5 6 
	datadep: 
	instructions:
		 0: 
		 1: association->options def_%cl_1_3 association[2.2,] 	 SYMBOL:	 ARGS:
		 2: %cl_1_3->[] def_%cl_1_4 %cl_1_3[3.1,] 	 SYMBOL:dependent,	 ARGS:Symbol,
		 3: %cl_1_4->== def_%cl_1_5 %cl_1_4[3.2,] 	 SYMBOL:destroy,	 ARGS:Symbol,
		 4: BRANCH %cl_1_5[3.3,] 
BB 4
	outgoing: 6 8 
	datadep: 
	instructions:
		 0: association->name def_%cl_1_6 association[2.2,] 	 SYMBOL:	 ARGS:
		 1: excluded_associations->include? def_%cl_1_7 excluded_associations[] %cl_1_6[4.0,] 	 SYMBOL:	 ARGS:%cl_1_6,
		 2: %cl_1_7->! def_%cl_1_8 %cl_1_7[4.1,] 	 SYMBOL:	 ARGS:
		 3: RETURN %cl_1_8[4.2,] %self[2.0,] 
BB 5
	outgoing: 8 
	datadep: 
	instructions:
		 0: RETURN %cl_1_5[3.3,] %self[2.0,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: def_%cl_1_9 
		 1: def_%cl_1_10 %cl_1_9[6.0,] 
		 2: RETURN %cl_1_10[6.1,] %self[2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 7: COPY TYPE_PASS def_dependent_destroy_associations %v_9[6.6,] 
		 8: 
		 9: %self->lambda def_%v_10 %self[6.4,2.0,] %self[6.4,2.0,] 	 SYMBOL:	 ARGS:%self,
CLOSURE BEGIN: association[6.6,] other_wallpaper[2.5,] record[] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_2_0 
		 2: RECEIVEARG def_association 
		 3: RECEIVEARG def_record 
		 4: COPY TYPE_CurrentScope def_%current_scope 
		 5: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: association->foreign_key def_%cl_2_3 association[2.2,] 	 SYMBOL:	 ARGS:
		 2: %cl_2_3->to_sym def_%cl_2_4 %cl_2_3[3.1,] 	 SYMBOL:	 ARGS:
		 3: other_wallpaper->id def_%cl_2_5 other_wallpaper[] 	 SYMBOL:	 ARGS:
		 4: ATTRASSIGN record->[] %cl_2_4[3.2,] %cl_2_5[3.3,] 
		 5: 
		 6: record->save def_%cl_2_6 record[3.4,2.3,] 	 SYMBOL:	 ARGS:
		 7: RETURN %cl_2_6[3.6,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_2_7 
		 1: def_%cl_2_8 %cl_2_7[4.0,] 
		 2: RETURN %cl_2_8[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: record[3.4,2.3,] 
		 10: COPY TYPE_PASS def_foreign_key_updater %v_10[6.9,] 
		 11: 
		 12: %self->class def_%v_11 %self[6.4,6.9,2.0,] 	 SYMBOL:	 ARGS:
		 13: %v_11->transaction def_%v_12 %v_11[6.12,] %self[6.4,6.9,6.12,2.0,] 	 SYMBOL:	 ARGS:%v_11,
CLOSURE BEGIN: dependent_destroy_associations[6.7,] %self[6.4,6.9,6.12,2.0,] association[6.6,6.9,] foreign_key_updater[6.10,] record[6.9,] record[6.9,] other_wallpaper[2.5,] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_3_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: dependent_destroy_associations->each def_%cl_3_3 dependent_destroy_associations[] %self[2.0,] 	 SYMBOL:	 ARGS:dependent_destroy_associations,
CLOSURE BEGIN: association[] %self[2.0,] foreign_key_updater[] record[] record[] 
BB 1
	outgoing: 12 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_4_0 
		 2: RECEIVEARG def_association 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 5 10 
	datadep: 
	instructions:
		 0: 
		 1: association->collection? def_%cl_4_3 association[2.2,] 	 SYMBOL:	 ARGS:
		 2: BRANCH %cl_4_3[3.1,] 
BB 4
	outgoing: 9 10 
	datadep: 
	instructions:
		 0: 
		 1: association->name def_%cl_4_4 association[2.2,] 	 SYMBOL:	 ARGS:
		 2: %self->send def_%cl_4_5 %self[2.0,] %cl_4_4[4.1,] 	 SYMBOL:	 ARGS:%cl_4_4,
		 3: %cl_4_5->find_each def_%cl_4_6 %cl_4_5[4.2,] %self[4.2,2.0,] 	 SYMBOL:	 ARGS:%cl_4_5,
CLOSURE BEGIN: foreign_key_updater[] association[4.1,2.2,] record[] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_5_0 
		 2: RECEIVEARG def_record 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: foreign_key_updater->call def_%cl_5_3 foreign_key_updater[] association[] record[2.2,] 	 SYMBOL:	 ARGS:association,record,
		 2: RETURN %cl_5_3[3.1,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_5_4 
		 1: def_%cl_5_5 %cl_5_4[4.0,] 
		 2: RETURN %cl_5_5[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 4: 
BB 5
	outgoing: 6 7 10 
	datadep: 
	instructions:
		 0: 
		 1: association->name def_%cl_4_7 association[2.2,] 	 SYMBOL:	 ARGS:
		 2: %self->send def_%cl_4_8 %self[2.0,] %cl_4_7[5.1,] 	 SYMBOL:	 ARGS:%cl_4_7,
		 3: COPY TYPE_PASS def_record %cl_4_8[5.2,] 
		 4: 
		 5: %cl_4_8->nil? def_%cl_4_9 %cl_4_8[5.2,] 	 SYMBOL:	 ARGS:
		 6: BRANCH %cl_4_9[5.5,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%cl_4_10 
		 1: 
BB 7
	outgoing: 8 10 
	datadep: 
	instructions:
		 0: foreign_key_updater->call def_%cl_4_11 foreign_key_updater[] association[2.2,] record[5.3,] 	 SYMBOL:	 ARGS:association,record,
		 1: COPY TYPE_PASS def_%cl_4_10 %cl_4_11[7.0,] 
BB 8
	outgoing: 12 
	datadep: 
	instructions:
		 0: RETURN %cl_4_10[7.1,6.0,] %self[2.0,] 
BB 9
	outgoing: 12 
	datadep: 
	instructions:
		 0: RETURN %cl_4_6[4.3,] %self[2.0,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: def_%cl_4_12 
		 1: def_%cl_4_13 %cl_4_12[10.0,] 
		 2: RETURN %cl_4_13[10.1,] %self[2.0,] 
BB 12
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: record[4.3,5.3,] 
		 2: 
		 3: other_wallpaper->touch def_%cl_3_4 other_wallpaper[] 	 SYMBOL:	 ARGS:
		 4: 
		 5: %self->destroy def_%cl_3_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 6: RETURN %cl_3_5[3.5,] %self[3.5,2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_3_6 
		 1: def_%cl_3_7 %cl_3_6[4.0,] 
		 2: RETURN %cl_3_7[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 14: RETURN %v_12[6.13,] %self[6.4,6.9,6.12,2.0,] 
BB 7
	outgoing: 9 
	datadep: 
	instructions:
		 0: def_%v_13 
		 1: def_%v_14 %v_13[7.0,] 
		 2: RETURN %v_14[7.1,] %self[2.0,] 
BB 9
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = set_colors instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->image_hex_color_scores def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: ATTRASSIGN %self->colors %v_3[2.6,] 
		 8: RETURN %v_3[2.6,] %self[2.0,2.6,2.7,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = image_color_scores instanceMethod = true
BB 1
	outgoing: 10 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: def_%v_4 %self[2.0,] 
		 7: COPY TYPE_PASS def_%v_3 %v_4[2.6,] 
		 8: %v_4[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: GETFIELD %self->image_color_scores def_%v_5 %self[2.0,] 
		 1: COPY TYPE_PASS def_%v_3 %v_5[3.0,] 
BB 4
	outgoing: 5 9 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.1,2.7,] 
BB 5
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: 
		 1: %self->image def_%v_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %v_6->present? def_%v_7 %v_6[5.1,] 	 SYMBOL:	 ARGS:
		 3: BRANCH %v_7[5.2,] 
BB 6
	outgoing: 10 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_8 
		 1: 
		 2: (DominantColors) def_%v_9 
		 3: %self->image def_%v_10 %self[2.0,] 	 SYMBOL:	 ARGS:
		 4: %v_10->path def_%v_11 %v_10[6.3,] 	 SYMBOL:	 ARGS:
		 5: %v_9->new def_%v_12 %v_9[6.2,] %v_11[6.4,] 	 SYMBOL:	 ARGS:%v_11,
		 6: %v_12->results def_%v_13 %v_12[6.5,] 	 SYMBOL:	 ARGS:
		 7: ATTRASSIGN %self->image_color_scores %v_13[6.6,] 
		 8: RETURN %v_13[6.6,] %self[6.3,6.7,2.0,] 
BB 7
	outgoing: 10 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 9
	outgoing: 10 
	datadep: 
	instructions:
		 0: RETURN %v_5[3.0,] %self[2.0,] 
BB 10
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = image_hex_color_scores instanceMethod = true
BB 1
	outgoing: 13 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->colors def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->present? def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 13 
	datadep: 
	instructions:
		 0: %self->colors def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: RETURN %v_5[3.0,] %self[3.0,2.0,] 
BB 4
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_6 
		 1: 
		 2: %self->image_color_scores def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: %v_7->blank? def_%v_8 %v_7[4.2,] 	 SYMBOL:	 ARGS:
		 4: BRANCH %v_8[4.3,] 
BB 6
	outgoing: 13 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 7
	outgoing: 9 10 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_9 
		 1: 
		 2: def_%v_11 %self[2.0,] 
		 3: COPY TYPE_PASS def_%v_10 %v_11[7.2,] 
		 4: %v_11[7.2,] 
BB 9
	outgoing: 10 
	datadep: 
	instructions:
		 0: GETFIELD %self->image_hex_color_scores def_%v_12 %self[2.0,] 
		 1: COPY TYPE_PASS def_%v_10 %v_12[9.0,] 
BB 10
	outgoing: 11 12 
	datadep: 
	instructions:
		 0: BRANCH %v_10[9.1,7.3,] 
BB 11
	outgoing: 13 
	datadep: 
	instructions:
		 0: %self->image_color_scores def_%v_13 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_13->map def_%v_14 %v_13[11.0,] %self[11.0,2.0,] 	 SYMBOL:	 ARGS:%v_13,
CLOSURE BEGIN: score[] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_score 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: score->[] def_%cl_1_3 score[2.2,] 	 SYMBOL:	 ARGS:Fixnum,
		 2: %cl_1_3->to_rgb def_%cl_1_4 %cl_1_3[3.1,] 	 SYMBOL:	 ARGS:
		 3: %cl_1_4->hex def_%cl_1_5 %cl_1_4[3.2,] 	 SYMBOL:	 ARGS:
		 4: 
		 5: score->[] def_%cl_1_6 score[3.1,2.2,] 	 SYMBOL:	 ARGS:Fixnum,
		 6: %cl_1_6->* def_%cl_1_7 %cl_1_6[3.5,] 	 SYMBOL:	 ARGS:Fixnum,
		 7: %cl_1_7->to_i def_%cl_1_8 %cl_1_7[3.6,] 	 SYMBOL:	 ARGS:
		 8: HASH-hex-score- def_%cl_1_9 %cl_1_5[3.3,] %cl_1_8[3.7,] 
		 9: RETURN %cl_1_9[3.8,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_10 
		 1: def_%cl_1_11 %cl_1_10[4.0,] 
		 2: RETURN %cl_1_11[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 2: ATTRASSIGN %self->image_hex_color_scores %v_14[11.1,] 
		 3: RETURN %v_14[11.1,] %self[11.0,11.2,2.0,] 
BB 12
	outgoing: 13 
	datadep: 
	instructions:
		 0: RETURN %v_12[9.0,] %self[2.0,] 
BB 13
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = image_hsv_color_scores instanceMethod = true
BB 1
	outgoing: 10 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->image_hex_color_scores def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->blank? def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 10 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 4
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_5 
		 1: 
		 2: def_%v_7 %self[2.0,] 
		 3: COPY TYPE_PASS def_%v_6 %v_7[4.2,] 
		 4: %v_7[4.2,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: GETFIELD %self->image_hsv_color_scores def_%v_8 %self[2.0,] 
		 1: COPY TYPE_PASS def_%v_6 %v_8[6.0,] 
BB 7
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: BRANCH %v_6[6.1,4.3,] 
BB 8
	outgoing: 10 
	datadep: 
	instructions:
		 0: %self->image_hex_color_scores def_%v_9 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_9->map def_%v_10 %v_9[8.0,] %self[8.0,2.0,] 	 SYMBOL:	 ARGS:%v_9,
CLOSURE BEGIN: score[] color[] r[] g[] b[] max_rgb[] delta[] s[] h[] v[] 
BB 1
	outgoing: 26 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_score 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 5 24 
	datadep: 
	instructions:
		 0: 
		 1: (Color) def_%cl_1_3 
		 2: (inherit RGB) def_%cl_1_4 %cl_1_3[3.1,] 
		 3: %cl_1_4[3.2,] 
BB 4
	outgoing: 5 24 
	datadep: 
	instructions:
		 0: %cl_1_3->const_missing def_%cl_1_4 %cl_1_3[3.1,] 	 SYMBOL:RGB,	 ARGS:Symbol,
BB 5
	outgoing: 6 7 24 
	datadep: 
	instructions:
		 0: score->[] def_%cl_1_5 score[2.2,] 	 SYMBOL:hex,	 ARGS:Symbol,
		 1: %cl_1_4->by_hex def_%cl_1_6 %cl_1_4[4.0,3.2,] %cl_1_5[5.0,] 	 SYMBOL:	 ARGS:%cl_1_5,
		 2: COPY TYPE_PASS def_color %cl_1_6[5.1,] 
		 3: 
		 4: %cl_1_6->r def_%cl_1_7 %cl_1_6[5.1,] 	 SYMBOL:	 ARGS:
		 5: color->g def_%cl_1_8 color[5.2,] 	 SYMBOL:	 ARGS:
		 6: color->b def_%cl_1_9 color[5.2,5.5,] 	 SYMBOL:	 ARGS:
		 7: COPY TYPE_Array def_%cl_1_10 %cl_1_7[5.4,] %cl_1_8[5.5,] %cl_1_9[5.6,] 
		 8: COPY TYPE_PASS def_%cl_1_11 %cl_1_7[5.4,] 
		 9: COPY TYPE_PASS def_%cl_1_12 %cl_1_8[5.5,] 
		 10: COPY TYPE_PASS def_%cl_1_13 %cl_1_9[5.6,] 
		 11: COPY TYPE_PASS def_r %cl_1_7[5.4,] 
		 12: COPY TYPE_PASS def_g %cl_1_8[5.5,] 
		 13: COPY TYPE_PASS def_b %cl_1_9[5.6,] 
		 14: 
		 15: COPY TYPE_Array def_%cl_1_14 %cl_1_7[5.4,] %cl_1_8[5.5,] %cl_1_9[5.6,] 
		 16: %cl_1_14->max def_%cl_1_15 %cl_1_14[5.15,] 	 SYMBOL:	 ARGS:
		 17: COPY TYPE_PASS def_max_rgb %cl_1_15[5.16,] 
		 18: 
		 19: COPY TYPE_Array def_%cl_1_16 r[5.11,] g[5.12,] b[5.13,] 
		 20: %cl_1_16->min def_%cl_1_17 %cl_1_16[5.19,] 	 SYMBOL:	 ARGS:
		 21: COPY TYPE_PASS def_min_rgb %cl_1_17[5.20,] 
		 22: 
		 23: max_rgb->- def_%cl_1_18 max_rgb[5.17,] %cl_1_17[5.20,] 	 SYMBOL:	 ARGS:min_rgb,
		 24: COPY TYPE_PASS def_delta %cl_1_18[5.23,] 
		 25: 
		 26: max_rgb->* def_%cl_1_19 max_rgb[5.17,5.23,] 	 SYMBOL:	 ARGS:Fixnum,
		 27: COPY TYPE_PASS def_v %cl_1_19[5.26,] 
		 28: 
		 29: max_rgb->== def_%cl_1_20 max_rgb[5.17,5.23,5.26,] 	 SYMBOL:	 ARGS:Float,
		 30: BRANCH %cl_1_20[5.29,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_Float def_s 
		 2: COPY TYPE_Float def_%cl_1_21 
		 3: 
BB 7
	outgoing: 8 24 
	datadep: 
	instructions:
		 0: 
		 1: delta->/ def_%cl_1_22 delta[5.24,] max_rgb[5.17,] 	 SYMBOL:	 ARGS:max_rgb,
		 2: %cl_1_22->* def_%cl_1_23 %cl_1_22[7.1,] 	 SYMBOL:	 ARGS:Fixnum,
		 3: COPY TYPE_PASS def_s %cl_1_23[7.2,] 
		 4: COPY TYPE_PASS def_%cl_1_21 %cl_1_23[7.2,] 
BB 8
	outgoing: 9 10 24 
	datadep: 
	instructions:
		 0: 
		 1: s->== def_%cl_1_24 s[7.3,6.1,] 	 SYMBOL:	 ARGS:Float,
		 2: BRANCH %cl_1_24[8.1,] 
BB 9
	outgoing: 23 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_Float def_h 
		 2: COPY TYPE_Float def_%cl_1_25 
		 3: 
BB 10
	outgoing: 11 12 24 
	datadep: 
	instructions:
		 0: 
		 1: r->== def_%cl_1_26 r[5.11,] max_rgb[5.17,] 	 SYMBOL:	 ARGS:max_rgb,
		 2: BRANCH %cl_1_26[10.1,] 
BB 11
	outgoing: 19 24 
	datadep: 
	instructions:
		 0: 
		 1: g->- def_%cl_1_27 g[5.12,] b[5.13,] 	 SYMBOL:	 ARGS:b,
		 2: %cl_1_27->/ def_%cl_1_28 %cl_1_27[11.1,] delta[5.24,] 	 SYMBOL:	 ARGS:delta,
		 3: COPY TYPE_PASS def_h %cl_1_28[11.2,] 
		 4: 
BB 12
	outgoing: 13 14 24 
	datadep: 
	instructions:
		 0: 
		 1: g->== def_%cl_1_29 g[5.12,] max_rgb[5.17,] 	 SYMBOL:	 ARGS:max_rgb,
		 2: BRANCH %cl_1_29[12.1,] 
BB 13
	outgoing: 18 24 
	datadep: 
	instructions:
		 0: 
		 1: b->- def_%cl_1_30 b[5.13,] r[5.11,] 	 SYMBOL:	 ARGS:r,
		 2: %cl_1_30->/ def_%cl_1_31 %cl_1_30[13.1,] delta[5.24,] 	 SYMBOL:	 ARGS:delta,
		 3: %cl_1_31->+ def_%cl_1_32 %cl_1_31[13.2,] 	 SYMBOL:	 ARGS:%cl_1_31,
		 4: COPY TYPE_PASS def_h %cl_1_32[13.3,] 
		 5: 
BB 14
	outgoing: 15 16 24 
	datadep: 
	instructions:
		 0: 
		 1: b->== def_%cl_1_33 b[5.13,] max_rgb[5.17,] 	 SYMBOL:	 ARGS:max_rgb,
		 2: BRANCH %cl_1_33[14.1,] 
BB 15
	outgoing: 17 24 
	datadep: 
	instructions:
		 0: 
		 1: r->- def_%cl_1_34 r[5.11,] g[5.12,] 	 SYMBOL:	 ARGS:g,
		 2: %cl_1_34->/ def_%cl_1_35 %cl_1_34[15.1,] delta[5.24,] 	 SYMBOL:	 ARGS:delta,
		 3: %cl_1_35->+ def_%cl_1_36 %cl_1_35[15.2,] 	 SYMBOL:	 ARGS:%cl_1_35,
		 4: COPY TYPE_PASS def_h %cl_1_36[15.3,] 
		 5: 
BB 16
	outgoing: 17 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%cl_1_36 
BB 17
	outgoing: 18 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%cl_1_32 %cl_1_36[16.0,15.3,] 
BB 18
	outgoing: 19 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%cl_1_28 %cl_1_32[17.0,13.3,] 
BB 19
	outgoing: 20 21 24 
	datadep: 
	instructions:
		 0: 
		 1: h->* def_%cl_1_37 h[11.3,13.4,15.4,] 	 SYMBOL:	 ARGS:Float,
		 2: COPY TYPE_PASS def_h %cl_1_37[19.1,] 
		 3: 
		 4: %cl_1_37->< def_%cl_1_38 %cl_1_37[19.1,] 	 SYMBOL:	 ARGS:Fixnum,
		 5: BRANCH %cl_1_38[19.4,] 
BB 20
	outgoing: 22 24 
	datadep: 
	instructions:
		 0: h->+ def_%cl_1_39 h[19.2,] 	 SYMBOL:	 ARGS:Float,
		 1: COPY TYPE_PASS def_h %cl_1_39[20.0,] 
		 2: 
BB 21
	outgoing: 22 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%cl_1_39 
BB 22
	outgoing: 23 
	datadep: 
	instructions:
		 0: COPY TYPE_PASS def_%cl_1_25 %cl_1_39[21.0,20.0,] 
BB 23
	outgoing: 24 26 
	datadep: 
	instructions:
		 0: 
		 1: h->to_i def_%cl_1_40 h[9.1,20.1,19.2,] 	 SYMBOL:	 ARGS:
		 2: s->to_i def_%cl_1_41 s[7.3,6.1,] 	 SYMBOL:	 ARGS:
		 3: v->to_i def_%cl_1_42 v[5.27,] 	 SYMBOL:	 ARGS:
		 4: score->[] def_%cl_1_43 score[2.2,] 	 SYMBOL:score,	 ARGS:Symbol,
		 5: HASH-h-s-v-score- def_%cl_1_44 %cl_1_40[23.1,] %cl_1_41[23.2,] %cl_1_42[23.3,] %cl_1_43[23.4,] 
		 6: RETURN %cl_1_44[23.5,] %self[2.0,] 
BB 24
	outgoing: 26 
	datadep: 
	instructions:
		 0: def_%cl_1_45 
		 1: def_%cl_1_46 %cl_1_45[24.0,] 
		 2: RETURN %cl_1_46[24.1,] %self[2.0,] 
BB 26
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: r[5.11,] b[5.13,] s[7.3,6.1,] color[5.2,] v[5.27,] g[5.12,] max_rgb[5.17,] delta[5.24,] h[9.1,11.3,13.4,15.4,19.2,20.1,] min_rgb[5.21,] 
		 2: ATTRASSIGN %self->image_hsv_color_scores %v_10[8.1,] 
		 3: RETURN %v_10[8.1,] %self[8.0,8.2,2.0,] 
BB 9
	outgoing: 10 
	datadep: 
	instructions:
		 0: RETURN %v_8[6.0,] %self[2.0,] 
BB 10
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = resizable_resolutions instanceMethod = true
BB 1
	outgoing: 7 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: def_%v_4 %self[2.0,] 
		 7: COPY TYPE_PASS def_%v_3 %v_4[2.6,] 
		 8: %v_4[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: GETFIELD %self->resizable_resolutions def_%v_5 %self[2.0,] 
		 1: COPY TYPE_PASS def_%v_3 %v_5[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.1,2.7,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: (WallpaperResolutions) def_%v_6 
		 1: %v_6->new def_%v_7 %v_6[5.0,] %self[2.0,] 	 SYMBOL:	 ARGS:%self,
		 2: ATTRASSIGN %self->resizable_resolutions %v_7[5.1,] 
		 3: RETURN %v_7[5.1,] %self[5.2,2.0,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: RETURN %v_5[3.0,] %self[2.0,] 
BB 7
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = resize_image_to instanceMethod = true
BB 1
	outgoing: 13 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_screen_resolution 
		 6: def_check_inclusion 
		 7: check_inclusion[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: COPY TYPE_Boolean def_check_inclusion 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: (ScreenResolution) def_%v_3 
		 2: screen_resolution->is_a? def_%v_4 screen_resolution[2.5,] %v_3[4.1,] 	 SYMBOL:	 ARGS:%v_3,
		 3: BRANCH %v_4[4.2,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_5 
		 1: 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: (ArgumentError) def_%v_6 
		 1: COPY TYPE_StringLiteral "Argument is not an instance of ScreenResolution" def_%v_7 
		 2: %self->raise def_%v_8 %self[2.0,] %v_6[6.0,] %v_7[6.1,] 	 SYMBOL:	 ARGS:%v_6,%v_7,
		 3: COPY TYPE_PASS def_%v_5 %v_8[6.2,] 
BB 7
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: 
		 1: COPY TYPE_PASS def_%v_9 check_inclusion[3.0,2.6,] 
		 2: BRANCH check_inclusion[3.0,2.6,] 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: %self->resizable_resolutions def_%v_10 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_10->include? def_%v_11 %v_10[8.0,] screen_resolution[2.5,] 	 SYMBOL:	 ARGS:screen_resolution,
		 2: %v_11->! def_%v_12 %v_11[8.1,] 	 SYMBOL:	 ARGS:
		 3: COPY TYPE_PASS def_%v_9 %v_12[8.2,] 
BB 9
	outgoing: 10 11 
	datadep: 
	instructions:
		 0: BRANCH %v_9[8.3,7.1,] 
BB 10
	outgoing: 13 
	datadep: 
	instructions:
		 0: 
		 1: RETURN %self[2.0,] 
BB 11
	outgoing: 13 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_13 
		 1: 
		 2: %self->image def_%v_14 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: screen_resolution->to_geometry_s def_%v_15 screen_resolution[2.5,] 	 SYMBOL:	 ARGS:
		 4: COPY TYPE_StringLiteral "#" def_%v_16 
		 5: %self->image_gravity def_%v_17 %self[11.2,2.0,] 	 SYMBOL:	 ARGS:
		 6: BUILDSTRING def_%v_18 %v_15[11.3,] %v_16[11.4,] %v_17[11.5,] 
		 7: %v_14->thumb def_%v_19 %v_14[11.2,] %v_18[11.6,] 	 SYMBOL:	 ARGS:%v_18,
		 8: ATTRASSIGN %self->resized_image %v_19[11.7,] 
		 9: 
		 10: ATTRASSIGN %self->resized_image_resolution screen_resolution[11.3,2.5,] 
		 11: 
		 12: RETURN %self[11.2,11.5,11.8,11.10,2.0,] 
BB 13
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = original_image_resolution instanceMethod = true
BB 1
	outgoing: 7 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: def_%v_4 %self[2.0,] 
		 7: COPY TYPE_PASS def_%v_3 %v_4[2.6,] 
		 8: %v_4[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: GETFIELD %self->original_image_resolution def_%v_5 %self[2.0,] 
		 1: COPY TYPE_PASS def_%v_3 %v_5[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.1,2.7,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: (ScreenResolution) def_%v_6 
		 1: %self->image_width def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: %self->image_height def_%v_8 %self[5.1,2.0,] 	 SYMBOL:	 ARGS:
		 3: HASH-width-height- def_%v_9 %v_7[5.1,] %v_8[5.2,] 
		 4: %v_6->new def_%v_10 %v_6[5.0,] %v_9[5.3,] 	 SYMBOL:	 ARGS:%v_9,
		 5: ATTRASSIGN %self->original_image_resolution %v_10[5.4,] 
		 6: RETURN %v_10[5.4,] %self[5.1,5.2,5.5,2.0,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: RETURN %v_5[3.0,] %self[2.0,] 
BB 7
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = requested_image_resolution instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->resized_image_resolution def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->nil? def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_5 
		 1: 
		 2: %self->original_image_resolution def_%v_7 %self[2.0,] 	 SYMBOL:	 ARGS:
		 3: RETURN %v_7[3.2,] %self[3.2,2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: %self->resized_image_resolution def_%v_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: RETURN %v_6[4.0,] %self[4.0,2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = new_with_editing_user instanceMethod = true
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_attributes 
		 6: RECEIVEARG def_editing_user 
		 7: 
		 8: %self->new def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 9: %v_3->tap def_%v_4 %v_3[2.8,] %self[2.0,2.8,] 	 SYMBOL:	 ARGS:%v_3,
CLOSURE BEGIN: obj[] editing_user[2.6,] attributes[2.5,] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: RECEIVEARG def_obj 
		 3: COPY TYPE_CurrentScope def_%current_scope 
		 4: COPY TYPE_ScopeModule def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: ATTRASSIGN obj->editing_user editing_user[] 
		 2: 
		 3: ATTRASSIGN obj->attributes attributes[] 
		 4: RETURN attributes[] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_3 
		 1: def_%cl_1_4 %cl_1_3[4.0,] 
		 2: RETURN %cl_1_4[4.1,] %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END: 
		 10: RETURN %v_4[2.9,] %self[2.0,2.8,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = set_wallpaper_tag_added_by_user instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: RECEIVEARG def_wallpaper_tag 
		 6: 
		 7: %self->editing_user def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 8: %v_3->nil? def_%v_4 %v_3[2.7,] 	 SYMBOL:	 ARGS:
		 9: BRANCH %v_4[2.8,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: COPY TYPE_Nil def_%v_5 
		 1: RETURN %v_5[3.0,] %self[2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: %self->editing_user def_%v_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: ATTRASSIGN wallpaper_tag->added_by %v_6[4.0,] 
		 2: RETURN %v_6[4.0,] %self[4.0,2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = check_minimum_two_tags instanceMethod = true
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->tag_ids def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->count def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: %v_4->< def_%v_5 %v_4[2.7,] 	 SYMBOL:	 ARGS:Fixnum,
		 9: BRANCH %v_5[2.8,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: %self->errors def_%v_6 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: COPY TYPE_StringLiteral "minimum of two tags are required" def_%v_7 
		 2: %v_6->add def_%v_8 %v_6[3.0,] %v_7[3.1,] 	 SYMBOL:tags,	 ARGS:Symbol,%v_7,
		 3: RETURN %v_8[3.2,] %self[3.0,2.0,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = check_duplicate_image_hash instanceMethod = true
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->image_hash def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->present? def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: %self->class def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_5->where def_%v_6 %v_5[3.0,] 	 SYMBOL:	 ARGS:
		 2: %self->id def_%v_7 %self[3.0,2.0,] 	 SYMBOL:	 ARGS:
		 3: HASH-id- def_%v_8 %v_7[3.2,] 
		 4: %v_6->not def_%v_9 %v_6[3.1,] %v_8[3.3,] 	 SYMBOL:	 ARGS:%v_8,
		 5: %self->image_hash def_%v_10 %self[3.0,3.2,2.0,] 	 SYMBOL:	 ARGS:
		 6: HASH-image_hash- def_%v_11 %v_10[3.5,] 
		 7: %v_9->where def_%v_12 %v_9[3.4,] %v_11[3.6,] 	 SYMBOL:	 ARGS:%v_11,
		 8: %v_12->first def_%v_13 %v_12[3.7,] 	 SYMBOL:	 ARGS:
		 9: COPY TYPE_PASS def_duplicate %v_13[3.8,] 
		 10: COPY TYPE_PASS def_%v_4 %v_13[3.8,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_4[3.10,2.7,] 
BB 5
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: %self->errors def_%v_14 %self[2.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_StringLiteral "has already been uploaded (" def_%v_15 
		 3: COPY TYPE_StringLiteral ")" def_%v_16 
		 4: BUILDSTRING def_%v_17 %v_15[5.2,] duplicate[3.9,] %v_16[5.3,] 
		 5: %v_14->add def_%v_18 %v_14[5.1,] %v_17[5.4,] 	 SYMBOL:image,	 ARGS:Symbol,%v_17,
		 6: RETURN %v_18[5.5,] %self[5.1,2.0,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = auto_approve_if_trusted_user instanceMethod = true
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: COPY TYPE_CurrentScope def_%current_scope 
		 3: COPY TYPE_ScopeModule def_%current_module 
		 4: 
		 5: 
		 6: %self->user def_%v_3 %self[2.0,] 	 SYMBOL:	 ARGS:
		 7: %v_3->staff? def_%v_4 %v_3[2.6,] 	 SYMBOL:	 ARGS:
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: %self->user def_%v_5 %self[2.0,] 	 SYMBOL:	 ARGS:
		 1: %v_5->trusted? def_%v_6 %v_5[3.0,] 	 SYMBOL:	 ARGS:
		 2: COPY TYPE_PASS def_%v_4 %v_6[3.1,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_4[3.2,2.7,] 
BB 5
	outgoing: 8 
	datadep: 
	instructions:
		 0: (Time) def_%v_7 
		 1: %v_7->now def_%v_8 %v_7[5.0,] 	 SYMBOL:	 ARGS:
		 2: ATTRASSIGN %self->approved_at %v_8[5.1,] 
		 3: RETURN %v_8[5.1,] %self[5.2,2.0,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: RETURN %self[2.0,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

