 changesets.each do |changeset| 
 link_to_revision(changeset, changeset.repository,
                            :text => "#{l(:label_revision)} #{changeset.format_identifier}") 
 if changeset.filechanges.any? && User.current.allowed_to?(:browse_repository, changeset.project) 
 link_to(l(:label_diff),
               :controller => 'repositories',
               :action => 'diff',
               :id     => changeset.project,
               :repository_id => changeset.repository.identifier_param,
               :path   => "",
               :rev    => changeset.identifier) 
 end 
 authoring(changeset.committed_on, changeset.author) 
 format_changeset_comments changeset 
 end 
