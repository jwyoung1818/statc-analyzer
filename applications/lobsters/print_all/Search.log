dir = ../applications/lobsters/
Super cannot find upper: User . as_json
######## BEGIN ########
Class: Search
Method initialize:
	 ** variables: {@q, @what, @order, @page, @per_page, @results, @total_results, }
Method max_matches:
	 ** variables: {}
	 
	 
Method persisted?:
	 ** variables: {}
Method to_url_params:
	 ** variables: {}
	 ++ CALL DB QUERY: [ :q, :what, :order ].map{|p| "#{p}=#{CGI.escape(self.send(p).to_s)}"      } . join (params: , , returnv: )
	 
	 
	 
	 
Method page_count:
	 ** variables: {total, }
	 
	 
	 
	 
	 
	 
Method search_for_user!:
	 ** variables: {opts, opts[:order, domain, words, m, self.what, story_ids, opts[:with, self.results, self.total_results, self.page, opts[:classes, query, votes, r.current_vote, r.vote, }
	 
	 
	 
	 
	 ++ CALL DB QUERY: self . order (params: , returnv: true)
	 ++ CALL DB QUERY: self . order (params: , returnv: true)
	 ++ CALL DB QUERY: self.q.to_s.split(" ").reject{|w|      if m = w.match(/^domain:(.+)$/)        domain = m[1]      end    } . join (params: , , returnv: words)
	 
	 
	 
	 
	 
	 
	 
	 ++ CALL DB QUERY: Story.select(:id) . where (params: ActiveRecord, , returnv: )
	 ++ CALL DB QUERY: Story . select (params: , , returnv: )
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 ++ CALL DB QUERY: self.results . select (params: , returnv: )
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 ++ CALL DB QUERY: self.results . select (params: , returnv: )
	 
	 
	 
	 
	 
	 
	 
	 
