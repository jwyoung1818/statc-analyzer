digraph sketch {
	n20 [label=<<i>20__ User(User)   where</i>> color=blue]; 
	n20 -> n21 [label="0"]
	n21 [label=<<i>21__ User where( session_token =) session( u) to_s)   first</i>> color=blue]; 
	n109 [label=<<i>109__ self(ApplicationController)   params</i>> color=crimson]; 
	n142 [label=<<i>142__ self lock(true) where( key =) key)   first</i>> color=blue]; 
	n143 [label=<<i>143__ self lock(true)   where</i>> color=blue]; 
	n144 [label=<<i>144__ self(Keystore)   lock</i>> color=blue]; 
	n151 [label=<<i>151__ key   where</i>> color=blue]; 
	n153 [label=<<i>153__ kv(Keystore)   save!</i>> color=blue]; 
	n184 [label=<<i>184__ traffic_kv(Keystore)   value</i>> color=darkorange]; 
	n184 -> n186 [label="0"]
	n186 [label=<<i>186__ traffic_kv(Keystore)   save!</i>> color=blue]; 
	n188 [label=<<i>188__ date_kv(Keystore)   value</i>> color=darkorange]; 
	n188 -> n190 [label="0"]
	n190 [label=<<i>190__ date_kv(Keystore)   save!</i>> color=blue]; 
	n225 [label=<<i>225__ self(CommentsController)   params</i>> color=crimson]; 
	n225 -> n228 [label="2"]
	n228 [label=<<i>228__ Comment(Comment)   where</i>> color=blue]; 
	n228 -> n229 [label="0"]
	n229 [label=<<i>229__ Comment where( short_id =) params( id))   first</i>> color=blue]; 
	n229 -> n243 [label="3"]
	n229 -> n336 [label="3"]
	n229 -> n393 [label="5"]
	n229 -> n570 [label="6"]
	n229 -> n1024 [label="6"]
	n229 -> n1113 [label="6"]
	n229 -> n1121 [label="6"]
	n229 -> n363 [label="7"]
	n229 -> n964 [label="7"]
	n243 [label=<<i>243__ Vote(Vote)   where</i>> color=blue]; 
	n243 -> n244 [label="0"]
	n244 [label=<<i>244__ Vote where( user_id =) @user id,         story_id =) comment story_id,  comment_id =) comment id)   first</i>> color=blue]; 
	n244 -> n245 [label="0"]
	n245 [label=<<i>245__ comment(Comment)   current_vote</i>> color=darkorange]; 
	n245 -> n336 [label="2"]
	n245 -> n393 [label="4"]
	n245 -> n570 [label="5"]
	n245 -> n1024 [label="5"]
	n245 -> n1113 [label="5"]
	n245 -> n1121 [label="5"]
	n245 -> n363 [label="6"]
	n245 -> n964 [label="6"]
	n308 [label=<<i>308__ self(CommentsController)   params</i>> color=crimson]; 
	n308 -> n310 [label="1"]
	n310 [label=<<i>310__ comment(Comment)   comment</i>> color=darkorange]; 
	n310 -> n336 [label="0"]
	n310 -> n393 [label="2"]
	n310 -> n570 [label="3"]
	n310 -> n1024 [label="3"]
	n310 -> n1113 [label="3"]
	n310 -> n1121 [label="3"]
	n310 -> n363 [label="4"]
	n310 -> n964 [label="4"]
	n312 [label=<<i>312__ comment(Comment)   hat_id</i>> color=darkorange]; 
	n312 -> n336 [label="0"]
	n312 -> n393 [label="2"]
	n312 -> n570 [label="3"]
	n312 -> n1024 [label="3"]
	n312 -> n1113 [label="3"]
	n312 -> n1121 [label="3"]
	n312 -> n363 [label="4"]
	n312 -> n964 [label="4"]
	n314 [label=<<i>314__ self(CommentsController)   params</i>> color=crimson]; 
	n319 [label=<<i>319__ self(CommentsController)   params</i>> color=crimson]; 
	n319 -> n322 [label="2"]
	n322 [label=<<i>322__ @user hats(Hat)   where</i>> color=blue]; 
	n326 [label=<<i>326__ self(CommentsController)   params</i>> color=crimson]; 
	n326 -> n328 [label="1"]
	n328 [label=<<i>328__ comment(Comment)   hat_id</i>> color=darkorange]; 
	n328 -> n336 [label="0"]
	n328 -> n393 [label="2"]
	n328 -> n570 [label="3"]
	n328 -> n1024 [label="3"]
	n328 -> n1113 [label="3"]
	n328 -> n1121 [label="3"]
	n328 -> n363 [label="4"]
	n328 -> n964 [label="4"]
	n332 [label=<<i>332__ self(CommentsController)   params</i>> color=crimson]; 
	n336 [label=<<i>336__ comment(Comment)   save</i>> color=blue]; 
	n363 [label=<<i>363__ self(Vote)   where</i>> color=blue]; 
	n363 -> n393 [label="4"]
	n393 [label=<<i>393__ comment(Comment)   current_vote</i>> color=darkorange]; 
	n393 -> n570 [label="3"]
	n393 -> n1024 [label="3"]
	n393 -> n1113 [label="3"]
	n393 -> n1121 [label="3"]
	n393 -> n964 [label="4"]
	n570 [label=<<i>570__ obj current_vote   try</i>> color=blue]; 
	n964 [label=<<i>964__ Vote(Vote)   where</i>> color=blue]; 
	n1024 [label=<<i>1024__ r_counts keys sort map{|k|      k == "" ? "+#{r_counts(k)}"   "#{r_counts(k)} #{VoteCOMMENT_REASONS(k)}"    }   join</i>> color=blue]; 
	n1113 [label=<<i>1113__ self moderation try( moderator)   try</i>> color=blue]; 
	n1113 -> n1114 [label="0"]
	n1114 [label=<<i>1114__ self moderation try( moderator)   try</i>> color=blue]; 
	n1121 [label=<<i>1121__ self moderation try( moderator)   try</i>> color=blue]; 
	n1144 [label=<<i>1144__ comment(Comment)   current_vote</i>> color=darkorange]; 
}