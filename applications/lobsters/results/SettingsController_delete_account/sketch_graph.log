digraph sketch {
	n20 [label=<<i>20__ User(User)   where</i>> color=blue]; 
	n20 -> n21 [label="0"]
	n21 [label=<<i>21__ User where( session_token =) session( u) to_s)   first</i>> color=blue]; 
	n109 [label=<<i>109__ self(ApplicationController)   params</i>> color=crimson]; 
	n142 [label=<<i>142__ self lock(true) where( key =) key)   first</i>> color=blue]; 
	n143 [label=<<i>143__ self lock(true)   where</i>> color=blue]; 
	n144 [label=<<i>144__ self(Keystore)   lock</i>> color=blue]; 
	n151 [label=<<i>151__ key   where</i>> color=blue]; 
	n153 [label=<<i>153__ kv(Keystore)   save!</i>> color=blue]; 
	n184 [label=<<i>184__ traffic_kv(Keystore)   value</i>> color=darkorange]; 
	n184 -> n186 [label="0"]
	n186 [label=<<i>186__ traffic_kv(Keystore)   save!</i>> color=blue]; 
	n188 [label=<<i>188__ date_kv(Keystore)   value</i>> color=darkorange]; 
	n188 -> n190 [label="0"]
	n190 [label=<<i>190__ date_kv(Keystore)   save!</i>> color=blue]; 
	n247 [label=<<i>247__ self(SettingsController)   params</i>> color=crimson]; 
	n247 -> n251 [label="3"]
	n251 [label=<<i>251__ @user(User)   try</i>> color=blue]; 
	n291 [label=<<i>291__ Comment(Comment)   record_timestamps</i>> color=darkorange]; 
	n293 [label=<<i>293__ self(Comment)   is_deleted</i>> color=darkorange]; 
	n293 -> n677 [label="0"]
	n293 -> n310 [label="1"]
	n293 -> n817 [label="3"]
	n293 -> n722 [label="6"]
	n293 -> n704 [label="7"]
	n293 -> n854 [label="7"]
	n293 -> n889 [label="8"]
	n293 -> n709 [label="9"]
	n303 [label=<<i>303__ self(Comment)   is_moderated</i>> color=darkorange]; 
	n303 -> n677 [label="0"]
	n303 -> n310 [label="1"]
	n303 -> n817 [label="3"]
	n303 -> n722 [label="6"]
	n303 -> n704 [label="7"]
	n303 -> n854 [label="7"]
	n303 -> n889 [label="8"]
	n303 -> n709 [label="9"]
	n310 [label=<<i>310__ m(Moderation)   comment_id</i>> color=darkorange]; 
	n310 -> n672 [label="0"]
	n310 -> n671 [label="3"]
	n310 -> n477 [label="4"]
	n310 -> n479 [label="4"]
	n310 -> n539 [label="9"]
	n310 -> n452 [label="11"]
	n310 -> n451 [label="11"]
	n313 [label=<<i>313__ m(Moderation)   moderator_user_id</i>> color=darkorange]; 
	n313 -> n672 [label="0"]
	n313 -> n671 [label="3"]
	n313 -> n477 [label="4"]
	n313 -> n479 [label="4"]
	n313 -> n539 [label="9"]
	n313 -> n452 [label="11"]
	n313 -> n451 [label="11"]
	n316 [label=<<i>316__ m(Moderation)   action</i>> color=darkorange]; 
	n316 -> n672 [label="0"]
	n316 -> n671 [label="3"]
	n316 -> n477 [label="4"]
	n316 -> n479 [label="4"]
	n316 -> n539 [label="9"]
	n316 -> n452 [label="11"]
	n316 -> n451 [label="11"]
	n451 [label=<<i>451__ self received_messages unread   count</i>> color=blue]; 
	n451 -> n452 [label="0"]
	n452 [label=<<i>452__ Keystore(Keystore)   put</i>> color=blue]; 
	n477 [label=<<i>477__ recipient   where</i>> color=blue]; 
	n479 [label=<<i>479__ recipient   where</i>> color=blue]; 
	n539 [label=<<i>539__ self(Message)   short_id</i>> color=darkorange]; 
	n671 [label=<<i>671__ m(Message)   save</i>> color=blue]; 
	n672 [label=<<i>672__ m(Moderation)   save</i>> color=blue]; 
	n677 [label=<<i>677__ m(Moderation)   save</i>> color=blue]; 
	n677 -> n817 [label="3"]
	n677 -> n722 [label="6"]
	n677 -> n704 [label="7"]
	n677 -> n854 [label="7"]
	n677 -> n889 [label="8"]
	n677 -> n709 [label="9"]
	n680 [label=<<i>680__ Comment(Comment)   record_timestamps</i>> color=darkorange]; 
	n701 [label=<<i>701__ Story(Story)   select</i>> color=blue]; 
	n701 -> n704 [label="0"]
	n704 [label=<<i>704__ Story select( id)   where</i>> color=blue]; 
	n704 -> n709 [label="2"]
	n709 [label=<<i>709__ Comment(Comment)   where</i>> color=blue]; 
	n709 -> n817 [label="2"]
	n709 -> n832 [label="2"]
	n709 -> n722 [label="3"]
	n709 -> n854 [label="5"]
	n709 -> n889 [label="6"]
	n722 [label=<<i>722__ self(Comment)   order</i>> color=blue]; 
	n786 [label=<<i>786__ node(Comment)   indent_level</i>> color=darkorange]; 
	n817 [label=<<i>817__ comments(Comment)   count</i>> color=blue]; 
	n817 -> n832 [label="0"]
	n817 -> n854 [label="5"]
	n817 -> n889 [label="6"]
	n832 [label=<<i>832__ self(Story)   comments_count</i>> color=darkorange]; 
	n832 -> n854 [label="4"]
	n832 -> n889 [label="5"]
	n854 [label=<<i>854__ self tags(Tag)   select</i>> color=blue]; 
	n889 [label=<<i>889__ self comments(Comment)   where</i>> color=blue]; 
	n889 -> n890 [label="0"]
	n890 [label=<<i>890__ self comments where("user_id () ?", self user_id)   select</i>> color=blue]; 
	n998 [label=<<i>998__ m   save</i>> color=blue]; 
	n1016 [label=<<i>1016__ m   save</i>> color=blue]; 
	n1026 [label=<<i>1026__ self(User)   session_token</i>> color=darkorange]; 
	n1026 -> n1098 [label="0"]
	n1042 [label=<<i>1042__ self(User)   session_token</i>> color=darkorange]; 
	n1049 [label=<<i>1049__ self(User)   deleted_at</i>> color=darkorange]; 
	n1049 -> n1098 [label="0"]
	n1073 [label=<<i>1073__ self(User)   rss_token</i>> color=darkorange]; 
	n1091 [label=<<i>1091__ self(User)   mailing_list_token</i>> color=darkorange]; 
	n1098 [label=<<i>1098__ self(User)   save!</i>> color=blue]; 
}