digraph sketch {
	n20 [label=<<i>20__ User(User)   where</i>> color=blue]; 
	n20 -> n21 [label="0"]
	n21 [label=<<i>21__ User where( session_token =) session( u) to_s)   first</i>> color=blue]; 
	n109 [label=<<i>109__ self(ApplicationController)   params</i>> color=crimson]; 
	n142 [label=<<i>142__ self lock(true) where( key =) key)   first</i>> color=blue]; 
	n143 [label=<<i>143__ self lock(true)   where</i>> color=blue]; 
	n144 [label=<<i>144__ self(Keystore)   lock</i>> color=blue]; 
	n151 [label=<<i>151__ key   where</i>> color=blue]; 
	n153 [label=<<i>153__ kv(Keystore)   save!</i>> color=blue]; 
	n184 [label=<<i>184__ traffic_kv(Keystore)   value</i>> color=darkorange]; 
	n184 -> n186 [label="0"]
	n186 [label=<<i>186__ traffic_kv(Keystore)   save!</i>> color=blue]; 
	n188 [label=<<i>188__ date_kv(Keystore)   value</i>> color=darkorange]; 
	n188 -> n190 [label="0"]
	n190 [label=<<i>190__ date_kv(Keystore)   save!</i>> color=blue]; 
	n226 [label=<<i>226__ self(ApplicationController)   params</i>> color=crimson]; 
	n234 [label=<<i>234__ self(ApplicationController)   params</i>> color=crimson]; 
	n234 -> n238 [label="3"]
	n238 [label=<<i>238__ User(User)   where</i>> color=blue]; 
	n238 -> n239 [label="0"]
	n239 [label=<<i>239__ User where( rss_token =) params( token) to_s)   first</i>> color=blue]; 
	n284 [label=<<i>284__ self(CommentsController)   params</i>> color=crimson]; 
	n290 [label=<<i>290__ self(CommentsController)   params</i>> color=crimson]; 
	n290 -> n406 [label="5"]
	n290 -> n361 [label="6"]
	n290 -> n310 [label="8"]
	n299 [label=<<i>299__ Comment(Comment)   where</i>> color=blue]; 
	n299 -> n301 [label="0"]
	n301 [label=<<i>301__ Comment where(       is_deleted =) false,  is_moderated =) false    )   order</i>> color=blue]; 
	n301 -> n310 [label="2"]
	n310 [label=<<i>310__ Comment where(       is_deleted =) false,  is_moderated =) false    ) order(      "created_at DESC"    ) offset(      (@page - 1) * COMMENTS_PER_PAGE    ) limit(      COMMENTS_PER_PAGE    )   includes</i>> color=blue]; 
	n310 -> n406 [label="3"]
	n310 -> n361 [label="4"]
	n361 [label=<<i>361__ self(Vote)   where</i>> color=blue]; 
	n361 -> n406 [label="5"]
	n406 [label=<<i>406__ c(Comment)   current_vote</i>> color=darkorange]; 
	n523 [label=<<i>523__ self(CommentsController)   params</i>> color=crimson]; 
}