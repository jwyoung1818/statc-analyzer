User where <User,SELECT>
TBLREADRECORD  User [2,0,0,3]
TBLWRITERECORD  User [0,0,0] Fields  []
User where( session_token => session[ u] to_s) first <,SELECT>
self lock(true) where( key => key) first <Keystore,SELECT> (c)
self lock(true) where <Keystore,SELECT> (c)
self lock <Keystore,TRANSACTION> (c)
TBLWRITERECORD  Keystore [0,0,1] Fields  []
key where <Keystore,SELECT> (c)
kv save! <Keystore,INSERT> (c)
TBLWRITERECORD  Keystore [0,0,1] Fields  []
traffic_kv save! <Keystore,INSERT> (c)
TBLWRITERECORD  Keystore [0,0,1] Fields  [value,]
date_kv save! <Keystore,INSERT> (c)
TBLWRITERECORD  Keystore [0,0,1] Fields  [value,]
Comment where <Comment,SELECT>
TBLREADRECORD  Comment [6,0,4,7]
TBLWRITERECORD  Comment [0,1,0] Fields  []
Comment where( short_id => params[ id]) first <,SELECT>
Vote where <Vote,SELECT>
TBLREADRECORD  Vote [2,0,4,6]
TBLWRITERECORD  Vote [1,0,0] Fields  []
Vote where( user_id => @user id,         story_id => comment story_id,  comment_id => comment id) first <,SELECT>
comment new_record? <Comment,INSERT> (v) (c)
TBLWRITERECORD  Comment [0,0,0] Fields  []

STATS query in total  14
STATS query total on single path: 14
STATS read query on single path: 9
STATS write query on single path: 5
STATS query in view  1
STATS query in closure  8
STATS branch depend on query result  13
STATS branch total  28
STATS read queries  9
STATS read to read query  14
STATS read to write query  0
STATS read to view  16
STATS read to branch  32
STATS materialized query  2
STATS write queries  14
STATS write from user input  1
STATS write from other queries  4
STATS write from const  7
