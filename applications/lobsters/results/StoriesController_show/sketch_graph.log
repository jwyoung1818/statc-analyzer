digraph sketch {
	n20 [label=<<i>20__ User(User)   where</i>> color=blue]; 
	n20 -> n21 [label="0"]
	n21 [label=<<i>21__ User where( session_token =) session( u) to_s)   first</i>> color=blue]; 
	n109 [label=<<i>109__ self(ApplicationController)   params</i>> color=crimson]; 
	n142 [label=<<i>142__ self lock(true) where( key =) key)   first</i>> color=blue]; 
	n143 [label=<<i>143__ self lock(true)   where</i>> color=blue]; 
	n144 [label=<<i>144__ self(Keystore)   lock</i>> color=blue]; 
	n151 [label=<<i>151__ key   where</i>> color=blue]; 
	n153 [label=<<i>153__ kv(Keystore)   save!</i>> color=blue]; 
	n184 [label=<<i>184__ traffic_kv(Keystore)   value</i>> color=darkorange]; 
	n184 -> n186 [label="0"]
	n186 [label=<<i>186__ traffic_kv(Keystore)   save!</i>> color=blue]; 
	n188 [label=<<i>188__ date_kv(Keystore)   value</i>> color=darkorange]; 
	n188 -> n190 [label="0"]
	n190 [label=<<i>190__ date_kv(Keystore)   save!</i>> color=blue]; 
	n217 [label=<<i>217__ self(StoriesController)   params</i>> color=crimson]; 
	n217 -> n220 [label="2"]
	n220 [label=<<i>220__ Story(Story)   where</i>> color=blue]; 
	n220 -> n221 [label="0"]
	n221 [label=<<i>221__ Story where( short_id =) params( id))   first!</i>> color=blue]; 
	n221 -> n402 [label="3"]
	n221 -> n394 [label="6"]
	n221 -> n399 [label="8"]
	n391 [label=<<i>391__ Story(Story)   select</i>> color=blue]; 
	n391 -> n394 [label="0"]
	n394 [label=<<i>394__ Story select( id)   where</i>> color=blue]; 
	n394 -> n399 [label="2"]
	n399 [label=<<i>399__ Comment(Comment)   where</i>> color=blue]; 
	n399 -> n507 [label="3"]
	n399 -> n415 [label="4"]
	n402 [label=<<i>402__ @story merged_comments   includes</i>> color=blue]; 
	n402 -> n507 [label="1"]
	n402 -> n415 [label="2"]
	n415 [label=<<i>415__ self(Comment)   order</i>> color=blue]; 
	n479 [label=<<i>479__ node(Comment)   indent_level</i>> color=darkorange]; 
	n507 [label=<<i>507__ @story(Story)   comments</i>> color=darkorange]; 
	n509 [label=<<i>509__ self(StoriesController)   params</i>> color=crimson]; 
	n524 [label=<<i>524__ self(StoriesController)   params</i>> color=crimson]; 
	n529 [label=<<i>529__ c(Comment)   highlighted</i>> color=darkorange]; 
	n580 [label=<<i>580__ Vote(Vote)   where</i>> color=blue]; 
	n580 -> n581 [label="0"]
	n581 [label=<<i>581__ Vote where( user_id =) @user id,  story_id =) @story id,       comment_id =) nil)   first</i>> color=blue]; 
	n581 -> n589 [label="3"]
	n589 [label=<<i>589__ @story(Story)   vote</i>> color=darkorange]; 
	n609 [label=<<i>609__ HiddenStory(HiddenStory)   where</i>> color=blue]; 
	n609 -> n610 [label="0"]
	n610 [label=<<i>610__ HiddenStory where( user_id =) user id,  story_id =) self id)   first</i>> color=blue]; 
	n615 [label=<<i>615__ @story(Story)   is_hidden_by_cur_user</i>> color=darkorange]; 
	n638 [label=<<i>638__ Vote where(       user_id =) user_id,  story_id =) story_id    )   where</i>> color=blue]; 
	n638 -> n640 [label="0"]
	n640 [label=<<i>640__ Vote where(       user_id =) user_id,  story_id =) story_id    )   where</i>> color=blue]; 
	n681 [label=<<i>681__ c(Comment)   current_vote</i>> color=darkorange]; 
	n918 [label=<<i>918__ k values   first</i>> color=blue]; 
	n924 [label=<<i>924__ k keys   first</i>> color=blue]; 
	n926 [label=<<i>926__ k values   first</i>> color=blue]; 
	n932 [label=<<i>932__ k keys   first</i>> color=blue]; 
	n934 [label=<<i>934__ k values   first</i>> color=blue]; 
}