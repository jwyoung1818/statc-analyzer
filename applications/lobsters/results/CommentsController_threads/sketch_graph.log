digraph sketch {
	n20 [label=<<i>20__ User(User)   where</i>> color=blue]; 
	n20 -> n21 [label="0"]
	n21 [label=<<i>21__ User where( session_token =) session( u) to_s)   first</i>> color=blue]; 
	n109 [label=<<i>109__ self(ApplicationController)   params</i>> color=crimson]; 
	n142 [label=<<i>142__ self lock(true) where( key =) key)   first</i>> color=blue]; 
	n143 [label=<<i>143__ self lock(true)   where</i>> color=blue]; 
	n144 [label=<<i>144__ self(Keystore)   lock</i>> color=blue]; 
	n151 [label=<<i>151__ key   where</i>> color=blue]; 
	n153 [label=<<i>153__ kv(Keystore)   save!</i>> color=blue]; 
	n184 [label=<<i>184__ traffic_kv(Keystore)   value</i>> color=darkorange]; 
	n184 -> n186 [label="0"]
	n186 [label=<<i>186__ traffic_kv(Keystore)   save!</i>> color=blue]; 
	n188 [label=<<i>188__ date_kv(Keystore)   value</i>> color=darkorange]; 
	n188 -> n190 [label="0"]
	n190 [label=<<i>190__ date_kv(Keystore)   save!</i>> color=blue]; 
	n216 [label=<<i>216__ self(CommentsController)   params</i>> color=crimson]; 
	n221 [label=<<i>221__ self(CommentsController)   params</i>> color=crimson]; 
	n221 -> n224 [label="2"]
	n221 -> n473 [label="6"]
	n224 [label=<<i>224__ User(User)   where</i>> color=blue]; 
	n224 -> n225 [label="0"]
	n225 [label=<<i>225__ User where( username =) params( user))   first!</i>> color=blue]; 
	n225 -> n473 [label="3"]
	n225 -> n284 [label="4"]
	n225 -> n298 [label="4"]
	n225 -> n273 [label="5"]
	n225 -> n414 [label="5"]
	n273 [label=<<i>273__ self comments(Comment)   group</i>> color=blue]; 
	n273 -> n275 [label="0"]
	n275 [label=<<i>275__ self comments group( thread_id)   order</i>> color=blue]; 
	n275 -> n284 [label="4"]
	n275 -> n473 [label="10"]
	n284 [label=<<i>284__ Comment(Comment)   where</i>> color=blue]; 
	n284 -> n285 [label="0"]
	n285 [label=<<i>285__ Comment where(       thread_id =) thread_ids    )   includes</i>> color=blue]; 
	n285 -> n298 [label="2"]
	n285 -> n414 [label="3"]
	n285 -> n473 [label="6"]
	n298 [label=<<i>298__ self(Comment)   order</i>> color=blue]; 
	n362 [label=<<i>362__ node(Comment)   indent_level</i>> color=darkorange]; 
	n414 [label=<<i>414__ comments map(& story_id)   uniq</i>> color=blue]; 
	n414 -> n431 [label="3"]
	n414 -> n473 [label="4"]
	n431 [label=<<i>431__ Vote where(       user_id =) user_id,  story_id =) story_id    )   where</i>> color=blue]; 
	n431 -> n433 [label="0"]
	n433 [label=<<i>433__ Vote where(       user_id =) user_id,  story_id =) story_id    )   where</i>> color=blue]; 
	n473 [label=<<i>473__ c(Comment)   current_vote</i>> color=darkorange]; 
}