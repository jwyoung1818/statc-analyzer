digraph sketch {
	n20 [label=<<i>20__ User(User)   where</i>> color=blue]; 
	n20 -> n21 [label="0"]
	n21 [label=<<i>21__ User where( session_token =) session( u) to_s)   first</i>> color=blue]; 
	n109 [label=<<i>109__ self(ApplicationController)   params</i>> color=crimson]; 
	n142 [label=<<i>142__ self lock(true) where( key =) key)   first</i>> color=blue]; 
	n143 [label=<<i>143__ self lock(true)   where</i>> color=blue]; 
	n144 [label=<<i>144__ self(Keystore)   lock</i>> color=blue]; 
	n151 [label=<<i>151__ key   where</i>> color=blue]; 
	n153 [label=<<i>153__ kv(Keystore)   save!</i>> color=blue]; 
	n184 [label=<<i>184__ traffic_kv(Keystore)   value</i>> color=darkorange]; 
	n184 -> n186 [label="0"]
	n186 [label=<<i>186__ traffic_kv(Keystore)   save!</i>> color=blue]; 
	n188 [label=<<i>188__ date_kv(Keystore)   value</i>> color=darkorange]; 
	n188 -> n190 [label="0"]
	n190 [label=<<i>190__ date_kv(Keystore)   save!</i>> color=blue]; 
	n276 [label=<<i>276__ self(UsersController)   params</i>> color=crimson]; 
	n276 -> n279 [label="2"]
	n279 [label=<<i>279__ User(User)   where</i>> color=blue]; 
	n279 -> n280 [label="0"]
	n280 [label=<<i>280__ User where( username =) params( username))   first</i>> color=blue]; 
	n280 -> n330 [label="4"]
	n280 -> n1194 [label="4"]
	n280 -> n1197 [label="4"]
	n280 -> n1177 [label="5"]
	n280 -> n756 [label="7"]
	n280 -> n1077 [label="7"]
	n280 -> n1095 [label="7"]
	n280 -> n392 [label="8"]
	n280 -> n389 [label="8"]
	n280 -> n896 [label="10"]
	n280 -> n801 [label="13"]
	n280 -> n783 [label="14"]
	n280 -> n933 [label="14"]
	n280 -> n968 [label="15"]
	n280 -> n788 [label="16"]
	n295 [label=<<i>295__ self(UsersController)   params</i>> color=crimson]; 
	n313 [label=<<i>313__ self(UsersController)   params</i>> color=crimson]; 
	n313 -> n330 [label="4"]
	n313 -> n1194 [label="4"]
	n313 -> n1197 [label="4"]
	n313 -> n1177 [label="5"]
	n313 -> n756 [label="7"]
	n313 -> n1077 [label="7"]
	n313 -> n1095 [label="7"]
	n313 -> n392 [label="8"]
	n313 -> n389 [label="8"]
	n313 -> n896 [label="10"]
	n313 -> n801 [label="13"]
	n313 -> n783 [label="14"]
	n313 -> n933 [label="14"]
	n313 -> n968 [label="15"]
	n313 -> n788 [label="16"]
	n327 [label=<<i>327__ self(User)   banned_at</i>> color=darkorange]; 
	n327 -> n1197 [label="1"]
	n327 -> n1177 [label="2"]
	n327 -> n756 [label="4"]
	n327 -> n1077 [label="4"]
	n327 -> n1095 [label="4"]
	n327 -> n392 [label="5"]
	n327 -> n389 [label="5"]
	n327 -> n896 [label="7"]
	n327 -> n801 [label="10"]
	n327 -> n783 [label="11"]
	n327 -> n933 [label="11"]
	n327 -> n968 [label="12"]
	n327 -> n788 [label="13"]
	n330 [label=<<i>330__ self(User)   banned_by_user_id</i>> color=darkorange]; 
	n330 -> n1197 [label="1"]
	n330 -> n1177 [label="2"]
	n330 -> n756 [label="4"]
	n330 -> n1077 [label="4"]
	n330 -> n1095 [label="4"]
	n330 -> n392 [label="5"]
	n330 -> n389 [label="5"]
	n330 -> n896 [label="7"]
	n330 -> n801 [label="10"]
	n330 -> n783 [label="11"]
	n330 -> n933 [label="11"]
	n330 -> n968 [label="12"]
	n330 -> n788 [label="13"]
	n332 [label=<<i>332__ self(User)   banned_reason</i>> color=darkorange]; 
	n332 -> n1197 [label="1"]
	n332 -> n1177 [label="2"]
	n332 -> n756 [label="4"]
	n332 -> n1077 [label="4"]
	n332 -> n1095 [label="4"]
	n332 -> n392 [label="5"]
	n332 -> n389 [label="5"]
	n332 -> n896 [label="7"]
	n332 -> n801 [label="10"]
	n332 -> n783 [label="11"]
	n332 -> n933 [label="11"]
	n332 -> n968 [label="12"]
	n332 -> n788 [label="13"]
	n370 [label=<<i>370__ Comment(Comment)   record_timestamps</i>> color=darkorange]; 
	n372 [label=<<i>372__ self(Comment)   is_deleted</i>> color=darkorange]; 
	n372 -> n756 [label="0"]
	n372 -> n389 [label="1"]
	n372 -> n896 [label="3"]
	n372 -> n801 [label="6"]
	n372 -> n783 [label="7"]
	n372 -> n933 [label="7"]
	n372 -> n968 [label="8"]
	n372 -> n788 [label="9"]
	n382 [label=<<i>382__ self(Comment)   is_moderated</i>> color=darkorange]; 
	n382 -> n756 [label="0"]
	n382 -> n389 [label="1"]
	n382 -> n896 [label="3"]
	n382 -> n801 [label="6"]
	n382 -> n783 [label="7"]
	n382 -> n933 [label="7"]
	n382 -> n968 [label="8"]
	n382 -> n788 [label="9"]
	n389 [label=<<i>389__ m(Moderation)   comment_id</i>> color=darkorange]; 
	n389 -> n751 [label="0"]
	n389 -> n750 [label="3"]
	n389 -> n556 [label="4"]
	n389 -> n558 [label="4"]
	n389 -> n618 [label="9"]
	n389 -> n531 [label="11"]
	n389 -> n530 [label="11"]
	n392 [label=<<i>392__ m(Moderation)   moderator_user_id</i>> color=darkorange]; 
	n392 -> n751 [label="0"]
	n392 -> n750 [label="3"]
	n392 -> n556 [label="4"]
	n392 -> n558 [label="4"]
	n392 -> n618 [label="9"]
	n392 -> n531 [label="11"]
	n392 -> n530 [label="11"]
	n395 [label=<<i>395__ m(Moderation)   action</i>> color=darkorange]; 
	n395 -> n751 [label="0"]
	n395 -> n750 [label="3"]
	n395 -> n556 [label="4"]
	n395 -> n558 [label="4"]
	n395 -> n618 [label="9"]
	n395 -> n531 [label="11"]
	n395 -> n530 [label="11"]
	n530 [label=<<i>530__ self received_messages unread   count</i>> color=blue]; 
	n530 -> n531 [label="0"]
	n531 [label=<<i>531__ Keystore(Keystore)   put</i>> color=blue]; 
	n556 [label=<<i>556__ recipient   where</i>> color=blue]; 
	n558 [label=<<i>558__ recipient   where</i>> color=blue]; 
	n618 [label=<<i>618__ self(Message)   short_id</i>> color=darkorange]; 
	n750 [label=<<i>750__ m(Message)   save</i>> color=blue]; 
	n751 [label=<<i>751__ m(Moderation)   save</i>> color=blue]; 
	n756 [label=<<i>756__ m(Moderation)   save</i>> color=blue]; 
	n756 -> n896 [label="3"]
	n756 -> n801 [label="6"]
	n756 -> n783 [label="7"]
	n756 -> n933 [label="7"]
	n756 -> n968 [label="8"]
	n756 -> n788 [label="9"]
	n759 [label=<<i>759__ Comment(Comment)   record_timestamps</i>> color=darkorange]; 
	n780 [label=<<i>780__ Story(Story)   select</i>> color=blue]; 
	n780 -> n783 [label="0"]
	n783 [label=<<i>783__ Story select( id)   where</i>> color=blue]; 
	n783 -> n788 [label="2"]
	n788 [label=<<i>788__ Comment(Comment)   where</i>> color=blue]; 
	n788 -> n896 [label="2"]
	n788 -> n911 [label="2"]
	n788 -> n801 [label="3"]
	n788 -> n933 [label="5"]
	n788 -> n968 [label="6"]
	n801 [label=<<i>801__ self(Comment)   order</i>> color=blue]; 
	n865 [label=<<i>865__ node(Comment)   indent_level</i>> color=darkorange]; 
	n896 [label=<<i>896__ comments(Comment)   count</i>> color=blue]; 
	n896 -> n911 [label="0"]
	n896 -> n933 [label="5"]
	n896 -> n968 [label="6"]
	n911 [label=<<i>911__ self(Story)   comments_count</i>> color=darkorange]; 
	n911 -> n933 [label="4"]
	n911 -> n968 [label="5"]
	n933 [label=<<i>933__ self tags(Tag)   select</i>> color=blue]; 
	n968 [label=<<i>968__ self comments(Comment)   where</i>> color=blue]; 
	n968 -> n969 [label="0"]
	n969 [label=<<i>969__ self comments where("user_id () ?", self user_id)   select</i>> color=blue]; 
	n1077 [label=<<i>1077__ m   save</i>> color=blue]; 
	n1095 [label=<<i>1095__ m   save</i>> color=blue]; 
	n1105 [label=<<i>1105__ self(User)   session_token</i>> color=darkorange]; 
	n1105 -> n1177 [label="0"]
	n1121 [label=<<i>1121__ self(User)   session_token</i>> color=darkorange]; 
	n1128 [label=<<i>1128__ self(User)   deleted_at</i>> color=darkorange]; 
	n1128 -> n1177 [label="0"]
	n1152 [label=<<i>1152__ self(User)   rss_token</i>> color=darkorange]; 
	n1170 [label=<<i>1170__ self(User)   mailing_list_token</i>> color=darkorange]; 
	n1177 [label=<<i>1177__ self(User)   save!</i>> color=blue]; 
	n1194 [label=<<i>1194__ m(Moderation)   moderator_user_id</i>> color=darkorange]; 
	n1194 -> n1204 [label="0"]
	n1197 [label=<<i>1197__ m(Moderation)   user_id</i>> color=darkorange]; 
	n1197 -> n1204 [label="0"]
	n1200 [label=<<i>1200__ m(Moderation)   action</i>> color=darkorange]; 
	n1200 -> n1204 [label="0"]
	n1202 [label=<<i>1202__ m(Moderation)   reason</i>> color=darkorange]; 
	n1202 -> n1204 [label="0"]
	n1204 [label=<<i>1204__ m(Moderation)   save!</i>> color=blue]; 
}