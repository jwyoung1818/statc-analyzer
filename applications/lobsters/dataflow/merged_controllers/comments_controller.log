SET IRMethod, name = create
BB 1
	outgoing: 34 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: def_%current_scope 
		 3: def_%current_module 
		 4: 
		 5: 
		 6: def_%v_3 (Story) 
		 7: def_%v_4 %self->params %self[2.0,] 
		 8: def_%v_5 %v_4[2.7,] 
		 9: def_%v_6 %v_5[2.8,] 
		 10: def_%v_7 %v_3->where %v_3[2.6,] %v_6[2.9,] 
		 11: def_%v_8 %v_7->first %v_7[2.10,] 
		 12: def_story %v_8[2.11,] 
		 13: def_%v_9 %v_8[2.11,] 
		 14: def_%v_10 %v_8->! %v_8[2.11,] 
		 15: BRANCH %v_10[2.14,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: def_%v_11 story->is_gone? story[2.12,] 
		 1: def_%v_10 %v_11[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_10[3.1,2.14,] 
BB 5
	outgoing: 34 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_12 
		 2: def_%v_13 %v_12[5.1,] 
		 3: def_%v_14 %self->render %self[2.0,] %v_13[5.2,] 
		 4: RETURN %v_14[5.3,] 
BB 6
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: def_%v_15 
		 1: 
		 2: def_%v_16 story->comments story[2.12,] 
		 3: def_%v_17 %v_16->build %v_16[6.2,] 
		 4: def_comment %v_17[6.3,] 
		 5: 
		 6: def_%v_18 %self->params %self[2.0,] 
		 7: def_%v_19 %v_18[6.6,] 
		 8: def_%v_20 %v_19->to_s %v_19[6.7,] 
		 9: ATTRASSIGN comment->comment comment[6.4,] %v_20[6.8,] 
		 10: 
		 11: def_%v_21 %self[6.6,2.0,] @user[] 
		 12: ATTRASSIGN comment->user comment[6.4,6.9,] %v_21[6.11,] 
		 13: 
		 14: def_%v_22 %self->params %self[6.6,2.0,] 
		 15: def_%v_23 %v_22[6.14,] 
		 16: BRANCH %v_23[6.15,] 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: def_%v_24 %self[2.0,] @user[6.11,] 
		 1: def_%v_25 %v_24->hats %v_24[8.0,] 
		 2: def_%v_26 %self->params %self[2.0,] 
		 3: def_%v_27 %v_26[8.2,] 
		 4: def_%v_28 %v_27[8.3,] 
		 5: def_%v_29 %v_25->where %v_25[8.1,] %v_28[8.4,] 
		 6: def_%v_23 %v_29[8.5,] 
BB 9
	outgoing: 10 11 
	datadep: 
	instructions:
		 0: BRANCH %v_23[8.6,6.15,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_30 %self->params %self[2.0,] 
		 2: def_%v_31 %v_30[10.1,] 
		 3: ATTRASSIGN comment->hat_id comment[6.4,6.9,6.12,] %v_31[10.2,] 
		 4: 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: def_%v_31 
BB 12
	outgoing: 13 17 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_32 %self->params %self[2.0,] 
		 2: def_%v_33 %v_32[12.1,] 
		 3: def_%v_34 %v_33->present? %v_33[12.2,] 
		 4: BRANCH %v_34[12.3,] 
BB 13
	outgoing: 14 15 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_35 (Comment) 
		 2: def_%v_36 story->id story[2.12,] 
		 3: def_%v_37 %self->params %self[2.0,] 
		 4: def_%v_38 %v_37[13.3,] 
		 5: def_%v_39 %v_36[13.2,] %v_38[13.4,] 
		 6: def_%v_40 %v_35->where %v_35[13.1,] %v_39[13.5,] 
		 7: def_%v_41 %v_40->first %v_40[13.6,] 
		 8: def_pc %v_41[13.7,] 
		 9: BRANCH %v_41[13.7,] 
BB 14
	outgoing: 18 
	datadep: 
	instructions:
		 0: 
		 1: ATTRASSIGN comment->parent_comment comment[10.3,6.4,6.9,6.12,] pc[13.8,] 
		 2: def_%v_42 pc[13.8,] 
		 3: 
BB 15
	outgoing: 34 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_43 
		 2: def_%v_44 %v_43[15.1,] 
		 3: def_%v_45 %v_44[15.2,] 
		 4: def_%v_46 %self->render %self[2.0,] %v_45[15.3,] 
		 5: RETURN %v_46[15.4,] 
BB 17
	outgoing: 18 
	datadep: 
	instructions:
		 0: def_%v_42 
BB 18
	outgoing: 19 20 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_47 %self->params %self[2.0,] 
		 2: def_%v_48 %v_47[18.1,] 
		 3: def_%v_49 %v_48->blank? %v_48[18.2,] 
		 4: BRANCH %v_49[18.3,] 
BB 19
	outgoing: 20 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_50 (Comment) 
		 2: def_%v_51 story->id story[2.12,] 
		 3: def_%v_52 %self[2.0,] @user[8.0,6.11,] 
		 4: def_%v_53 %v_52->id %v_52[19.3,] 
		 5: def_%v_54 comment->parent_comment_id comment[14.1,10.3,6.4,6.9,6.12,] 
		 6: def_%v_55 %v_51[19.2,] %v_53[19.4,] %v_54[19.5,] 
		 7: def_%v_56 %v_50->where %v_50[19.1,] %v_55[19.6,] 
		 8: def_%v_57 %v_56->first %v_56[19.7,] 
		 9: def_pc %v_57[19.8,] 
		 10: def_%v_49 %v_57[19.8,] 
BB 20
	outgoing: 21 25 
	datadep: 
	instructions:
		 0: BRANCH %v_49[19.10,18.3,] 
BB 21
	outgoing: 22 23 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_58 (Time) 
		 2: def_%v_59 %v_58->now %v_58[21.1,] 
		 3: def_%v_60 pc->created_at pc[19.9,13.8,] 
		 4: def_%v_61 %v_59[21.2,] %v_60[21.3,] 
		 5: def_%v_62 
		 6: def_%v_63 %v_61[21.4,] %v_62[21.5,] 
		 7: BRANCH %v_63[21.6,] 
BB 22
	outgoing: 24 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_64 comment->errors comment[14.1,10.3,6.4,6.9,6.12,] 
		 2: def_%v_65 
		 3: def_%v_66 
		 4: def_%v_67 %v_65[22.2,] %v_66[22.3,] 
		 5: def_%v_68 %v_64->add %v_64[22.1,] %v_67[22.4,] 
		 6: 
		 7: def_%v_69 %self->ruby_code_from_view %self[2.0,] 
		 8: def_%v_70 %v_69->ruby_code_from_view %v_69[22.7,] %self[22.7,2.0,] 
CLOSURE BEGIN: comment[22.1,14.1,10.3,6.4,6.9,6.12,] %self[22.7,2.0,] 
BB 1
	outgoing: 14 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: def_rb_from_view RECEIVEARG 
		 3: def_%current_scope 
		 4: def_%current_module 
BB 3
	outgoing: 4 5 12 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_3 comment->persisted? comment[] 
		 2: BRANCH %cl_1_3[3.1,] 
BB 4
	outgoing: 6 12 
	datadep: 
	instructions:
		 0: def_%cl_1_4 comment->short_id comment[] 
		 1: 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_4 
BB 6
	outgoing: 7 8 12 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_5 
		 2: 
		 3: def_%cl_1_6 comment->short_id comment[] 
		 4: def_%cl_1_7 %cl_1_5[6.1,] %cl_1_6[6.3,] 
		 5: def_%cl_1_8 %cl_1_7[6.4,] 
		 6: def_%cl_1_9 %cl_1_8[6.5,] 
		 7: def_%cl_1_10 %self->form_for %self[2.0,] comment[6.3,] %cl_1_9[6.6,] %self[2.0,] 
CLOSURE BEGIN: comment[6.3,] %self[2.0,] 
BB 1
	outgoing: 34 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_2_0 
		 2: def_f RECEIVEARG 
		 3: def_%current_scope 
		 4: def_%current_module 
BB 3
	outgoing: 4 5 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_3 comment->errors comment[] 
		 2: def_%cl_2_4 %cl_2_3->any? %cl_2_3[3.1,] 
		 3: BRANCH %cl_2_4[3.2,] 
BB 4
	outgoing: 6 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_5 %self->errors_for %self[2.0,] comment[] 
		 2: 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_2_5 
BB 6
	outgoing: 7 8 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_6 
		 2: def_%cl_2_7 comment->story comment[] 
		 3: def_%cl_2_8 %cl_2_7->short_id %cl_2_7[6.2,] 
		 4: def_%cl_2_9 %self->hidden_field_tag %self[2.0,] %cl_2_6[6.1,] %cl_2_8[6.3,] 
		 5: 
		 6: def_%cl_2_10 comment->parent_comment comment[6.2,] 
		 7: BRANCH %cl_2_10[6.6,] 
BB 7
	outgoing: 9 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_11 
		 2: def_%cl_2_12 comment->parent_comment comment[] 
		 3: def_%cl_2_13 %cl_2_12->short_id %cl_2_12[7.2,] 
		 4: def_%cl_2_14 %self->hidden_field_tag %self[2.0,] %cl_2_11[7.1,] %cl_2_13[7.3,] 
		 5: 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: def_%cl_2_14 
BB 9
	outgoing: 10 11 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_15 
		 2: def_%cl_2_16 comment->comment comment[] 
		 3: def_%cl_2_17 
		 4: def_%cl_2_18 
		 5: 
		 6: def_%cl_2_19 %self[2.0,] @user[] 
		 7: def_%cl_2_20 %cl_2_19->! %cl_2_19[9.6,] 
		 8: 
		 9: def_%cl_2_21 %self[2.0,] @user[9.6,] 
		 10: BRANCH %cl_2_21[9.9,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: def_%cl_2_22 
		 1: 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: def_%cl_2_23 
		 1: def_%cl_2_22 %cl_2_23[11.0,] 
BB 12
	outgoing: 13 14 32 
	datadep: 
	instructions:
		 0: def_%cl_2_24 %cl_2_17[9.3,] %cl_2_18[9.4,] %cl_2_20[9.7,] %cl_2_22[11.1,10.0,] 
		 1: def_%cl_2_25 %self->text_area_tag %self[2.0,] %cl_2_15[9.1,] %cl_2_16[9.2,] %cl_2_24[12.0,] 
		 2: 
		 3: 
		 4: def_%cl_2_26 %self[12.1,2.0,] @user[9.6,9.9,] 
		 5: BRANCH %cl_2_26[12.4,] 
BB 13
	outgoing: 15 
	datadep: 
	instructions:
		 0: def_%cl_2_27 
		 1: 
BB 14
	outgoing: 15 
	datadep: 
	instructions:
		 0: def_%cl_2_27 
BB 15
	outgoing: 16 17 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_28 comment->new_record? comment[] 
		 2: BRANCH %cl_2_28[15.1,] 
BB 16
	outgoing: 18 
	datadep: 
	instructions:
		 0: def_%cl_2_29 
		 1: 
BB 17
	outgoing: 18 
	datadep: 
	instructions:
		 0: def_%cl_2_30 
		 1: def_%cl_2_29 %cl_2_30[17.0,] 
BB 18
	outgoing: 19 20 32 
	datadep: 
	instructions:
		 0: def_%cl_2_31 %cl_2_29[17.1,16.0,] 
		 1: def_%cl_2_32 
		 2: def_%cl_2_33 
		 3: 
		 4: def_%cl_2_34 %self[2.0,] @user[12.4,9.6,9.9,] 
		 5: def_%cl_2_35 %cl_2_34->! %cl_2_34[18.4,] 
		 6: def_%cl_2_36 %cl_2_32[18.1,] %cl_2_33[18.2,] %cl_2_35[18.5,] 
		 7: def_%cl_2_37 %self->button_tag %self[2.0,] %cl_2_31[18.0,] %cl_2_36[18.6,] 
		 8: def_%cl_2_38 
		 9: def_%cl_2_39 
		 10: def_%cl_2_40 
		 11: 
		 12: def_%cl_2_41 %self[18.7,2.0,] @user[18.4,12.4,9.6,9.9,] 
		 13: def_%cl_2_42 %cl_2_41->! %cl_2_41[18.12,] 
		 14: def_%cl_2_43 %cl_2_39[18.9,] %cl_2_40[18.10,] %cl_2_42[18.13,] 
		 15: def_%cl_2_44 %self->button_tag %self[18.7,2.0,] %cl_2_38[18.8,] %cl_2_43[18.14,] 
		 16: def_%cl_2_45 comment->persisted? comment[] 
		 17: BRANCH %cl_2_45[18.16,] 
BB 19
	outgoing: 20 32 
	datadep: 
	instructions:
		 0: def_%cl_2_46 comment->parent_comment_id comment[] 
		 1: def_%cl_2_45 %cl_2_46[19.0,] 
BB 20
	outgoing: 21 22 
	datadep: 
	instructions:
		 0: BRANCH %cl_2_45[19.1,18.16,] 
BB 21
	outgoing: 23 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_47 
		 2: def_%cl_2_48 
		 3: def_%cl_2_49 
		 4: def_%cl_2_50 %cl_2_48[21.2,] %cl_2_49[21.3,] 
		 5: def_%cl_2_51 %self->button_tag %self[2.0,] %cl_2_47[21.1,] %cl_2_50[21.4,] 
		 6: 
BB 22
	outgoing: 23 
	datadep: 
	instructions:
		 0: def_%cl_2_51 
BB 23
	outgoing: 24 25 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_52 %self[2.0,] @user[18.4,18.12,12.4,9.6,9.9,] 
		 2: BRANCH %cl_2_52[23.1,] 
BB 24
	outgoing: 25 32 
	datadep: 
	instructions:
		 0: def_%cl_2_53 %self[2.0,] @user[23.1,18.4,18.12,12.4,9.6,9.9,] 
		 1: def_%cl_2_54 %cl_2_53->hats %cl_2_53[24.0,] 
		 2: def_%cl_2_55 %cl_2_54->any? %cl_2_54[24.1,] 
		 3: def_%cl_2_52 %cl_2_55[24.2,] 
BB 25
	outgoing: 26 27 
	datadep: 
	instructions:
		 0: BRANCH %cl_2_52[24.3,23.1,] 
BB 26
	outgoing: 28 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_56 
		 2: def_%cl_2_57 %self[2.0,] @user[24.0,23.1,18.4,18.12,12.4,9.6,9.9,] 
		 3: def_%cl_2_58 %cl_2_57->hats %cl_2_57[26.2,] 
		 4: def_%cl_2_59 
		 5: def_%cl_2_60 
		 6: def_%cl_2_61 comment->hat_id comment[] 
		 7: def_%cl_2_62 %self->options_from_collection_for_select %self[2.0,] %cl_2_58[26.3,] %cl_2_59[26.4,] %cl_2_60[26.5,] %cl_2_61[26.6,] 
		 8: def_%cl_2_63 
		 9: def_%cl_2_64 %self->select_tag %self[26.7,2.0,] %cl_2_56[26.1,] %cl_2_62[26.7,] %cl_2_63[26.8,] 
		 10: 
BB 27
	outgoing: 28 
	datadep: 
	instructions:
		 0: def_%cl_2_64 
BB 28
	outgoing: 29 30 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: def_%cl_2_65 %self[2.0,] @user[26.2,24.0,23.1,18.4,18.12,12.4,9.6,9.9,] 
		 3: BRANCH %cl_2_65[28.2,] 
BB 29
	outgoing: 31 32 
	datadep: 
	instructions:
		 0: def_%cl_2_66 
		 1: def_%cl_2_67 %cl_2_66[29.0,] 
		 2: def_%cl_2_68 %self->render %self[2.0,] %cl_2_67[29.1,] 
		 3: 
BB 30
	outgoing: 34 
	datadep: 
	instructions:
		 0: RETURN 
BB 31
	outgoing: 34 
	datadep: 
	instructions:
		 0: RETURN %cl_2_68[29.2,] 
BB 32
	outgoing: 34 
	datadep: 
	instructions:
		 0: def_%cl_2_69 
		 1: def_%cl_2_70 %cl_2_69[32.0,] 
		 2: RETURN %cl_2_70[32.1,] 
BB 34
	outgoing: 
	datadep: 
	instructions:
CLOSURE END
		 8: 
		 9: def_%cl_1_11 %self[6.7,2.0,] 
		 10: BRANCH %cl_1_11[6.9,] 
BB 7
	outgoing: 8 12 
	datadep: 
	instructions:
		 0: def_%cl_1_12 %self->show_comment %self[2.0,] 
		 1: def_%cl_1_13 %cl_1_12->valid? %cl_1_12[7.0,] 
		 2: def_%cl_1_11 %cl_1_13[7.1,] 
BB 8
	outgoing: 9 10 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_11[7.2,6.9,] 
BB 9
	outgoing: 11 12 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_14 
		 2: def_%cl_1_15 %self->show_comment %self[2.0,] 
		 3: def_%cl_1_16 %cl_1_15[9.2,] 
		 4: def_%cl_1_17 %self->render %self[9.2,2.0,] %cl_1_14[9.1,] %cl_1_16[9.3,] 
		 5: 
BB 10
	outgoing: 14 
	datadep: 
	instructions:
		 0: RETURN 
BB 11
	outgoing: 14 
	datadep: 
	instructions:
		 0: RETURN %cl_1_17[9.4,] 
BB 12
	outgoing: 14 
	datadep: 
	instructions:
		 0: def_%cl_1_18 
		 1: def_%cl_1_19 %cl_1_18[12.0,] 
		 2: RETURN %cl_1_19[12.1,] 
BB 14
	outgoing: 
	datadep: 
	instructions:
CLOSURE END
		 9: 
BB 23
	outgoing: 24 
	datadep: 
	instructions:
		 0: def_%v_70 
BB 24
	outgoing: 26 
	datadep: 
	instructions:
		 0: 
BB 25
	outgoing: 26 
	datadep: 
	instructions:
		 0: def_%v_70 
BB 26
	outgoing: 27 28 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_71 comment->valid? comment[14.1,10.3,6.4,6.9,6.12,] 
		 2: BRANCH %v_71[26.1,] 
BB 27
	outgoing: 28 
	datadep: 
	instructions:
		 0: def_%v_72 %self->params %self[2.0,] 
		 1: def_%v_73 %v_72[27.0,] 
		 2: def_%v_74 %v_73->blank? %v_73[27.1,] 
		 3: def_%v_71 %v_74[27.2,] 
BB 28
	outgoing: 29 30 
	datadep: 
	instructions:
		 0: BRANCH %v_71[27.3,26.1,] 
BB 29
	outgoing: 30 
	datadep: 
	instructions:
		 0: def_%v_75 comment->save comment[14.1,10.3,6.4,6.9,6.12,] 
		 1: def_%v_71 %v_75[29.0,] 
BB 30
	outgoing: 31 32 
	datadep: 
	instructions:
		 0: BRANCH %v_71[29.1,27.3,26.1,] 
BB 31
	outgoing: 34 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_76 
		 2: ATTRASSIGN comment->current_vote comment[14.1,10.3,6.4,6.9,6.12,] %v_76[31.1,] 
		 3: 
		 4: def_%v_77 %self->ruby_code_from_view %self[2.0,] 
		 5: def_%v_78 %v_77->ruby_code_from_view %v_77[31.4,] %self[31.4,2.0,] 
CLOSURE BEGIN: comment[31.2,] %self[31.4,2.0,] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_3_0 
		 2: def_rb_from_view RECEIVEARG 
		 3: def_%current_scope 
		 4: def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_3_3 
		 2: def_%cl_3_4 comment[] 
		 3: def_%cl_3_5 %self->render %self[2.0,] %cl_3_3[3.1,] %cl_3_4[3.2,] 
		 4: RETURN %cl_3_5[3.3,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_3_6 
		 1: def_%cl_3_7 %cl_3_6[4.0,] 
		 2: RETURN %cl_3_7[4.1,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END
		 6: RETURN %v_78[31.5,] 
BB 32
	outgoing: 34 
	datadep: 
	instructions:
		 0: 
		 1: ATTRASSIGN comment->upvotes comment[14.1,10.3,6.4,6.9,6.12,] 
		 2: 
		 3: def_%v_79 
		 4: ATTRASSIGN comment->current_vote comment[32.1,] %v_79[32.3,] 
		 5: 
		 6: def_%v_80 %self->preview %self[2.0,] comment[32.1,32.4,] 
		 7: RETURN %v_80[32.6,] 
BB 34
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = show
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: def_%current_scope 
		 3: def_%current_module 
		 4: 
		 5: 
		 6: def_%v_3 %self->find_comment %self[2.0,] 
		 7: def_comment %v_3[2.6,] 
		 8: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: def_%v_4 %self[2.0,] @user[] 
		 1: def_%v_5 comment->is_editable_by_user? comment[2.7,] %v_4[3.0,] 
		 2: def_%v_3 %v_5[3.1,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: def_%v_6 %v_3[3.2,2.6,] 
		 1: def_%v_7 %v_3->! %v_3[3.2,2.6,] 
		 2: BRANCH %v_7[4.1,] 
BB 5
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_8 
		 2: def_%v_9 %v_8[5.1,] 
		 3: def_%v_10 %self->render %self[2.0,] %v_9[5.2,] 
		 4: RETURN %v_10[5.3,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: def_%v_11 
		 1: 
		 2: def_%v_12 %self->ruby_code_from_view %self[2.0,] 
		 3: def_%v_13 %v_12->ruby_code_from_view %v_12[6.2,] %self[6.2,2.0,] 
CLOSURE BEGIN: comment[2.7,] %self[6.2,2.0,] 
BB 1
	outgoing: 122 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: def_rb_from_view RECEIVEARG 
		 3: def_%current_scope 
		 4: def_%current_module 
BB 3
	outgoing: 4 5 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_3 comment->short_id comment[] 
		 2: 
		 3: def_%cl_1_4 comment->persisted? comment[3.1,] 
		 4: BRANCH %cl_1_4[3.3,] 
BB 4
	outgoing: 6 120 
	datadep: 
	instructions:
		 0: def_%cl_1_5 comment->short_id comment[] 
		 1: 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_5 
BB 6
	outgoing: 7 11 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_6 comment->current_vote comment[] 
		 2: BRANCH %cl_1_6[6.1,] 
BB 7
	outgoing: 8 9 120 
	datadep: 
	instructions:
		 0: def_%cl_1_7 comment->current_vote comment[] 
		 1: def_%cl_1_8 %cl_1_7[7.0,] 
		 2: def_%cl_1_9 %cl_1_8[7.1,] 
		 3: BRANCH %cl_1_9[7.2,] 
BB 8
	outgoing: 10 
	datadep: 
	instructions:
		 0: def_%cl_1_10 
		 1: 
BB 9
	outgoing: 10 
	datadep: 
	instructions:
		 0: def_%cl_1_11 
		 1: def_%cl_1_10 %cl_1_11[9.0,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: def_%cl_1_12 
		 1: def_%cl_1_10 %cl_1_12[11.0,] 
BB 12
	outgoing: 13 14 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_13 comment->highlighted comment[] 
		 2: BRANCH %cl_1_13[12.1,] 
BB 13
	outgoing: 15 
	datadep: 
	instructions:
		 0: def_%cl_1_14 
		 1: 
BB 14
	outgoing: 15 
	datadep: 
	instructions:
		 0: def_%cl_1_15 
		 1: def_%cl_1_14 %cl_1_15[14.0,] 
BB 15
	outgoing: 16 17 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_16 comment->score comment[] 
		 2: def_%cl_1_17 %cl_1_16[15.1,] 
		 3: BRANCH %cl_1_17[15.2,] 
BB 16
	outgoing: 18 
	datadep: 
	instructions:
		 0: def_%cl_1_18 
		 1: 
BB 17
	outgoing: 18 
	datadep: 
	instructions:
		 0: def_%cl_1_19 
		 1: def_%cl_1_18 %cl_1_19[17.0,] 
BB 18
	outgoing: 19 20 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_20 comment->score comment[] 
		 2: def_%cl_1_21 %cl_1_20[18.1,] 
		 3: BRANCH %cl_1_21[18.2,] 
BB 19
	outgoing: 21 
	datadep: 
	instructions:
		 0: def_%cl_1_22 
		 1: 
BB 20
	outgoing: 21 
	datadep: 
	instructions:
		 0: def_%cl_1_23 
		 1: def_%cl_1_22 %cl_1_23[20.0,] 
BB 21
	outgoing: 22 23 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_24 comment->score comment[] 
		 2: def_%cl_1_25 %cl_1_24[21.1,] 
		 3: BRANCH %cl_1_25[21.2,] 
BB 22
	outgoing: 24 
	datadep: 
	instructions:
		 0: def_%cl_1_26 
		 1: 
BB 23
	outgoing: 24 
	datadep: 
	instructions:
		 0: def_%cl_1_27 
		 1: def_%cl_1_26 %cl_1_27[23.0,] 
BB 24
	outgoing: 25 26 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_28 comment->score comment[] 
		 2: def_%cl_1_29 %cl_1_28[24.1,] 
		 3: BRANCH %cl_1_29[24.2,] 
BB 25
	outgoing: 27 
	datadep: 
	instructions:
		 0: def_%cl_1_30 
		 1: 
BB 26
	outgoing: 27 
	datadep: 
	instructions:
		 0: def_%cl_1_31 
		 1: def_%cl_1_30 %cl_1_31[26.0,] 
BB 27
	outgoing: 28 37 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_32 comment->is_gone? comment[] 
		 2: def_%cl_1_33 %cl_1_32->! %cl_1_32[27.1,] 
		 3: BRANCH %cl_1_33[27.2,] 
BB 28
	outgoing: 29 30 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: def_%cl_1_34 %self[2.0,] @user[] 
		 3: BRANCH %cl_1_34[28.2,] 
BB 29
	outgoing: 31 
	datadep: 
	instructions:
		 0: def_%cl_1_35 
		 1: 
BB 30
	outgoing: 31 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_36 
		 2: def_%cl_1_37 %self->login_path %self[2.0,] 
		 3: def_%cl_1_38 
		 4: def_%cl_1_39 %cl_1_38[30.3,] 
		 5: def_%cl_1_40 %self->link_to %self[30.2,2.0,] %cl_1_36[30.1,] %cl_1_37[30.2,] %cl_1_39[30.4,] 
		 6: def_%cl_1_35 %cl_1_40[30.5,] 
BB 31
	outgoing: 32 33 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_41 comment->score comment[] 
		 2: 
		 3: def_%cl_1_42 %self[2.0,] @user[28.2,] 
		 4: BRANCH %cl_1_42[31.3,] 
BB 32
	outgoing: 33 120 
	datadep: 
	instructions:
		 0: def_%cl_1_43 %self[2.0,] @user[31.3,28.2,] 
		 1: def_%cl_1_44 %cl_1_43->can_downvote? %cl_1_43[32.0,] comment[] 
		 2: def_%cl_1_42 %cl_1_44[32.1,] 
BB 33
	outgoing: 34 35 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_42[32.2,31.3,] 
BB 34
	outgoing: 36 
	datadep: 
	instructions:
		 0: def_%cl_1_45 
		 1: 
BB 35
	outgoing: 36 
	datadep: 
	instructions:
		 0: def_%cl_1_45 
BB 36
	outgoing: 38 
	datadep: 
	instructions:
		 0: def_%cl_1_46 
		 1: 
BB 37
	outgoing: 38 
	datadep: 
	instructions:
		 0: def_%cl_1_46 
BB 38
	outgoing: 39 40 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_47 comment->short_id comment[] 
		 2: 
		 3: 
		 4: def_%cl_1_48 %self[2.0,] @user[32.0,31.3,28.2,] 
		 5: BRANCH %cl_1_48[38.4,] 
BB 39
	outgoing: 41 
	datadep: 
	instructions:
		 0: def_%cl_1_49 
		 1: 
BB 40
	outgoing: 41 
	datadep: 
	instructions:
		 0: def_%cl_1_49 
BB 41
	outgoing: 42 43 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_50 %self[2.0,] @user[38.4,32.0,31.3,28.2,] 
		 2: BRANCH %cl_1_50[41.1,] 
BB 42
	outgoing: 43 120 
	datadep: 
	instructions:
		 0: def_%cl_1_51 %self[2.0,] @user[41.1,38.4,32.0,31.3,28.2,] 
		 1: def_%cl_1_52 %cl_1_51->show_avatars? %cl_1_51[42.0,] 
		 2: def_%cl_1_50 %cl_1_52[42.1,] 
BB 43
	outgoing: 44 45 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_50[42.2,41.1,] 
BB 44
	outgoing: 46 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_53 comment->user comment[] 
		 2: def_%cl_1_54 %cl_1_53->username %cl_1_53[44.1,] 
		 3: 
		 4: def_%cl_1_55 comment->user comment[44.1,] 
		 5: def_%cl_1_56 %cl_1_55[44.4,] 
		 6: 
BB 45
	outgoing: 46 
	datadep: 
	instructions:
		 0: def_%cl_1_56 
BB 46
	outgoing: 47 48 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_57 %self[2.0,] 
		 2: BRANCH %cl_1_57[46.1,] 
BB 47
	outgoing: 48 120 
	datadep: 
	instructions:
		 0: def_%cl_1_58 %self->was_merged %self[2.0,] 
		 1: def_%cl_1_57 %cl_1_58[47.0,] 
BB 48
	outgoing: 49 50 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_57[47.1,46.1,] 
BB 49
	outgoing: 51 
	datadep: 
	instructions:
		 0: def_%cl_1_59 
		 1: 
BB 50
	outgoing: 51 
	datadep: 
	instructions:
		 0: def_%cl_1_59 
BB 51
	outgoing: 52 53 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_60 comment->user comment[] 
		 2: def_%cl_1_61 %cl_1_60->username %cl_1_60[51.1,] 
		 3: 
		 4: def_%cl_1_62 comment->user comment[51.1,] 
		 5: def_%cl_1_63 %cl_1_62->is_active? %cl_1_62[51.4,] 
		 6: def_%cl_1_64 %cl_1_63->! %cl_1_63[51.5,] 
		 7: BRANCH %cl_1_64[51.6,] 
BB 52
	outgoing: 57 
	datadep: 
	instructions:
		 0: def_%cl_1_65 
		 1: 
BB 53
	outgoing: 54 55 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_66 comment->user comment[] 
		 2: def_%cl_1_67 %cl_1_66->is_new? %cl_1_66[53.1,] 
		 3: BRANCH %cl_1_67[53.2,] 
BB 54
	outgoing: 56 
	datadep: 
	instructions:
		 0: def_%cl_1_68 
		 1: 
BB 55
	outgoing: 56 
	datadep: 
	instructions:
		 0: def_%cl_1_68 
BB 56
	outgoing: 57 
	datadep: 
	instructions:
		 0: def_%cl_1_65 
BB 57
	outgoing: 58 59 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_69 comment->user comment[] 
		 2: def_%cl_1_70 %cl_1_69->username %cl_1_69[57.1,] 
		 3: 
		 4: def_%cl_1_71 comment->hat comment[57.1,] 
		 5: BRANCH %cl_1_71[57.4,] 
BB 58
	outgoing: 60 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_72 comment->hat comment[] 
		 2: def_%cl_1_73 %cl_1_72->to_html_label %cl_1_72[58.1,] 
		 3: 
BB 59
	outgoing: 60 
	datadep: 
	instructions:
		 0: def_%cl_1_73 
BB 60
	outgoing: 61 62 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_74 comment->previewing comment[] 
		 2: BRANCH %cl_1_74[60.1,] 
BB 61
	outgoing: 72 
	datadep: 
	instructions:
		 0: def_%cl_1_75 
		 1: 
BB 62
	outgoing: 63 64 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_76 comment->has_been_edited? comment[] 
		 2: BRANCH %cl_1_76[62.1,] 
BB 63
	outgoing: 68 
	datadep: 
	instructions:
		 0: def_%cl_1_77 
		 1: 
BB 64
	outgoing: 65 66 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_78 comment->is_from_email? comment[] 
		 2: BRANCH %cl_1_78[64.1,] 
BB 65
	outgoing: 67 
	datadep: 
	instructions:
		 0: def_%cl_1_79 
		 1: 
BB 66
	outgoing: 67 
	datadep: 
	instructions:
		 0: def_%cl_1_79 
BB 67
	outgoing: 68 
	datadep: 
	instructions:
		 0: def_%cl_1_77 
BB 68
	outgoing: 69 70 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_80 comment->has_been_edited? comment[] 
		 2: BRANCH %cl_1_80[68.1,] 
BB 69
	outgoing: 71 120 
	datadep: 
	instructions:
		 0: def_%cl_1_81 comment->updated_at comment[] 
		 1: 
BB 70
	outgoing: 71 120 
	datadep: 
	instructions:
		 0: def_%cl_1_82 comment->created_at comment[] 
		 1: def_%cl_1_81 %cl_1_82[70.0,] 
BB 71
	outgoing: 72 120 
	datadep: 
	instructions:
		 0: def_%cl_1_83 
		 1: def_%cl_1_84 %self->time_ago_in_words_label %self[2.0,] %cl_1_81[70.1,69.0,] %cl_1_83[71.0,] 
		 2: def_%cl_1_75 %cl_1_84[71.1,] 
BB 72
	outgoing: 73 110 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_85 comment->previewing comment[] 
		 2: def_%cl_1_86 %cl_1_85->! %cl_1_85[72.1,] 
		 3: BRANCH %cl_1_86[72.2,] 
BB 73
	outgoing: 74 75 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_87 comment->url comment[] 
		 2: 
		 3: def_%cl_1_88 %self[2.0,] @user[42.0,41.1,38.4,32.0,31.3,28.2,] 
		 4: def_%cl_1_89 comment->is_editable_by_user? comment[73.1,] %cl_1_88[73.3,] 
		 5: BRANCH %cl_1_89[73.4,] 
BB 74
	outgoing: 76 
	datadep: 
	instructions:
		 0: def_%cl_1_90 
		 1: 
BB 75
	outgoing: 76 
	datadep: 
	instructions:
		 0: def_%cl_1_90 
BB 76
	outgoing: 77 78 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_91 comment->is_gone? comment[] 
		 2: BRANCH %cl_1_91[76.1,] 
BB 77
	outgoing: 78 120 
	datadep: 
	instructions:
		 0: def_%cl_1_92 %self[2.0,] @user[73.3,42.0,41.1,38.4,32.0,31.3,28.2,] 
		 1: def_%cl_1_93 comment->is_undeletable_by_user? comment[] %cl_1_92[77.0,] 
		 2: def_%cl_1_91 %cl_1_93[77.1,] 
BB 78
	outgoing: 79 80 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_91[77.2,76.1,] 
BB 79
	outgoing: 86 
	datadep: 
	instructions:
		 0: def_%cl_1_94 
		 1: 
BB 80
	outgoing: 81 82 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_95 comment->is_gone? comment[] 
		 2: def_%cl_1_96 %cl_1_95->! %cl_1_95[80.1,] 
		 3: BRANCH %cl_1_96[80.2,] 
BB 81
	outgoing: 82 120 
	datadep: 
	instructions:
		 0: def_%cl_1_97 %self[2.0,] @user[77.0,73.3,42.0,41.1,38.4,32.0,31.3,28.2,] 
		 1: def_%cl_1_98 comment->is_deletable_by_user? comment[] %cl_1_97[81.0,] 
		 2: def_%cl_1_96 %cl_1_98[81.1,] 
BB 82
	outgoing: 83 84 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_96[81.2,80.2,] 
BB 83
	outgoing: 85 
	datadep: 
	instructions:
		 0: def_%cl_1_99 
		 1: 
BB 84
	outgoing: 85 
	datadep: 
	instructions:
		 0: def_%cl_1_99 
BB 85
	outgoing: 86 
	datadep: 
	instructions:
		 0: def_%cl_1_94 
BB 86
	outgoing: 87 88 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_100 %self[2.0,] @user[77.0,81.0,73.3,42.0,41.1,38.4,32.0,31.3,28.2,] 
		 2: BRANCH %cl_1_100[86.1,] 
BB 87
	outgoing: 88 120 
	datadep: 
	instructions:
		 0: def_%cl_1_101 comment->story comment[] 
		 1: def_%cl_1_102 %cl_1_101->is_gone? %cl_1_101[87.0,] 
		 2: def_%cl_1_103 %cl_1_102->! %cl_1_102[87.1,] 
		 3: def_%cl_1_100 %cl_1_103[87.2,] 
BB 88
	outgoing: 89 90 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_100[87.3,86.1,] 
BB 89
	outgoing: 90 120 
	datadep: 
	instructions:
		 0: def_%cl_1_104 comment->is_gone? comment[] 
		 1: def_%cl_1_105 %cl_1_104->! %cl_1_104[89.0,] 
		 2: def_%cl_1_100 %cl_1_105[89.1,] 
BB 90
	outgoing: 91 92 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_100[89.2,87.3,86.1,] 
BB 91
	outgoing: 93 
	datadep: 
	instructions:
		 0: def_%cl_1_106 
		 1: 
BB 92
	outgoing: 93 
	datadep: 
	instructions:
		 0: def_%cl_1_106 
BB 93
	outgoing: 94 99 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_107 comment->downvotes comment[] 
		 2: def_%cl_1_108 %cl_1_107[93.1,] 
		 3: BRANCH %cl_1_108[93.2,] 
BB 94
	outgoing: 95 96 120 
	datadep: 
	instructions:
		 0: def_%cl_1_109 comment->score comment[] 
		 1: def_%cl_1_110 %cl_1_109[94.0,] 
		 2: BRANCH %cl_1_110[94.1,] 
BB 95
	outgoing: 96 120 
	datadep: 
	instructions:
		 0: def_%cl_1_111 comment->user_id comment[] 
		 1: def_%cl_1_112 %self[2.0,] @user[86.1,77.0,81.0,73.3,42.0,41.1,38.4,32.0,31.3,28.2,] 
		 2: def_%cl_1_113 %cl_1_112->try %cl_1_112[95.1,] 
		 3: def_%cl_1_114 %cl_1_111[95.0,] %cl_1_113[95.2,] 
		 4: def_%cl_1_110 %cl_1_114[95.3,] 
BB 96
	outgoing: 97 98 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_110[95.4,94.1,] 
BB 97
	outgoing: 98 120 
	datadep: 
	instructions:
		 0: def_%cl_1_115 %self[2.0,] @user[95.1,86.1,77.0,81.0,73.3,42.0,41.1,38.4,32.0,31.3,28.2,] 
		 1: def_%cl_1_116 
		 2: def_%cl_1_117 %cl_1_115->try %cl_1_115[97.0,] %cl_1_116[97.1,] 
		 3: def_%cl_1_110 %cl_1_117[97.2,] 
BB 98
	outgoing: 99 
	datadep: 
	instructions:
		 0: def_%cl_1_108 %cl_1_110[97.3,95.4,94.1,] 
BB 99
	outgoing: 100 101 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_108[98.0,93.2,] 
BB 100
	outgoing: 109 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_118 comment->vote_summary comment[] 
		 2: def_%cl_1_119 %cl_1_118->downcase %cl_1_118[100.1,] 
		 3: 
BB 101
	outgoing: 102 103 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_120 comment->current_vote comment[] 
		 2: BRANCH %cl_1_120[101.1,] 
BB 102
	outgoing: 103 120 
	datadep: 
	instructions:
		 0: def_%cl_1_121 comment->current_vote comment[] 
		 1: def_%cl_1_122 %cl_1_121[102.0,] 
		 2: def_%cl_1_123 %cl_1_122[102.1,] 
		 3: def_%cl_1_120 %cl_1_123[102.2,] 
BB 103
	outgoing: 104 107 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_120[102.3,101.1,] 
BB 104
	outgoing: 105 106 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_124 (Vote) 
		 2: def_%cl_1_125 %cl_1_124[104.1,] 
		 3: %cl_1_125[104.2,] 
BB 105
	outgoing: 106 120 
	datadep: 
	instructions:
		 0: def_%cl_1_125 %cl_1_124[104.1,] 
BB 106
	outgoing: 108 120 
	datadep: 
	instructions:
		 0: def_%cl_1_126 comment->current_vote comment[] 
		 1: def_%cl_1_127 %cl_1_126[106.0,] 
		 2: def_%cl_1_128 %cl_1_125[105.0,104.2,] %cl_1_127[106.1,] 
		 3: def_%cl_1_129 %cl_1_128->downcase %cl_1_128[106.2,] 
		 4: 
BB 107
	outgoing: 108 
	datadep: 
	instructions:
		 0: def_%cl_1_129 
BB 108
	outgoing: 109 
	datadep: 
	instructions:
		 0: def_%cl_1_119 %cl_1_129[107.0,106.3,] 
BB 109
	outgoing: 111 
	datadep: 
	instructions:
		 0: 
BB 110
	outgoing: 111 
	datadep: 
	instructions:
		 0: def_%cl_1_119 
BB 111
	outgoing: 112 113 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_130 %self[2.0,] 
		 2: BRANCH %cl_1_130[111.1,] 
BB 112
	outgoing: 113 120 
	datadep: 
	instructions:
		 0: def_%cl_1_131 %self->show_story %self[2.0,] 
		 1: def_%cl_1_130 %cl_1_131[112.0,] 
BB 113
	outgoing: 114 115 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_130[112.1,111.1,] 
BB 114
	outgoing: 116 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_132 comment->story comment[] 
		 2: def_%cl_1_133 %cl_1_132->comments_path %cl_1_132[114.1,] 
		 3: 
		 4: def_%cl_1_134 comment->story comment[114.1,] 
		 5: def_%cl_1_135 %cl_1_134->title %cl_1_134[114.4,] 
		 6: 
BB 115
	outgoing: 116 
	datadep: 
	instructions:
		 0: def_%cl_1_135 
BB 116
	outgoing: 117 118 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_136 comment->is_gone? comment[] 
		 2: BRANCH %cl_1_136[116.1,] 
BB 117
	outgoing: 119 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_137 comment->gone_text comment[] 
		 2: 
BB 118
	outgoing: 120 122 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_138 comment->markeddown_comment comment[] 
		 2: def_%cl_1_139 %self->raw %self[2.0,] %cl_1_138[118.1,] 
		 3: RETURN %cl_1_139[118.2,] 
BB 119
	outgoing: 122 
	datadep: 
	instructions:
		 0: RETURN %cl_1_137[117.1,] 
BB 120
	outgoing: 122 
	datadep: 
	instructions:
		 0: def_%cl_1_140 
		 1: def_%cl_1_141 %cl_1_140[120.0,] 
		 2: RETURN %cl_1_141[120.1,] 
BB 122
	outgoing: 
	datadep: 
	instructions:
CLOSURE END
		 4: RETURN %v_13[6.3,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = show_short_id
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: def_%current_scope 
		 3: def_%current_module 
		 4: 
		 5: 
		 6: def_%v_3 %self->find_comment %self[2.0,] 
		 7: def_comment %v_3[2.6,] 
		 8: def_%v_4 %v_3[2.6,] 
		 9: def_%v_5 %v_3->! %v_3[2.6,] 
		 10: BRANCH %v_5[2.9,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_6 
		 2: def_%v_7 %v_6[3.1,] 
		 3: def_%v_8 %self->render %self[2.0,] %v_7[3.2,] 
		 4: RETURN %v_8[3.3,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%v_9 
		 1: 
		 2: def_%v_10 comment->as_json comment[2.7,] 
		 3: def_%v_11 %v_10[4.2,] 
		 4: def_%v_12 %self->render %self[2.0,] %v_11[4.3,] 
		 5: RETURN %v_12[4.4,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = redirect_from_short_id
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: def_%current_scope 
		 3: def_%current_module 
		 4: 
		 5: 
		 6: def_%v_3 %self->find_comment %self[2.0,] 
		 7: def_comment %v_3[2.6,] 
		 8: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_4 comment->url comment[2.7,] 
		 2: def_%v_5 %self->redirect_to %self[2.0,] %v_4[3.1,] 
		 3: RETURN %v_5[3.2,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_7 
		 2: def_%v_8 %v_7[4.1,] 
		 3: def_%v_9 %self->render %self[2.0,] %v_8[4.2,] 
		 4: RETURN %v_9[4.3,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = edit
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: def_%current_scope 
		 3: def_%current_module 
		 4: 
		 5: 
		 6: def_%v_3 %self->find_comment %self[2.0,] 
		 7: def_comment %v_3[2.6,] 
		 8: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: def_%v_4 %self[2.0,] @user[] 
		 1: def_%v_5 comment->is_editable_by_user? comment[2.7,] %v_4[3.0,] 
		 2: def_%v_3 %v_5[3.1,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: def_%v_6 %v_3[3.2,2.6,] 
		 1: def_%v_7 %v_3->! %v_3[3.2,2.6,] 
		 2: BRANCH %v_7[4.1,] 
BB 5
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_8 
		 2: def_%v_9 %v_8[5.1,] 
		 3: def_%v_10 %self->render %self[2.0,] %v_9[5.2,] 
		 4: RETURN %v_10[5.3,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: def_%v_11 
		 1: 
		 2: def_%v_12 %self->ruby_code_from_view %self[2.0,] 
		 3: def_%v_13 %v_12->ruby_code_from_view %v_12[6.2,] %self[6.2,2.0,] 
CLOSURE BEGIN: comment[2.7,] %self[6.2,2.0,] 
BB 1
	outgoing: 14 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: def_rb_from_view RECEIVEARG 
		 3: def_%current_scope 
		 4: def_%current_module 
BB 3
	outgoing: 4 5 12 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_3 comment->persisted? comment[] 
		 2: BRANCH %cl_1_3[3.1,] 
BB 4
	outgoing: 6 12 
	datadep: 
	instructions:
		 0: def_%cl_1_4 comment->short_id comment[] 
		 1: 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_4 
BB 6
	outgoing: 7 8 12 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_5 
		 2: 
		 3: def_%cl_1_6 comment->short_id comment[] 
		 4: def_%cl_1_7 %cl_1_5[6.1,] %cl_1_6[6.3,] 
		 5: def_%cl_1_8 %cl_1_7[6.4,] 
		 6: def_%cl_1_9 %cl_1_8[6.5,] 
		 7: def_%cl_1_10 %self->form_for %self[2.0,] comment[6.3,] %cl_1_9[6.6,] %self[2.0,] 
CLOSURE BEGIN: comment[6.3,] %self[2.0,] 
BB 1
	outgoing: 34 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_2_0 
		 2: def_f RECEIVEARG 
		 3: def_%current_scope 
		 4: def_%current_module 
BB 3
	outgoing: 4 5 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_3 comment->errors comment[] 
		 2: def_%cl_2_4 %cl_2_3->any? %cl_2_3[3.1,] 
		 3: BRANCH %cl_2_4[3.2,] 
BB 4
	outgoing: 6 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_5 %self->errors_for %self[2.0,] comment[] 
		 2: 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_2_5 
BB 6
	outgoing: 7 8 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_6 
		 2: def_%cl_2_7 comment->story comment[] 
		 3: def_%cl_2_8 %cl_2_7->short_id %cl_2_7[6.2,] 
		 4: def_%cl_2_9 %self->hidden_field_tag %self[2.0,] %cl_2_6[6.1,] %cl_2_8[6.3,] 
		 5: 
		 6: def_%cl_2_10 comment->parent_comment comment[6.2,] 
		 7: BRANCH %cl_2_10[6.6,] 
BB 7
	outgoing: 9 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_11 
		 2: def_%cl_2_12 comment->parent_comment comment[] 
		 3: def_%cl_2_13 %cl_2_12->short_id %cl_2_12[7.2,] 
		 4: def_%cl_2_14 %self->hidden_field_tag %self[2.0,] %cl_2_11[7.1,] %cl_2_13[7.3,] 
		 5: 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: def_%cl_2_14 
BB 9
	outgoing: 10 11 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_15 
		 2: def_%cl_2_16 comment->comment comment[] 
		 3: def_%cl_2_17 
		 4: def_%cl_2_18 
		 5: 
		 6: def_%cl_2_19 %self[2.0,] @user[] 
		 7: def_%cl_2_20 %cl_2_19->! %cl_2_19[9.6,] 
		 8: 
		 9: def_%cl_2_21 %self[2.0,] @user[9.6,] 
		 10: BRANCH %cl_2_21[9.9,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: def_%cl_2_22 
		 1: 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: def_%cl_2_23 
		 1: def_%cl_2_22 %cl_2_23[11.0,] 
BB 12
	outgoing: 13 14 32 
	datadep: 
	instructions:
		 0: def_%cl_2_24 %cl_2_17[9.3,] %cl_2_18[9.4,] %cl_2_20[9.7,] %cl_2_22[11.1,10.0,] 
		 1: def_%cl_2_25 %self->text_area_tag %self[2.0,] %cl_2_15[9.1,] %cl_2_16[9.2,] %cl_2_24[12.0,] 
		 2: 
		 3: 
		 4: def_%cl_2_26 %self[12.1,2.0,] @user[9.6,9.9,] 
		 5: BRANCH %cl_2_26[12.4,] 
BB 13
	outgoing: 15 
	datadep: 
	instructions:
		 0: def_%cl_2_27 
		 1: 
BB 14
	outgoing: 15 
	datadep: 
	instructions:
		 0: def_%cl_2_27 
BB 15
	outgoing: 16 17 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_28 comment->new_record? comment[] 
		 2: BRANCH %cl_2_28[15.1,] 
BB 16
	outgoing: 18 
	datadep: 
	instructions:
		 0: def_%cl_2_29 
		 1: 
BB 17
	outgoing: 18 
	datadep: 
	instructions:
		 0: def_%cl_2_30 
		 1: def_%cl_2_29 %cl_2_30[17.0,] 
BB 18
	outgoing: 19 20 32 
	datadep: 
	instructions:
		 0: def_%cl_2_31 %cl_2_29[17.1,16.0,] 
		 1: def_%cl_2_32 
		 2: def_%cl_2_33 
		 3: 
		 4: def_%cl_2_34 %self[2.0,] @user[12.4,9.6,9.9,] 
		 5: def_%cl_2_35 %cl_2_34->! %cl_2_34[18.4,] 
		 6: def_%cl_2_36 %cl_2_32[18.1,] %cl_2_33[18.2,] %cl_2_35[18.5,] 
		 7: def_%cl_2_37 %self->button_tag %self[2.0,] %cl_2_31[18.0,] %cl_2_36[18.6,] 
		 8: def_%cl_2_38 
		 9: def_%cl_2_39 
		 10: def_%cl_2_40 
		 11: 
		 12: def_%cl_2_41 %self[18.7,2.0,] @user[18.4,12.4,9.6,9.9,] 
		 13: def_%cl_2_42 %cl_2_41->! %cl_2_41[18.12,] 
		 14: def_%cl_2_43 %cl_2_39[18.9,] %cl_2_40[18.10,] %cl_2_42[18.13,] 
		 15: def_%cl_2_44 %self->button_tag %self[18.7,2.0,] %cl_2_38[18.8,] %cl_2_43[18.14,] 
		 16: def_%cl_2_45 comment->persisted? comment[] 
		 17: BRANCH %cl_2_45[18.16,] 
BB 19
	outgoing: 20 32 
	datadep: 
	instructions:
		 0: def_%cl_2_46 comment->parent_comment_id comment[] 
		 1: def_%cl_2_45 %cl_2_46[19.0,] 
BB 20
	outgoing: 21 22 
	datadep: 
	instructions:
		 0: BRANCH %cl_2_45[19.1,18.16,] 
BB 21
	outgoing: 23 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_47 
		 2: def_%cl_2_48 
		 3: def_%cl_2_49 
		 4: def_%cl_2_50 %cl_2_48[21.2,] %cl_2_49[21.3,] 
		 5: def_%cl_2_51 %self->button_tag %self[2.0,] %cl_2_47[21.1,] %cl_2_50[21.4,] 
		 6: 
BB 22
	outgoing: 23 
	datadep: 
	instructions:
		 0: def_%cl_2_51 
BB 23
	outgoing: 24 25 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_52 %self[2.0,] @user[18.4,18.12,12.4,9.6,9.9,] 
		 2: BRANCH %cl_2_52[23.1,] 
BB 24
	outgoing: 25 32 
	datadep: 
	instructions:
		 0: def_%cl_2_53 %self[2.0,] @user[23.1,18.4,18.12,12.4,9.6,9.9,] 
		 1: def_%cl_2_54 %cl_2_53->hats %cl_2_53[24.0,] 
		 2: def_%cl_2_55 %cl_2_54->any? %cl_2_54[24.1,] 
		 3: def_%cl_2_52 %cl_2_55[24.2,] 
BB 25
	outgoing: 26 27 
	datadep: 
	instructions:
		 0: BRANCH %cl_2_52[24.3,23.1,] 
BB 26
	outgoing: 28 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_56 
		 2: def_%cl_2_57 %self[2.0,] @user[24.0,23.1,18.4,18.12,12.4,9.6,9.9,] 
		 3: def_%cl_2_58 %cl_2_57->hats %cl_2_57[26.2,] 
		 4: def_%cl_2_59 
		 5: def_%cl_2_60 
		 6: def_%cl_2_61 comment->hat_id comment[] 
		 7: def_%cl_2_62 %self->options_from_collection_for_select %self[2.0,] %cl_2_58[26.3,] %cl_2_59[26.4,] %cl_2_60[26.5,] %cl_2_61[26.6,] 
		 8: def_%cl_2_63 
		 9: def_%cl_2_64 %self->select_tag %self[26.7,2.0,] %cl_2_56[26.1,] %cl_2_62[26.7,] %cl_2_63[26.8,] 
		 10: 
BB 27
	outgoing: 28 
	datadep: 
	instructions:
		 0: def_%cl_2_64 
BB 28
	outgoing: 29 30 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: def_%cl_2_65 %self[2.0,] @user[26.2,24.0,23.1,18.4,18.12,12.4,9.6,9.9,] 
		 3: BRANCH %cl_2_65[28.2,] 
BB 29
	outgoing: 31 32 
	datadep: 
	instructions:
		 0: def_%cl_2_66 
		 1: def_%cl_2_67 %cl_2_66[29.0,] 
		 2: def_%cl_2_68 %self->render %self[2.0,] %cl_2_67[29.1,] 
		 3: 
BB 30
	outgoing: 34 
	datadep: 
	instructions:
		 0: RETURN 
BB 31
	outgoing: 34 
	datadep: 
	instructions:
		 0: RETURN %cl_2_68[29.2,] 
BB 32
	outgoing: 34 
	datadep: 
	instructions:
		 0: def_%cl_2_69 
		 1: def_%cl_2_70 %cl_2_69[32.0,] 
		 2: RETURN %cl_2_70[32.1,] 
BB 34
	outgoing: 
	datadep: 
	instructions:
CLOSURE END
		 8: 
		 9: def_%cl_1_11 %self[6.7,2.0,] 
		 10: BRANCH %cl_1_11[6.9,] 
BB 7
	outgoing: 8 12 
	datadep: 
	instructions:
		 0: def_%cl_1_12 %self->show_comment %self[2.0,] 
		 1: def_%cl_1_13 %cl_1_12->valid? %cl_1_12[7.0,] 
		 2: def_%cl_1_11 %cl_1_13[7.1,] 
BB 8
	outgoing: 9 10 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_11[7.2,6.9,] 
BB 9
	outgoing: 11 12 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_14 
		 2: def_%cl_1_15 %self->show_comment %self[2.0,] 
		 3: def_%cl_1_16 %cl_1_15[9.2,] 
		 4: def_%cl_1_17 %self->render %self[9.2,2.0,] %cl_1_14[9.1,] %cl_1_16[9.3,] 
		 5: 
BB 10
	outgoing: 14 
	datadep: 
	instructions:
		 0: RETURN 
BB 11
	outgoing: 14 
	datadep: 
	instructions:
		 0: RETURN %cl_1_17[9.4,] 
BB 12
	outgoing: 14 
	datadep: 
	instructions:
		 0: def_%cl_1_18 
		 1: def_%cl_1_19 %cl_1_18[12.0,] 
		 2: RETURN %cl_1_19[12.1,] 
BB 14
	outgoing: 
	datadep: 
	instructions:
CLOSURE END
		 4: RETURN %v_13[6.3,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = reply
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: def_%current_scope 
		 3: def_%current_module 
		 4: 
		 5: 
		 6: def_%v_3 %self->find_comment %self[2.0,] 
		 7: def_parent_comment %v_3[2.6,] 
		 8: def_%v_4 %v_3[2.6,] 
		 9: def_%v_5 %v_3->! %v_3[2.6,] 
		 10: BRANCH %v_5[2.9,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_6 
		 2: def_%v_7 %v_6[3.1,] 
		 3: def_%v_8 %self->render %self[2.0,] %v_7[3.2,] 
		 4: RETURN %v_8[3.3,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%v_9 
		 1: 
		 2: def_%v_10 (Comment) 
		 3: def_%v_11 %v_10->new %v_10[4.2,] 
		 4: def_comment %v_11[4.3,] 
		 5: 
		 6: def_%v_12 parent_comment->story parent_comment[2.7,] 
		 7: ATTRASSIGN comment->story comment[4.4,] %v_12[4.6,] 
		 8: 
		 9: ATTRASSIGN comment->parent_comment comment[4.4,4.7,] parent_comment[4.6,2.7,] 
		 10: 
		 11: def_%v_13 %self->ruby_code_from_view %self[2.0,] 
		 12: def_%v_14 %v_13->ruby_code_from_view %v_13[4.11,] %self[4.11,2.0,] 
CLOSURE BEGIN: comment[4.4,4.7,4.9,] %self[4.11,2.0,] 
BB 1
	outgoing: 14 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: def_rb_from_view RECEIVEARG 
		 3: def_%current_scope 
		 4: def_%current_module 
BB 3
	outgoing: 4 5 12 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_3 comment->persisted? comment[] 
		 2: BRANCH %cl_1_3[3.1,] 
BB 4
	outgoing: 6 12 
	datadep: 
	instructions:
		 0: def_%cl_1_4 comment->short_id comment[] 
		 1: 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_4 
BB 6
	outgoing: 7 8 12 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_5 
		 2: 
		 3: def_%cl_1_6 comment->short_id comment[] 
		 4: def_%cl_1_7 %cl_1_5[6.1,] %cl_1_6[6.3,] 
		 5: def_%cl_1_8 %cl_1_7[6.4,] 
		 6: def_%cl_1_9 %cl_1_8[6.5,] 
		 7: def_%cl_1_10 %self->form_for %self[2.0,] comment[6.3,] %cl_1_9[6.6,] %self[2.0,] 
CLOSURE BEGIN: comment[6.3,] %self[2.0,] 
BB 1
	outgoing: 34 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_2_0 
		 2: def_f RECEIVEARG 
		 3: def_%current_scope 
		 4: def_%current_module 
BB 3
	outgoing: 4 5 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_3 comment->errors comment[] 
		 2: def_%cl_2_4 %cl_2_3->any? %cl_2_3[3.1,] 
		 3: BRANCH %cl_2_4[3.2,] 
BB 4
	outgoing: 6 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_5 %self->errors_for %self[2.0,] comment[] 
		 2: 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_2_5 
BB 6
	outgoing: 7 8 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_6 
		 2: def_%cl_2_7 comment->story comment[] 
		 3: def_%cl_2_8 %cl_2_7->short_id %cl_2_7[6.2,] 
		 4: def_%cl_2_9 %self->hidden_field_tag %self[2.0,] %cl_2_6[6.1,] %cl_2_8[6.3,] 
		 5: 
		 6: def_%cl_2_10 comment->parent_comment comment[6.2,] 
		 7: BRANCH %cl_2_10[6.6,] 
BB 7
	outgoing: 9 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_11 
		 2: def_%cl_2_12 comment->parent_comment comment[] 
		 3: def_%cl_2_13 %cl_2_12->short_id %cl_2_12[7.2,] 
		 4: def_%cl_2_14 %self->hidden_field_tag %self[2.0,] %cl_2_11[7.1,] %cl_2_13[7.3,] 
		 5: 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: def_%cl_2_14 
BB 9
	outgoing: 10 11 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_15 
		 2: def_%cl_2_16 comment->comment comment[] 
		 3: def_%cl_2_17 
		 4: def_%cl_2_18 
		 5: 
		 6: def_%cl_2_19 %self[2.0,] @user[] 
		 7: def_%cl_2_20 %cl_2_19->! %cl_2_19[9.6,] 
		 8: 
		 9: def_%cl_2_21 %self[2.0,] @user[9.6,] 
		 10: BRANCH %cl_2_21[9.9,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: def_%cl_2_22 
		 1: 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: def_%cl_2_23 
		 1: def_%cl_2_22 %cl_2_23[11.0,] 
BB 12
	outgoing: 13 14 32 
	datadep: 
	instructions:
		 0: def_%cl_2_24 %cl_2_17[9.3,] %cl_2_18[9.4,] %cl_2_20[9.7,] %cl_2_22[11.1,10.0,] 
		 1: def_%cl_2_25 %self->text_area_tag %self[2.0,] %cl_2_15[9.1,] %cl_2_16[9.2,] %cl_2_24[12.0,] 
		 2: 
		 3: 
		 4: def_%cl_2_26 %self[12.1,2.0,] @user[9.6,9.9,] 
		 5: BRANCH %cl_2_26[12.4,] 
BB 13
	outgoing: 15 
	datadep: 
	instructions:
		 0: def_%cl_2_27 
		 1: 
BB 14
	outgoing: 15 
	datadep: 
	instructions:
		 0: def_%cl_2_27 
BB 15
	outgoing: 16 17 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_28 comment->new_record? comment[] 
		 2: BRANCH %cl_2_28[15.1,] 
BB 16
	outgoing: 18 
	datadep: 
	instructions:
		 0: def_%cl_2_29 
		 1: 
BB 17
	outgoing: 18 
	datadep: 
	instructions:
		 0: def_%cl_2_30 
		 1: def_%cl_2_29 %cl_2_30[17.0,] 
BB 18
	outgoing: 19 20 32 
	datadep: 
	instructions:
		 0: def_%cl_2_31 %cl_2_29[17.1,16.0,] 
		 1: def_%cl_2_32 
		 2: def_%cl_2_33 
		 3: 
		 4: def_%cl_2_34 %self[2.0,] @user[12.4,9.6,9.9,] 
		 5: def_%cl_2_35 %cl_2_34->! %cl_2_34[18.4,] 
		 6: def_%cl_2_36 %cl_2_32[18.1,] %cl_2_33[18.2,] %cl_2_35[18.5,] 
		 7: def_%cl_2_37 %self->button_tag %self[2.0,] %cl_2_31[18.0,] %cl_2_36[18.6,] 
		 8: def_%cl_2_38 
		 9: def_%cl_2_39 
		 10: def_%cl_2_40 
		 11: 
		 12: def_%cl_2_41 %self[18.7,2.0,] @user[18.4,12.4,9.6,9.9,] 
		 13: def_%cl_2_42 %cl_2_41->! %cl_2_41[18.12,] 
		 14: def_%cl_2_43 %cl_2_39[18.9,] %cl_2_40[18.10,] %cl_2_42[18.13,] 
		 15: def_%cl_2_44 %self->button_tag %self[18.7,2.0,] %cl_2_38[18.8,] %cl_2_43[18.14,] 
		 16: def_%cl_2_45 comment->persisted? comment[] 
		 17: BRANCH %cl_2_45[18.16,] 
BB 19
	outgoing: 20 32 
	datadep: 
	instructions:
		 0: def_%cl_2_46 comment->parent_comment_id comment[] 
		 1: def_%cl_2_45 %cl_2_46[19.0,] 
BB 20
	outgoing: 21 22 
	datadep: 
	instructions:
		 0: BRANCH %cl_2_45[19.1,18.16,] 
BB 21
	outgoing: 23 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_47 
		 2: def_%cl_2_48 
		 3: def_%cl_2_49 
		 4: def_%cl_2_50 %cl_2_48[21.2,] %cl_2_49[21.3,] 
		 5: def_%cl_2_51 %self->button_tag %self[2.0,] %cl_2_47[21.1,] %cl_2_50[21.4,] 
		 6: 
BB 22
	outgoing: 23 
	datadep: 
	instructions:
		 0: def_%cl_2_51 
BB 23
	outgoing: 24 25 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_52 %self[2.0,] @user[18.4,18.12,12.4,9.6,9.9,] 
		 2: BRANCH %cl_2_52[23.1,] 
BB 24
	outgoing: 25 32 
	datadep: 
	instructions:
		 0: def_%cl_2_53 %self[2.0,] @user[23.1,18.4,18.12,12.4,9.6,9.9,] 
		 1: def_%cl_2_54 %cl_2_53->hats %cl_2_53[24.0,] 
		 2: def_%cl_2_55 %cl_2_54->any? %cl_2_54[24.1,] 
		 3: def_%cl_2_52 %cl_2_55[24.2,] 
BB 25
	outgoing: 26 27 
	datadep: 
	instructions:
		 0: BRANCH %cl_2_52[24.3,23.1,] 
BB 26
	outgoing: 28 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_56 
		 2: def_%cl_2_57 %self[2.0,] @user[24.0,23.1,18.4,18.12,12.4,9.6,9.9,] 
		 3: def_%cl_2_58 %cl_2_57->hats %cl_2_57[26.2,] 
		 4: def_%cl_2_59 
		 5: def_%cl_2_60 
		 6: def_%cl_2_61 comment->hat_id comment[] 
		 7: def_%cl_2_62 %self->options_from_collection_for_select %self[2.0,] %cl_2_58[26.3,] %cl_2_59[26.4,] %cl_2_60[26.5,] %cl_2_61[26.6,] 
		 8: def_%cl_2_63 
		 9: def_%cl_2_64 %self->select_tag %self[26.7,2.0,] %cl_2_56[26.1,] %cl_2_62[26.7,] %cl_2_63[26.8,] 
		 10: 
BB 27
	outgoing: 28 
	datadep: 
	instructions:
		 0: def_%cl_2_64 
BB 28
	outgoing: 29 30 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: def_%cl_2_65 %self[2.0,] @user[26.2,24.0,23.1,18.4,18.12,12.4,9.6,9.9,] 
		 3: BRANCH %cl_2_65[28.2,] 
BB 29
	outgoing: 31 32 
	datadep: 
	instructions:
		 0: def_%cl_2_66 
		 1: def_%cl_2_67 %cl_2_66[29.0,] 
		 2: def_%cl_2_68 %self->render %self[2.0,] %cl_2_67[29.1,] 
		 3: 
BB 30
	outgoing: 34 
	datadep: 
	instructions:
		 0: RETURN 
BB 31
	outgoing: 34 
	datadep: 
	instructions:
		 0: RETURN %cl_2_68[29.2,] 
BB 32
	outgoing: 34 
	datadep: 
	instructions:
		 0: def_%cl_2_69 
		 1: def_%cl_2_70 %cl_2_69[32.0,] 
		 2: RETURN %cl_2_70[32.1,] 
BB 34
	outgoing: 
	datadep: 
	instructions:
CLOSURE END
		 8: 
		 9: def_%cl_1_11 %self[6.7,2.0,] 
		 10: BRANCH %cl_1_11[6.9,] 
BB 7
	outgoing: 8 12 
	datadep: 
	instructions:
		 0: def_%cl_1_12 %self->show_comment %self[2.0,] 
		 1: def_%cl_1_13 %cl_1_12->valid? %cl_1_12[7.0,] 
		 2: def_%cl_1_11 %cl_1_13[7.1,] 
BB 8
	outgoing: 9 10 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_11[7.2,6.9,] 
BB 9
	outgoing: 11 12 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_14 
		 2: def_%cl_1_15 %self->show_comment %self[2.0,] 
		 3: def_%cl_1_16 %cl_1_15[9.2,] 
		 4: def_%cl_1_17 %self->render %self[9.2,2.0,] %cl_1_14[9.1,] %cl_1_16[9.3,] 
		 5: 
BB 10
	outgoing: 14 
	datadep: 
	instructions:
		 0: RETURN 
BB 11
	outgoing: 14 
	datadep: 
	instructions:
		 0: RETURN %cl_1_17[9.4,] 
BB 12
	outgoing: 14 
	datadep: 
	instructions:
		 0: def_%cl_1_18 
		 1: def_%cl_1_19 %cl_1_18[12.0,] 
		 2: RETURN %cl_1_19[12.1,] 
BB 14
	outgoing: 
	datadep: 
	instructions:
CLOSURE END
		 13: RETURN %v_14[4.12,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = delete
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: def_%current_scope 
		 3: def_%current_module 
		 4: 
		 5: 
		 6: def_%v_3 %self->find_comment %self[2.0,] 
		 7: def_comment %v_3[2.6,] 
		 8: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: def_%v_4 %self[2.0,] @user[] 
		 1: def_%v_5 comment->is_deletable_by_user? comment[2.7,] %v_4[3.0,] 
		 2: def_%v_3 %v_5[3.1,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: def_%v_6 %v_3[3.2,2.6,] 
		 1: def_%v_7 %v_3->! %v_3[3.2,2.6,] 
		 2: BRANCH %v_7[4.1,] 
BB 5
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_8 
		 2: def_%v_9 %v_8[5.1,] 
		 3: def_%v_10 %self->render %self[2.0,] %v_9[5.2,] 
		 4: RETURN %v_10[5.3,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: def_%v_11 
		 1: 
		 2: def_%v_12 %self[2.0,] @user[3.0,] 
		 3: def_%v_13 comment->delete_for_user comment[2.7,] %v_12[6.2,] 
		 4: 
		 5: def_%v_14 %self->ruby_code_from_view %self[2.0,] 
		 6: def_%v_15 %v_14->ruby_code_from_view %v_14[6.5,] %self[6.5,2.0,] 
CLOSURE BEGIN: comment[6.3,2.7,] %self[6.5,2.0,] 
BB 1
	outgoing: 122 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: def_rb_from_view RECEIVEARG 
		 3: def_%current_scope 
		 4: def_%current_module 
BB 3
	outgoing: 4 5 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_3 comment->short_id comment[] 
		 2: 
		 3: def_%cl_1_4 comment->persisted? comment[3.1,] 
		 4: BRANCH %cl_1_4[3.3,] 
BB 4
	outgoing: 6 120 
	datadep: 
	instructions:
		 0: def_%cl_1_5 comment->short_id comment[] 
		 1: 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_5 
BB 6
	outgoing: 7 11 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_6 comment->current_vote comment[] 
		 2: BRANCH %cl_1_6[6.1,] 
BB 7
	outgoing: 8 9 120 
	datadep: 
	instructions:
		 0: def_%cl_1_7 comment->current_vote comment[] 
		 1: def_%cl_1_8 %cl_1_7[7.0,] 
		 2: def_%cl_1_9 %cl_1_8[7.1,] 
		 3: BRANCH %cl_1_9[7.2,] 
BB 8
	outgoing: 10 
	datadep: 
	instructions:
		 0: def_%cl_1_10 
		 1: 
BB 9
	outgoing: 10 
	datadep: 
	instructions:
		 0: def_%cl_1_11 
		 1: def_%cl_1_10 %cl_1_11[9.0,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: def_%cl_1_12 
		 1: def_%cl_1_10 %cl_1_12[11.0,] 
BB 12
	outgoing: 13 14 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_13 comment->highlighted comment[] 
		 2: BRANCH %cl_1_13[12.1,] 
BB 13
	outgoing: 15 
	datadep: 
	instructions:
		 0: def_%cl_1_14 
		 1: 
BB 14
	outgoing: 15 
	datadep: 
	instructions:
		 0: def_%cl_1_15 
		 1: def_%cl_1_14 %cl_1_15[14.0,] 
BB 15
	outgoing: 16 17 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_16 comment->score comment[] 
		 2: def_%cl_1_17 %cl_1_16[15.1,] 
		 3: BRANCH %cl_1_17[15.2,] 
BB 16
	outgoing: 18 
	datadep: 
	instructions:
		 0: def_%cl_1_18 
		 1: 
BB 17
	outgoing: 18 
	datadep: 
	instructions:
		 0: def_%cl_1_19 
		 1: def_%cl_1_18 %cl_1_19[17.0,] 
BB 18
	outgoing: 19 20 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_20 comment->score comment[] 
		 2: def_%cl_1_21 %cl_1_20[18.1,] 
		 3: BRANCH %cl_1_21[18.2,] 
BB 19
	outgoing: 21 
	datadep: 
	instructions:
		 0: def_%cl_1_22 
		 1: 
BB 20
	outgoing: 21 
	datadep: 
	instructions:
		 0: def_%cl_1_23 
		 1: def_%cl_1_22 %cl_1_23[20.0,] 
BB 21
	outgoing: 22 23 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_24 comment->score comment[] 
		 2: def_%cl_1_25 %cl_1_24[21.1,] 
		 3: BRANCH %cl_1_25[21.2,] 
BB 22
	outgoing: 24 
	datadep: 
	instructions:
		 0: def_%cl_1_26 
		 1: 
BB 23
	outgoing: 24 
	datadep: 
	instructions:
		 0: def_%cl_1_27 
		 1: def_%cl_1_26 %cl_1_27[23.0,] 
BB 24
	outgoing: 25 26 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_28 comment->score comment[] 
		 2: def_%cl_1_29 %cl_1_28[24.1,] 
		 3: BRANCH %cl_1_29[24.2,] 
BB 25
	outgoing: 27 
	datadep: 
	instructions:
		 0: def_%cl_1_30 
		 1: 
BB 26
	outgoing: 27 
	datadep: 
	instructions:
		 0: def_%cl_1_31 
		 1: def_%cl_1_30 %cl_1_31[26.0,] 
BB 27
	outgoing: 28 37 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_32 comment->is_gone? comment[] 
		 2: def_%cl_1_33 %cl_1_32->! %cl_1_32[27.1,] 
		 3: BRANCH %cl_1_33[27.2,] 
BB 28
	outgoing: 29 30 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: def_%cl_1_34 %self[2.0,] @user[] 
		 3: BRANCH %cl_1_34[28.2,] 
BB 29
	outgoing: 31 
	datadep: 
	instructions:
		 0: def_%cl_1_35 
		 1: 
BB 30
	outgoing: 31 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_36 
		 2: def_%cl_1_37 %self->login_path %self[2.0,] 
		 3: def_%cl_1_38 
		 4: def_%cl_1_39 %cl_1_38[30.3,] 
		 5: def_%cl_1_40 %self->link_to %self[30.2,2.0,] %cl_1_36[30.1,] %cl_1_37[30.2,] %cl_1_39[30.4,] 
		 6: def_%cl_1_35 %cl_1_40[30.5,] 
BB 31
	outgoing: 32 33 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_41 comment->score comment[] 
		 2: 
		 3: def_%cl_1_42 %self[2.0,] @user[28.2,] 
		 4: BRANCH %cl_1_42[31.3,] 
BB 32
	outgoing: 33 120 
	datadep: 
	instructions:
		 0: def_%cl_1_43 %self[2.0,] @user[31.3,28.2,] 
		 1: def_%cl_1_44 %cl_1_43->can_downvote? %cl_1_43[32.0,] comment[] 
		 2: def_%cl_1_42 %cl_1_44[32.1,] 
BB 33
	outgoing: 34 35 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_42[32.2,31.3,] 
BB 34
	outgoing: 36 
	datadep: 
	instructions:
		 0: def_%cl_1_45 
		 1: 
BB 35
	outgoing: 36 
	datadep: 
	instructions:
		 0: def_%cl_1_45 
BB 36
	outgoing: 38 
	datadep: 
	instructions:
		 0: def_%cl_1_46 
		 1: 
BB 37
	outgoing: 38 
	datadep: 
	instructions:
		 0: def_%cl_1_46 
BB 38
	outgoing: 39 40 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_47 comment->short_id comment[] 
		 2: 
		 3: 
		 4: def_%cl_1_48 %self[2.0,] @user[32.0,31.3,28.2,] 
		 5: BRANCH %cl_1_48[38.4,] 
BB 39
	outgoing: 41 
	datadep: 
	instructions:
		 0: def_%cl_1_49 
		 1: 
BB 40
	outgoing: 41 
	datadep: 
	instructions:
		 0: def_%cl_1_49 
BB 41
	outgoing: 42 43 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_50 %self[2.0,] @user[38.4,32.0,31.3,28.2,] 
		 2: BRANCH %cl_1_50[41.1,] 
BB 42
	outgoing: 43 120 
	datadep: 
	instructions:
		 0: def_%cl_1_51 %self[2.0,] @user[41.1,38.4,32.0,31.3,28.2,] 
		 1: def_%cl_1_52 %cl_1_51->show_avatars? %cl_1_51[42.0,] 
		 2: def_%cl_1_50 %cl_1_52[42.1,] 
BB 43
	outgoing: 44 45 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_50[42.2,41.1,] 
BB 44
	outgoing: 46 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_53 comment->user comment[] 
		 2: def_%cl_1_54 %cl_1_53->username %cl_1_53[44.1,] 
		 3: 
		 4: def_%cl_1_55 comment->user comment[44.1,] 
		 5: def_%cl_1_56 %cl_1_55[44.4,] 
		 6: 
BB 45
	outgoing: 46 
	datadep: 
	instructions:
		 0: def_%cl_1_56 
BB 46
	outgoing: 47 48 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_57 %self[2.0,] 
		 2: BRANCH %cl_1_57[46.1,] 
BB 47
	outgoing: 48 120 
	datadep: 
	instructions:
		 0: def_%cl_1_58 %self->was_merged %self[2.0,] 
		 1: def_%cl_1_57 %cl_1_58[47.0,] 
BB 48
	outgoing: 49 50 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_57[47.1,46.1,] 
BB 49
	outgoing: 51 
	datadep: 
	instructions:
		 0: def_%cl_1_59 
		 1: 
BB 50
	outgoing: 51 
	datadep: 
	instructions:
		 0: def_%cl_1_59 
BB 51
	outgoing: 52 53 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_60 comment->user comment[] 
		 2: def_%cl_1_61 %cl_1_60->username %cl_1_60[51.1,] 
		 3: 
		 4: def_%cl_1_62 comment->user comment[51.1,] 
		 5: def_%cl_1_63 %cl_1_62->is_active? %cl_1_62[51.4,] 
		 6: def_%cl_1_64 %cl_1_63->! %cl_1_63[51.5,] 
		 7: BRANCH %cl_1_64[51.6,] 
BB 52
	outgoing: 57 
	datadep: 
	instructions:
		 0: def_%cl_1_65 
		 1: 
BB 53
	outgoing: 54 55 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_66 comment->user comment[] 
		 2: def_%cl_1_67 %cl_1_66->is_new? %cl_1_66[53.1,] 
		 3: BRANCH %cl_1_67[53.2,] 
BB 54
	outgoing: 56 
	datadep: 
	instructions:
		 0: def_%cl_1_68 
		 1: 
BB 55
	outgoing: 56 
	datadep: 
	instructions:
		 0: def_%cl_1_68 
BB 56
	outgoing: 57 
	datadep: 
	instructions:
		 0: def_%cl_1_65 
BB 57
	outgoing: 58 59 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_69 comment->user comment[] 
		 2: def_%cl_1_70 %cl_1_69->username %cl_1_69[57.1,] 
		 3: 
		 4: def_%cl_1_71 comment->hat comment[57.1,] 
		 5: BRANCH %cl_1_71[57.4,] 
BB 58
	outgoing: 60 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_72 comment->hat comment[] 
		 2: def_%cl_1_73 %cl_1_72->to_html_label %cl_1_72[58.1,] 
		 3: 
BB 59
	outgoing: 60 
	datadep: 
	instructions:
		 0: def_%cl_1_73 
BB 60
	outgoing: 61 62 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_74 comment->previewing comment[] 
		 2: BRANCH %cl_1_74[60.1,] 
BB 61
	outgoing: 72 
	datadep: 
	instructions:
		 0: def_%cl_1_75 
		 1: 
BB 62
	outgoing: 63 64 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_76 comment->has_been_edited? comment[] 
		 2: BRANCH %cl_1_76[62.1,] 
BB 63
	outgoing: 68 
	datadep: 
	instructions:
		 0: def_%cl_1_77 
		 1: 
BB 64
	outgoing: 65 66 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_78 comment->is_from_email? comment[] 
		 2: BRANCH %cl_1_78[64.1,] 
BB 65
	outgoing: 67 
	datadep: 
	instructions:
		 0: def_%cl_1_79 
		 1: 
BB 66
	outgoing: 67 
	datadep: 
	instructions:
		 0: def_%cl_1_79 
BB 67
	outgoing: 68 
	datadep: 
	instructions:
		 0: def_%cl_1_77 
BB 68
	outgoing: 69 70 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_80 comment->has_been_edited? comment[] 
		 2: BRANCH %cl_1_80[68.1,] 
BB 69
	outgoing: 71 120 
	datadep: 
	instructions:
		 0: def_%cl_1_81 comment->updated_at comment[] 
		 1: 
BB 70
	outgoing: 71 120 
	datadep: 
	instructions:
		 0: def_%cl_1_82 comment->created_at comment[] 
		 1: def_%cl_1_81 %cl_1_82[70.0,] 
BB 71
	outgoing: 72 120 
	datadep: 
	instructions:
		 0: def_%cl_1_83 
		 1: def_%cl_1_84 %self->time_ago_in_words_label %self[2.0,] %cl_1_81[70.1,69.0,] %cl_1_83[71.0,] 
		 2: def_%cl_1_75 %cl_1_84[71.1,] 
BB 72
	outgoing: 73 110 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_85 comment->previewing comment[] 
		 2: def_%cl_1_86 %cl_1_85->! %cl_1_85[72.1,] 
		 3: BRANCH %cl_1_86[72.2,] 
BB 73
	outgoing: 74 75 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_87 comment->url comment[] 
		 2: 
		 3: def_%cl_1_88 %self[2.0,] @user[42.0,41.1,38.4,32.0,31.3,28.2,] 
		 4: def_%cl_1_89 comment->is_editable_by_user? comment[73.1,] %cl_1_88[73.3,] 
		 5: BRANCH %cl_1_89[73.4,] 
BB 74
	outgoing: 76 
	datadep: 
	instructions:
		 0: def_%cl_1_90 
		 1: 
BB 75
	outgoing: 76 
	datadep: 
	instructions:
		 0: def_%cl_1_90 
BB 76
	outgoing: 77 78 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_91 comment->is_gone? comment[] 
		 2: BRANCH %cl_1_91[76.1,] 
BB 77
	outgoing: 78 120 
	datadep: 
	instructions:
		 0: def_%cl_1_92 %self[2.0,] @user[73.3,42.0,41.1,38.4,32.0,31.3,28.2,] 
		 1: def_%cl_1_93 comment->is_undeletable_by_user? comment[] %cl_1_92[77.0,] 
		 2: def_%cl_1_91 %cl_1_93[77.1,] 
BB 78
	outgoing: 79 80 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_91[77.2,76.1,] 
BB 79
	outgoing: 86 
	datadep: 
	instructions:
		 0: def_%cl_1_94 
		 1: 
BB 80
	outgoing: 81 82 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_95 comment->is_gone? comment[] 
		 2: def_%cl_1_96 %cl_1_95->! %cl_1_95[80.1,] 
		 3: BRANCH %cl_1_96[80.2,] 
BB 81
	outgoing: 82 120 
	datadep: 
	instructions:
		 0: def_%cl_1_97 %self[2.0,] @user[77.0,73.3,42.0,41.1,38.4,32.0,31.3,28.2,] 
		 1: def_%cl_1_98 comment->is_deletable_by_user? comment[] %cl_1_97[81.0,] 
		 2: def_%cl_1_96 %cl_1_98[81.1,] 
BB 82
	outgoing: 83 84 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_96[81.2,80.2,] 
BB 83
	outgoing: 85 
	datadep: 
	instructions:
		 0: def_%cl_1_99 
		 1: 
BB 84
	outgoing: 85 
	datadep: 
	instructions:
		 0: def_%cl_1_99 
BB 85
	outgoing: 86 
	datadep: 
	instructions:
		 0: def_%cl_1_94 
BB 86
	outgoing: 87 88 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_100 %self[2.0,] @user[77.0,81.0,73.3,42.0,41.1,38.4,32.0,31.3,28.2,] 
		 2: BRANCH %cl_1_100[86.1,] 
BB 87
	outgoing: 88 120 
	datadep: 
	instructions:
		 0: def_%cl_1_101 comment->story comment[] 
		 1: def_%cl_1_102 %cl_1_101->is_gone? %cl_1_101[87.0,] 
		 2: def_%cl_1_103 %cl_1_102->! %cl_1_102[87.1,] 
		 3: def_%cl_1_100 %cl_1_103[87.2,] 
BB 88
	outgoing: 89 90 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_100[87.3,86.1,] 
BB 89
	outgoing: 90 120 
	datadep: 
	instructions:
		 0: def_%cl_1_104 comment->is_gone? comment[] 
		 1: def_%cl_1_105 %cl_1_104->! %cl_1_104[89.0,] 
		 2: def_%cl_1_100 %cl_1_105[89.1,] 
BB 90
	outgoing: 91 92 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_100[89.2,87.3,86.1,] 
BB 91
	outgoing: 93 
	datadep: 
	instructions:
		 0: def_%cl_1_106 
		 1: 
BB 92
	outgoing: 93 
	datadep: 
	instructions:
		 0: def_%cl_1_106 
BB 93
	outgoing: 94 99 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_107 comment->downvotes comment[] 
		 2: def_%cl_1_108 %cl_1_107[93.1,] 
		 3: BRANCH %cl_1_108[93.2,] 
BB 94
	outgoing: 95 96 120 
	datadep: 
	instructions:
		 0: def_%cl_1_109 comment->score comment[] 
		 1: def_%cl_1_110 %cl_1_109[94.0,] 
		 2: BRANCH %cl_1_110[94.1,] 
BB 95
	outgoing: 96 120 
	datadep: 
	instructions:
		 0: def_%cl_1_111 comment->user_id comment[] 
		 1: def_%cl_1_112 %self[2.0,] @user[86.1,77.0,81.0,73.3,42.0,41.1,38.4,32.0,31.3,28.2,] 
		 2: def_%cl_1_113 %cl_1_112->try %cl_1_112[95.1,] 
		 3: def_%cl_1_114 %cl_1_111[95.0,] %cl_1_113[95.2,] 
		 4: def_%cl_1_110 %cl_1_114[95.3,] 
BB 96
	outgoing: 97 98 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_110[95.4,94.1,] 
BB 97
	outgoing: 98 120 
	datadep: 
	instructions:
		 0: def_%cl_1_115 %self[2.0,] @user[95.1,86.1,77.0,81.0,73.3,42.0,41.1,38.4,32.0,31.3,28.2,] 
		 1: def_%cl_1_116 
		 2: def_%cl_1_117 %cl_1_115->try %cl_1_115[97.0,] %cl_1_116[97.1,] 
		 3: def_%cl_1_110 %cl_1_117[97.2,] 
BB 98
	outgoing: 99 
	datadep: 
	instructions:
		 0: def_%cl_1_108 %cl_1_110[97.3,95.4,94.1,] 
BB 99
	outgoing: 100 101 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_108[98.0,93.2,] 
BB 100
	outgoing: 109 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_118 comment->vote_summary comment[] 
		 2: def_%cl_1_119 %cl_1_118->downcase %cl_1_118[100.1,] 
		 3: 
BB 101
	outgoing: 102 103 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_120 comment->current_vote comment[] 
		 2: BRANCH %cl_1_120[101.1,] 
BB 102
	outgoing: 103 120 
	datadep: 
	instructions:
		 0: def_%cl_1_121 comment->current_vote comment[] 
		 1: def_%cl_1_122 %cl_1_121[102.0,] 
		 2: def_%cl_1_123 %cl_1_122[102.1,] 
		 3: def_%cl_1_120 %cl_1_123[102.2,] 
BB 103
	outgoing: 104 107 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_120[102.3,101.1,] 
BB 104
	outgoing: 105 106 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_124 (Vote) 
		 2: def_%cl_1_125 %cl_1_124[104.1,] 
		 3: %cl_1_125[104.2,] 
BB 105
	outgoing: 106 120 
	datadep: 
	instructions:
		 0: def_%cl_1_125 %cl_1_124[104.1,] 
BB 106
	outgoing: 108 120 
	datadep: 
	instructions:
		 0: def_%cl_1_126 comment->current_vote comment[] 
		 1: def_%cl_1_127 %cl_1_126[106.0,] 
		 2: def_%cl_1_128 %cl_1_125[105.0,104.2,] %cl_1_127[106.1,] 
		 3: def_%cl_1_129 %cl_1_128->downcase %cl_1_128[106.2,] 
		 4: 
BB 107
	outgoing: 108 
	datadep: 
	instructions:
		 0: def_%cl_1_129 
BB 108
	outgoing: 109 
	datadep: 
	instructions:
		 0: def_%cl_1_119 %cl_1_129[107.0,106.3,] 
BB 109
	outgoing: 111 
	datadep: 
	instructions:
		 0: 
BB 110
	outgoing: 111 
	datadep: 
	instructions:
		 0: def_%cl_1_119 
BB 111
	outgoing: 112 113 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_130 %self[2.0,] 
		 2: BRANCH %cl_1_130[111.1,] 
BB 112
	outgoing: 113 120 
	datadep: 
	instructions:
		 0: def_%cl_1_131 %self->show_story %self[2.0,] 
		 1: def_%cl_1_130 %cl_1_131[112.0,] 
BB 113
	outgoing: 114 115 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_130[112.1,111.1,] 
BB 114
	outgoing: 116 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_132 comment->story comment[] 
		 2: def_%cl_1_133 %cl_1_132->comments_path %cl_1_132[114.1,] 
		 3: 
		 4: def_%cl_1_134 comment->story comment[114.1,] 
		 5: def_%cl_1_135 %cl_1_134->title %cl_1_134[114.4,] 
		 6: 
BB 115
	outgoing: 116 
	datadep: 
	instructions:
		 0: def_%cl_1_135 
BB 116
	outgoing: 117 118 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_136 comment->is_gone? comment[] 
		 2: BRANCH %cl_1_136[116.1,] 
BB 117
	outgoing: 119 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_137 comment->gone_text comment[] 
		 2: 
BB 118
	outgoing: 120 122 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_138 comment->markeddown_comment comment[] 
		 2: def_%cl_1_139 %self->raw %self[2.0,] %cl_1_138[118.1,] 
		 3: RETURN %cl_1_139[118.2,] 
BB 119
	outgoing: 122 
	datadep: 
	instructions:
		 0: RETURN %cl_1_137[117.1,] 
BB 120
	outgoing: 122 
	datadep: 
	instructions:
		 0: def_%cl_1_140 
		 1: def_%cl_1_141 %cl_1_140[120.0,] 
		 2: RETURN %cl_1_141[120.1,] 
BB 122
	outgoing: 
	datadep: 
	instructions:
CLOSURE END
		 7: RETURN %v_15[6.6,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = undelete
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: def_%current_scope 
		 3: def_%current_module 
		 4: 
		 5: 
		 6: def_%v_3 %self->find_comment %self[2.0,] 
		 7: def_comment %v_3[2.6,] 
		 8: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: def_%v_4 %self[2.0,] @user[] 
		 1: def_%v_5 comment->is_undeletable_by_user? comment[2.7,] %v_4[3.0,] 
		 2: def_%v_3 %v_5[3.1,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: def_%v_6 %v_3[3.2,2.6,] 
		 1: def_%v_7 %v_3->! %v_3[3.2,2.6,] 
		 2: BRANCH %v_7[4.1,] 
BB 5
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_8 
		 2: def_%v_9 %v_8[5.1,] 
		 3: def_%v_10 %self->render %self[2.0,] %v_9[5.2,] 
		 4: RETURN %v_10[5.3,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: def_%v_11 
		 1: 
		 2: def_%v_12 %self[2.0,] @user[3.0,] 
		 3: def_%v_13 comment->undelete_for_user comment[2.7,] %v_12[6.2,] 
		 4: 
		 5: def_%v_14 %self->ruby_code_from_view %self[2.0,] 
		 6: def_%v_15 %v_14->ruby_code_from_view %v_14[6.5,] %self[6.5,2.0,] 
CLOSURE BEGIN: comment[6.3,2.7,] %self[6.5,2.0,] 
BB 1
	outgoing: 122 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: def_rb_from_view RECEIVEARG 
		 3: def_%current_scope 
		 4: def_%current_module 
BB 3
	outgoing: 4 5 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_3 comment->short_id comment[] 
		 2: 
		 3: def_%cl_1_4 comment->persisted? comment[3.1,] 
		 4: BRANCH %cl_1_4[3.3,] 
BB 4
	outgoing: 6 120 
	datadep: 
	instructions:
		 0: def_%cl_1_5 comment->short_id comment[] 
		 1: 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_5 
BB 6
	outgoing: 7 11 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_6 comment->current_vote comment[] 
		 2: BRANCH %cl_1_6[6.1,] 
BB 7
	outgoing: 8 9 120 
	datadep: 
	instructions:
		 0: def_%cl_1_7 comment->current_vote comment[] 
		 1: def_%cl_1_8 %cl_1_7[7.0,] 
		 2: def_%cl_1_9 %cl_1_8[7.1,] 
		 3: BRANCH %cl_1_9[7.2,] 
BB 8
	outgoing: 10 
	datadep: 
	instructions:
		 0: def_%cl_1_10 
		 1: 
BB 9
	outgoing: 10 
	datadep: 
	instructions:
		 0: def_%cl_1_11 
		 1: def_%cl_1_10 %cl_1_11[9.0,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: def_%cl_1_12 
		 1: def_%cl_1_10 %cl_1_12[11.0,] 
BB 12
	outgoing: 13 14 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_13 comment->highlighted comment[] 
		 2: BRANCH %cl_1_13[12.1,] 
BB 13
	outgoing: 15 
	datadep: 
	instructions:
		 0: def_%cl_1_14 
		 1: 
BB 14
	outgoing: 15 
	datadep: 
	instructions:
		 0: def_%cl_1_15 
		 1: def_%cl_1_14 %cl_1_15[14.0,] 
BB 15
	outgoing: 16 17 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_16 comment->score comment[] 
		 2: def_%cl_1_17 %cl_1_16[15.1,] 
		 3: BRANCH %cl_1_17[15.2,] 
BB 16
	outgoing: 18 
	datadep: 
	instructions:
		 0: def_%cl_1_18 
		 1: 
BB 17
	outgoing: 18 
	datadep: 
	instructions:
		 0: def_%cl_1_19 
		 1: def_%cl_1_18 %cl_1_19[17.0,] 
BB 18
	outgoing: 19 20 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_20 comment->score comment[] 
		 2: def_%cl_1_21 %cl_1_20[18.1,] 
		 3: BRANCH %cl_1_21[18.2,] 
BB 19
	outgoing: 21 
	datadep: 
	instructions:
		 0: def_%cl_1_22 
		 1: 
BB 20
	outgoing: 21 
	datadep: 
	instructions:
		 0: def_%cl_1_23 
		 1: def_%cl_1_22 %cl_1_23[20.0,] 
BB 21
	outgoing: 22 23 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_24 comment->score comment[] 
		 2: def_%cl_1_25 %cl_1_24[21.1,] 
		 3: BRANCH %cl_1_25[21.2,] 
BB 22
	outgoing: 24 
	datadep: 
	instructions:
		 0: def_%cl_1_26 
		 1: 
BB 23
	outgoing: 24 
	datadep: 
	instructions:
		 0: def_%cl_1_27 
		 1: def_%cl_1_26 %cl_1_27[23.0,] 
BB 24
	outgoing: 25 26 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_28 comment->score comment[] 
		 2: def_%cl_1_29 %cl_1_28[24.1,] 
		 3: BRANCH %cl_1_29[24.2,] 
BB 25
	outgoing: 27 
	datadep: 
	instructions:
		 0: def_%cl_1_30 
		 1: 
BB 26
	outgoing: 27 
	datadep: 
	instructions:
		 0: def_%cl_1_31 
		 1: def_%cl_1_30 %cl_1_31[26.0,] 
BB 27
	outgoing: 28 37 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_32 comment->is_gone? comment[] 
		 2: def_%cl_1_33 %cl_1_32->! %cl_1_32[27.1,] 
		 3: BRANCH %cl_1_33[27.2,] 
BB 28
	outgoing: 29 30 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: def_%cl_1_34 %self[2.0,] @user[] 
		 3: BRANCH %cl_1_34[28.2,] 
BB 29
	outgoing: 31 
	datadep: 
	instructions:
		 0: def_%cl_1_35 
		 1: 
BB 30
	outgoing: 31 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_36 
		 2: def_%cl_1_37 %self->login_path %self[2.0,] 
		 3: def_%cl_1_38 
		 4: def_%cl_1_39 %cl_1_38[30.3,] 
		 5: def_%cl_1_40 %self->link_to %self[30.2,2.0,] %cl_1_36[30.1,] %cl_1_37[30.2,] %cl_1_39[30.4,] 
		 6: def_%cl_1_35 %cl_1_40[30.5,] 
BB 31
	outgoing: 32 33 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_41 comment->score comment[] 
		 2: 
		 3: def_%cl_1_42 %self[2.0,] @user[28.2,] 
		 4: BRANCH %cl_1_42[31.3,] 
BB 32
	outgoing: 33 120 
	datadep: 
	instructions:
		 0: def_%cl_1_43 %self[2.0,] @user[31.3,28.2,] 
		 1: def_%cl_1_44 %cl_1_43->can_downvote? %cl_1_43[32.0,] comment[] 
		 2: def_%cl_1_42 %cl_1_44[32.1,] 
BB 33
	outgoing: 34 35 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_42[32.2,31.3,] 
BB 34
	outgoing: 36 
	datadep: 
	instructions:
		 0: def_%cl_1_45 
		 1: 
BB 35
	outgoing: 36 
	datadep: 
	instructions:
		 0: def_%cl_1_45 
BB 36
	outgoing: 38 
	datadep: 
	instructions:
		 0: def_%cl_1_46 
		 1: 
BB 37
	outgoing: 38 
	datadep: 
	instructions:
		 0: def_%cl_1_46 
BB 38
	outgoing: 39 40 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_47 comment->short_id comment[] 
		 2: 
		 3: 
		 4: def_%cl_1_48 %self[2.0,] @user[32.0,31.3,28.2,] 
		 5: BRANCH %cl_1_48[38.4,] 
BB 39
	outgoing: 41 
	datadep: 
	instructions:
		 0: def_%cl_1_49 
		 1: 
BB 40
	outgoing: 41 
	datadep: 
	instructions:
		 0: def_%cl_1_49 
BB 41
	outgoing: 42 43 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_50 %self[2.0,] @user[38.4,32.0,31.3,28.2,] 
		 2: BRANCH %cl_1_50[41.1,] 
BB 42
	outgoing: 43 120 
	datadep: 
	instructions:
		 0: def_%cl_1_51 %self[2.0,] @user[41.1,38.4,32.0,31.3,28.2,] 
		 1: def_%cl_1_52 %cl_1_51->show_avatars? %cl_1_51[42.0,] 
		 2: def_%cl_1_50 %cl_1_52[42.1,] 
BB 43
	outgoing: 44 45 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_50[42.2,41.1,] 
BB 44
	outgoing: 46 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_53 comment->user comment[] 
		 2: def_%cl_1_54 %cl_1_53->username %cl_1_53[44.1,] 
		 3: 
		 4: def_%cl_1_55 comment->user comment[44.1,] 
		 5: def_%cl_1_56 %cl_1_55[44.4,] 
		 6: 
BB 45
	outgoing: 46 
	datadep: 
	instructions:
		 0: def_%cl_1_56 
BB 46
	outgoing: 47 48 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_57 %self[2.0,] 
		 2: BRANCH %cl_1_57[46.1,] 
BB 47
	outgoing: 48 120 
	datadep: 
	instructions:
		 0: def_%cl_1_58 %self->was_merged %self[2.0,] 
		 1: def_%cl_1_57 %cl_1_58[47.0,] 
BB 48
	outgoing: 49 50 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_57[47.1,46.1,] 
BB 49
	outgoing: 51 
	datadep: 
	instructions:
		 0: def_%cl_1_59 
		 1: 
BB 50
	outgoing: 51 
	datadep: 
	instructions:
		 0: def_%cl_1_59 
BB 51
	outgoing: 52 53 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_60 comment->user comment[] 
		 2: def_%cl_1_61 %cl_1_60->username %cl_1_60[51.1,] 
		 3: 
		 4: def_%cl_1_62 comment->user comment[51.1,] 
		 5: def_%cl_1_63 %cl_1_62->is_active? %cl_1_62[51.4,] 
		 6: def_%cl_1_64 %cl_1_63->! %cl_1_63[51.5,] 
		 7: BRANCH %cl_1_64[51.6,] 
BB 52
	outgoing: 57 
	datadep: 
	instructions:
		 0: def_%cl_1_65 
		 1: 
BB 53
	outgoing: 54 55 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_66 comment->user comment[] 
		 2: def_%cl_1_67 %cl_1_66->is_new? %cl_1_66[53.1,] 
		 3: BRANCH %cl_1_67[53.2,] 
BB 54
	outgoing: 56 
	datadep: 
	instructions:
		 0: def_%cl_1_68 
		 1: 
BB 55
	outgoing: 56 
	datadep: 
	instructions:
		 0: def_%cl_1_68 
BB 56
	outgoing: 57 
	datadep: 
	instructions:
		 0: def_%cl_1_65 
BB 57
	outgoing: 58 59 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_69 comment->user comment[] 
		 2: def_%cl_1_70 %cl_1_69->username %cl_1_69[57.1,] 
		 3: 
		 4: def_%cl_1_71 comment->hat comment[57.1,] 
		 5: BRANCH %cl_1_71[57.4,] 
BB 58
	outgoing: 60 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_72 comment->hat comment[] 
		 2: def_%cl_1_73 %cl_1_72->to_html_label %cl_1_72[58.1,] 
		 3: 
BB 59
	outgoing: 60 
	datadep: 
	instructions:
		 0: def_%cl_1_73 
BB 60
	outgoing: 61 62 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_74 comment->previewing comment[] 
		 2: BRANCH %cl_1_74[60.1,] 
BB 61
	outgoing: 72 
	datadep: 
	instructions:
		 0: def_%cl_1_75 
		 1: 
BB 62
	outgoing: 63 64 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_76 comment->has_been_edited? comment[] 
		 2: BRANCH %cl_1_76[62.1,] 
BB 63
	outgoing: 68 
	datadep: 
	instructions:
		 0: def_%cl_1_77 
		 1: 
BB 64
	outgoing: 65 66 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_78 comment->is_from_email? comment[] 
		 2: BRANCH %cl_1_78[64.1,] 
BB 65
	outgoing: 67 
	datadep: 
	instructions:
		 0: def_%cl_1_79 
		 1: 
BB 66
	outgoing: 67 
	datadep: 
	instructions:
		 0: def_%cl_1_79 
BB 67
	outgoing: 68 
	datadep: 
	instructions:
		 0: def_%cl_1_77 
BB 68
	outgoing: 69 70 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_80 comment->has_been_edited? comment[] 
		 2: BRANCH %cl_1_80[68.1,] 
BB 69
	outgoing: 71 120 
	datadep: 
	instructions:
		 0: def_%cl_1_81 comment->updated_at comment[] 
		 1: 
BB 70
	outgoing: 71 120 
	datadep: 
	instructions:
		 0: def_%cl_1_82 comment->created_at comment[] 
		 1: def_%cl_1_81 %cl_1_82[70.0,] 
BB 71
	outgoing: 72 120 
	datadep: 
	instructions:
		 0: def_%cl_1_83 
		 1: def_%cl_1_84 %self->time_ago_in_words_label %self[2.0,] %cl_1_81[70.1,69.0,] %cl_1_83[71.0,] 
		 2: def_%cl_1_75 %cl_1_84[71.1,] 
BB 72
	outgoing: 73 110 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_85 comment->previewing comment[] 
		 2: def_%cl_1_86 %cl_1_85->! %cl_1_85[72.1,] 
		 3: BRANCH %cl_1_86[72.2,] 
BB 73
	outgoing: 74 75 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_87 comment->url comment[] 
		 2: 
		 3: def_%cl_1_88 %self[2.0,] @user[42.0,41.1,38.4,32.0,31.3,28.2,] 
		 4: def_%cl_1_89 comment->is_editable_by_user? comment[73.1,] %cl_1_88[73.3,] 
		 5: BRANCH %cl_1_89[73.4,] 
BB 74
	outgoing: 76 
	datadep: 
	instructions:
		 0: def_%cl_1_90 
		 1: 
BB 75
	outgoing: 76 
	datadep: 
	instructions:
		 0: def_%cl_1_90 
BB 76
	outgoing: 77 78 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_91 comment->is_gone? comment[] 
		 2: BRANCH %cl_1_91[76.1,] 
BB 77
	outgoing: 78 120 
	datadep: 
	instructions:
		 0: def_%cl_1_92 %self[2.0,] @user[73.3,42.0,41.1,38.4,32.0,31.3,28.2,] 
		 1: def_%cl_1_93 comment->is_undeletable_by_user? comment[] %cl_1_92[77.0,] 
		 2: def_%cl_1_91 %cl_1_93[77.1,] 
BB 78
	outgoing: 79 80 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_91[77.2,76.1,] 
BB 79
	outgoing: 86 
	datadep: 
	instructions:
		 0: def_%cl_1_94 
		 1: 
BB 80
	outgoing: 81 82 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_95 comment->is_gone? comment[] 
		 2: def_%cl_1_96 %cl_1_95->! %cl_1_95[80.1,] 
		 3: BRANCH %cl_1_96[80.2,] 
BB 81
	outgoing: 82 120 
	datadep: 
	instructions:
		 0: def_%cl_1_97 %self[2.0,] @user[77.0,73.3,42.0,41.1,38.4,32.0,31.3,28.2,] 
		 1: def_%cl_1_98 comment->is_deletable_by_user? comment[] %cl_1_97[81.0,] 
		 2: def_%cl_1_96 %cl_1_98[81.1,] 
BB 82
	outgoing: 83 84 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_96[81.2,80.2,] 
BB 83
	outgoing: 85 
	datadep: 
	instructions:
		 0: def_%cl_1_99 
		 1: 
BB 84
	outgoing: 85 
	datadep: 
	instructions:
		 0: def_%cl_1_99 
BB 85
	outgoing: 86 
	datadep: 
	instructions:
		 0: def_%cl_1_94 
BB 86
	outgoing: 87 88 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_100 %self[2.0,] @user[77.0,81.0,73.3,42.0,41.1,38.4,32.0,31.3,28.2,] 
		 2: BRANCH %cl_1_100[86.1,] 
BB 87
	outgoing: 88 120 
	datadep: 
	instructions:
		 0: def_%cl_1_101 comment->story comment[] 
		 1: def_%cl_1_102 %cl_1_101->is_gone? %cl_1_101[87.0,] 
		 2: def_%cl_1_103 %cl_1_102->! %cl_1_102[87.1,] 
		 3: def_%cl_1_100 %cl_1_103[87.2,] 
BB 88
	outgoing: 89 90 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_100[87.3,86.1,] 
BB 89
	outgoing: 90 120 
	datadep: 
	instructions:
		 0: def_%cl_1_104 comment->is_gone? comment[] 
		 1: def_%cl_1_105 %cl_1_104->! %cl_1_104[89.0,] 
		 2: def_%cl_1_100 %cl_1_105[89.1,] 
BB 90
	outgoing: 91 92 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_100[89.2,87.3,86.1,] 
BB 91
	outgoing: 93 
	datadep: 
	instructions:
		 0: def_%cl_1_106 
		 1: 
BB 92
	outgoing: 93 
	datadep: 
	instructions:
		 0: def_%cl_1_106 
BB 93
	outgoing: 94 99 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_107 comment->downvotes comment[] 
		 2: def_%cl_1_108 %cl_1_107[93.1,] 
		 3: BRANCH %cl_1_108[93.2,] 
BB 94
	outgoing: 95 96 120 
	datadep: 
	instructions:
		 0: def_%cl_1_109 comment->score comment[] 
		 1: def_%cl_1_110 %cl_1_109[94.0,] 
		 2: BRANCH %cl_1_110[94.1,] 
BB 95
	outgoing: 96 120 
	datadep: 
	instructions:
		 0: def_%cl_1_111 comment->user_id comment[] 
		 1: def_%cl_1_112 %self[2.0,] @user[86.1,77.0,81.0,73.3,42.0,41.1,38.4,32.0,31.3,28.2,] 
		 2: def_%cl_1_113 %cl_1_112->try %cl_1_112[95.1,] 
		 3: def_%cl_1_114 %cl_1_111[95.0,] %cl_1_113[95.2,] 
		 4: def_%cl_1_110 %cl_1_114[95.3,] 
BB 96
	outgoing: 97 98 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_110[95.4,94.1,] 
BB 97
	outgoing: 98 120 
	datadep: 
	instructions:
		 0: def_%cl_1_115 %self[2.0,] @user[95.1,86.1,77.0,81.0,73.3,42.0,41.1,38.4,32.0,31.3,28.2,] 
		 1: def_%cl_1_116 
		 2: def_%cl_1_117 %cl_1_115->try %cl_1_115[97.0,] %cl_1_116[97.1,] 
		 3: def_%cl_1_110 %cl_1_117[97.2,] 
BB 98
	outgoing: 99 
	datadep: 
	instructions:
		 0: def_%cl_1_108 %cl_1_110[97.3,95.4,94.1,] 
BB 99
	outgoing: 100 101 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_108[98.0,93.2,] 
BB 100
	outgoing: 109 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_118 comment->vote_summary comment[] 
		 2: def_%cl_1_119 %cl_1_118->downcase %cl_1_118[100.1,] 
		 3: 
BB 101
	outgoing: 102 103 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_120 comment->current_vote comment[] 
		 2: BRANCH %cl_1_120[101.1,] 
BB 102
	outgoing: 103 120 
	datadep: 
	instructions:
		 0: def_%cl_1_121 comment->current_vote comment[] 
		 1: def_%cl_1_122 %cl_1_121[102.0,] 
		 2: def_%cl_1_123 %cl_1_122[102.1,] 
		 3: def_%cl_1_120 %cl_1_123[102.2,] 
BB 103
	outgoing: 104 107 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_120[102.3,101.1,] 
BB 104
	outgoing: 105 106 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_124 (Vote) 
		 2: def_%cl_1_125 %cl_1_124[104.1,] 
		 3: %cl_1_125[104.2,] 
BB 105
	outgoing: 106 120 
	datadep: 
	instructions:
		 0: def_%cl_1_125 %cl_1_124[104.1,] 
BB 106
	outgoing: 108 120 
	datadep: 
	instructions:
		 0: def_%cl_1_126 comment->current_vote comment[] 
		 1: def_%cl_1_127 %cl_1_126[106.0,] 
		 2: def_%cl_1_128 %cl_1_125[105.0,104.2,] %cl_1_127[106.1,] 
		 3: def_%cl_1_129 %cl_1_128->downcase %cl_1_128[106.2,] 
		 4: 
BB 107
	outgoing: 108 
	datadep: 
	instructions:
		 0: def_%cl_1_129 
BB 108
	outgoing: 109 
	datadep: 
	instructions:
		 0: def_%cl_1_119 %cl_1_129[107.0,106.3,] 
BB 109
	outgoing: 111 
	datadep: 
	instructions:
		 0: 
BB 110
	outgoing: 111 
	datadep: 
	instructions:
		 0: def_%cl_1_119 
BB 111
	outgoing: 112 113 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_130 %self[2.0,] 
		 2: BRANCH %cl_1_130[111.1,] 
BB 112
	outgoing: 113 120 
	datadep: 
	instructions:
		 0: def_%cl_1_131 %self->show_story %self[2.0,] 
		 1: def_%cl_1_130 %cl_1_131[112.0,] 
BB 113
	outgoing: 114 115 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_130[112.1,111.1,] 
BB 114
	outgoing: 116 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_132 comment->story comment[] 
		 2: def_%cl_1_133 %cl_1_132->comments_path %cl_1_132[114.1,] 
		 3: 
		 4: def_%cl_1_134 comment->story comment[114.1,] 
		 5: def_%cl_1_135 %cl_1_134->title %cl_1_134[114.4,] 
		 6: 
BB 115
	outgoing: 116 
	datadep: 
	instructions:
		 0: def_%cl_1_135 
BB 116
	outgoing: 117 118 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_136 comment->is_gone? comment[] 
		 2: BRANCH %cl_1_136[116.1,] 
BB 117
	outgoing: 119 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_137 comment->gone_text comment[] 
		 2: 
BB 118
	outgoing: 120 122 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_138 comment->markeddown_comment comment[] 
		 2: def_%cl_1_139 %self->raw %self[2.0,] %cl_1_138[118.1,] 
		 3: RETURN %cl_1_139[118.2,] 
BB 119
	outgoing: 122 
	datadep: 
	instructions:
		 0: RETURN %cl_1_137[117.1,] 
BB 120
	outgoing: 122 
	datadep: 
	instructions:
		 0: def_%cl_1_140 
		 1: def_%cl_1_141 %cl_1_140[120.0,] 
		 2: RETURN %cl_1_141[120.1,] 
BB 122
	outgoing: 
	datadep: 
	instructions:
CLOSURE END
		 7: RETURN %v_15[6.6,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = update
BB 1
	outgoing: 18 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: def_%current_scope 
		 3: def_%current_module 
		 4: 
		 5: 
		 6: def_%v_3 %self->find_comment %self[2.0,] 
		 7: def_comment %v_3[2.6,] 
		 8: BRANCH %v_3[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: def_%v_4 %self[2.0,] @user[] 
		 1: def_%v_5 comment->is_editable_by_user? comment[2.7,] %v_4[3.0,] 
		 2: def_%v_3 %v_5[3.1,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: def_%v_6 %v_3[3.2,2.6,] 
		 1: def_%v_7 %v_3->! %v_3[3.2,2.6,] 
		 2: BRANCH %v_7[4.1,] 
BB 5
	outgoing: 18 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_8 
		 2: def_%v_9 %v_8[5.1,] 
		 3: def_%v_10 %self->render %self[2.0,] %v_9[5.2,] 
		 4: RETURN %v_10[5.3,] 
BB 6
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: def_%v_11 
		 1: 
		 2: def_%v_12 %self->params %self[2.0,] 
		 3: def_%v_13 %v_12[6.2,] 
		 4: ATTRASSIGN comment->comment comment[2.7,] %v_13[6.3,] 
		 5: 
		 6: ATTRASSIGN comment->hat_id comment[6.4,] 
		 7: 
		 8: def_%v_14 %self->params %self[6.2,2.0,] 
		 9: def_%v_15 %v_14[6.8,] 
		 10: BRANCH %v_15[6.9,] 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: def_%v_16 %self[2.0,] @user[3.0,] 
		 1: def_%v_17 %v_16->hats %v_16[8.0,] 
		 2: def_%v_18 %self->params %self[2.0,] 
		 3: def_%v_19 %v_18[8.2,] 
		 4: def_%v_20 %v_19[8.3,] 
		 5: def_%v_21 %v_17->where %v_17[8.1,] %v_20[8.4,] 
		 6: def_%v_15 %v_21[8.5,] 
BB 9
	outgoing: 10 11 
	datadep: 
	instructions:
		 0: BRANCH %v_15[8.6,6.9,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_22 %self->params %self[2.0,] 
		 2: def_%v_23 %v_22[10.1,] 
		 3: ATTRASSIGN comment->hat_id comment[6.4,6.6,] %v_23[10.2,] 
		 4: 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: def_%v_23 
BB 12
	outgoing: 13 14 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_24 %self->params %self[2.0,] 
		 2: def_%v_25 %v_24[12.1,] 
		 3: def_%v_26 %v_25->blank? %v_25[12.2,] 
		 4: BRANCH %v_26[12.3,] 
BB 13
	outgoing: 14 
	datadep: 
	instructions:
		 0: def_%v_27 comment->save comment[10.3,6.4,6.6,] 
		 1: def_%v_26 %v_27[13.0,] 
BB 14
	outgoing: 15 16 
	datadep: 
	instructions:
		 0: BRANCH %v_26[13.1,12.3,] 
BB 15
	outgoing: 18 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_28 (Vote) 
		 2: def_%v_29 %self[2.0,] @user[8.0,3.0,] 
		 3: def_%v_30 %v_29->id %v_29[15.2,] 
		 4: def_%v_31 comment->id comment[10.3,6.4,6.6,] 
		 5: def_%v_32 %v_31[15.4,] 
		 6: def_%v_33 %v_28->comment_votes_by_user_for_comment_ids_hash %v_28[15.1,] %v_30[15.3,] %v_32[15.5,] 
		 7: def_votes %v_33[15.6,] 
		 8: 
		 9: def_%v_34 comment->id comment[15.4,10.3,6.4,6.6,] 
		 10: def_%v_35 votes[15.7,] %v_34[15.9,] 
		 11: ATTRASSIGN comment->current_vote comment[15.4,15.9,10.3,6.4,6.6,] %v_35[15.10,] 
		 12: 
		 13: def_%v_36 %self->ruby_code_from_view %self[2.0,] 
		 14: def_%v_37 %v_36->ruby_code_from_view %v_36[15.13,] %self[15.13,2.0,] 
CLOSURE BEGIN: comment[15.4,15.9,15.11,] %self[15.13,2.0,] 
BB 1
	outgoing: 122 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: def_rb_from_view RECEIVEARG 
		 3: def_%current_scope 
		 4: def_%current_module 
BB 3
	outgoing: 4 5 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_3 comment->short_id comment[] 
		 2: 
		 3: def_%cl_1_4 comment->persisted? comment[3.1,] 
		 4: BRANCH %cl_1_4[3.3,] 
BB 4
	outgoing: 6 120 
	datadep: 
	instructions:
		 0: def_%cl_1_5 comment->short_id comment[] 
		 1: 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_5 
BB 6
	outgoing: 7 11 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_6 comment->current_vote comment[] 
		 2: BRANCH %cl_1_6[6.1,] 
BB 7
	outgoing: 8 9 120 
	datadep: 
	instructions:
		 0: def_%cl_1_7 comment->current_vote comment[] 
		 1: def_%cl_1_8 %cl_1_7[7.0,] 
		 2: def_%cl_1_9 %cl_1_8[7.1,] 
		 3: BRANCH %cl_1_9[7.2,] 
BB 8
	outgoing: 10 
	datadep: 
	instructions:
		 0: def_%cl_1_10 
		 1: 
BB 9
	outgoing: 10 
	datadep: 
	instructions:
		 0: def_%cl_1_11 
		 1: def_%cl_1_10 %cl_1_11[9.0,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: def_%cl_1_12 
		 1: def_%cl_1_10 %cl_1_12[11.0,] 
BB 12
	outgoing: 13 14 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_13 comment->highlighted comment[] 
		 2: BRANCH %cl_1_13[12.1,] 
BB 13
	outgoing: 15 
	datadep: 
	instructions:
		 0: def_%cl_1_14 
		 1: 
BB 14
	outgoing: 15 
	datadep: 
	instructions:
		 0: def_%cl_1_15 
		 1: def_%cl_1_14 %cl_1_15[14.0,] 
BB 15
	outgoing: 16 17 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_16 comment->score comment[] 
		 2: def_%cl_1_17 %cl_1_16[15.1,] 
		 3: BRANCH %cl_1_17[15.2,] 
BB 16
	outgoing: 18 
	datadep: 
	instructions:
		 0: def_%cl_1_18 
		 1: 
BB 17
	outgoing: 18 
	datadep: 
	instructions:
		 0: def_%cl_1_19 
		 1: def_%cl_1_18 %cl_1_19[17.0,] 
BB 18
	outgoing: 19 20 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_20 comment->score comment[] 
		 2: def_%cl_1_21 %cl_1_20[18.1,] 
		 3: BRANCH %cl_1_21[18.2,] 
BB 19
	outgoing: 21 
	datadep: 
	instructions:
		 0: def_%cl_1_22 
		 1: 
BB 20
	outgoing: 21 
	datadep: 
	instructions:
		 0: def_%cl_1_23 
		 1: def_%cl_1_22 %cl_1_23[20.0,] 
BB 21
	outgoing: 22 23 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_24 comment->score comment[] 
		 2: def_%cl_1_25 %cl_1_24[21.1,] 
		 3: BRANCH %cl_1_25[21.2,] 
BB 22
	outgoing: 24 
	datadep: 
	instructions:
		 0: def_%cl_1_26 
		 1: 
BB 23
	outgoing: 24 
	datadep: 
	instructions:
		 0: def_%cl_1_27 
		 1: def_%cl_1_26 %cl_1_27[23.0,] 
BB 24
	outgoing: 25 26 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_28 comment->score comment[] 
		 2: def_%cl_1_29 %cl_1_28[24.1,] 
		 3: BRANCH %cl_1_29[24.2,] 
BB 25
	outgoing: 27 
	datadep: 
	instructions:
		 0: def_%cl_1_30 
		 1: 
BB 26
	outgoing: 27 
	datadep: 
	instructions:
		 0: def_%cl_1_31 
		 1: def_%cl_1_30 %cl_1_31[26.0,] 
BB 27
	outgoing: 28 37 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_32 comment->is_gone? comment[] 
		 2: def_%cl_1_33 %cl_1_32->! %cl_1_32[27.1,] 
		 3: BRANCH %cl_1_33[27.2,] 
BB 28
	outgoing: 29 30 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: def_%cl_1_34 %self[2.0,] @user[] 
		 3: BRANCH %cl_1_34[28.2,] 
BB 29
	outgoing: 31 
	datadep: 
	instructions:
		 0: def_%cl_1_35 
		 1: 
BB 30
	outgoing: 31 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_36 
		 2: def_%cl_1_37 %self->login_path %self[2.0,] 
		 3: def_%cl_1_38 
		 4: def_%cl_1_39 %cl_1_38[30.3,] 
		 5: def_%cl_1_40 %self->link_to %self[30.2,2.0,] %cl_1_36[30.1,] %cl_1_37[30.2,] %cl_1_39[30.4,] 
		 6: def_%cl_1_35 %cl_1_40[30.5,] 
BB 31
	outgoing: 32 33 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_41 comment->score comment[] 
		 2: 
		 3: def_%cl_1_42 %self[2.0,] @user[28.2,] 
		 4: BRANCH %cl_1_42[31.3,] 
BB 32
	outgoing: 33 120 
	datadep: 
	instructions:
		 0: def_%cl_1_43 %self[2.0,] @user[31.3,28.2,] 
		 1: def_%cl_1_44 %cl_1_43->can_downvote? %cl_1_43[32.0,] comment[] 
		 2: def_%cl_1_42 %cl_1_44[32.1,] 
BB 33
	outgoing: 34 35 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_42[32.2,31.3,] 
BB 34
	outgoing: 36 
	datadep: 
	instructions:
		 0: def_%cl_1_45 
		 1: 
BB 35
	outgoing: 36 
	datadep: 
	instructions:
		 0: def_%cl_1_45 
BB 36
	outgoing: 38 
	datadep: 
	instructions:
		 0: def_%cl_1_46 
		 1: 
BB 37
	outgoing: 38 
	datadep: 
	instructions:
		 0: def_%cl_1_46 
BB 38
	outgoing: 39 40 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_47 comment->short_id comment[] 
		 2: 
		 3: 
		 4: def_%cl_1_48 %self[2.0,] @user[32.0,31.3,28.2,] 
		 5: BRANCH %cl_1_48[38.4,] 
BB 39
	outgoing: 41 
	datadep: 
	instructions:
		 0: def_%cl_1_49 
		 1: 
BB 40
	outgoing: 41 
	datadep: 
	instructions:
		 0: def_%cl_1_49 
BB 41
	outgoing: 42 43 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_50 %self[2.0,] @user[38.4,32.0,31.3,28.2,] 
		 2: BRANCH %cl_1_50[41.1,] 
BB 42
	outgoing: 43 120 
	datadep: 
	instructions:
		 0: def_%cl_1_51 %self[2.0,] @user[41.1,38.4,32.0,31.3,28.2,] 
		 1: def_%cl_1_52 %cl_1_51->show_avatars? %cl_1_51[42.0,] 
		 2: def_%cl_1_50 %cl_1_52[42.1,] 
BB 43
	outgoing: 44 45 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_50[42.2,41.1,] 
BB 44
	outgoing: 46 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_53 comment->user comment[] 
		 2: def_%cl_1_54 %cl_1_53->username %cl_1_53[44.1,] 
		 3: 
		 4: def_%cl_1_55 comment->user comment[44.1,] 
		 5: def_%cl_1_56 %cl_1_55[44.4,] 
		 6: 
BB 45
	outgoing: 46 
	datadep: 
	instructions:
		 0: def_%cl_1_56 
BB 46
	outgoing: 47 48 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_57 %self[2.0,] 
		 2: BRANCH %cl_1_57[46.1,] 
BB 47
	outgoing: 48 120 
	datadep: 
	instructions:
		 0: def_%cl_1_58 %self->was_merged %self[2.0,] 
		 1: def_%cl_1_57 %cl_1_58[47.0,] 
BB 48
	outgoing: 49 50 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_57[47.1,46.1,] 
BB 49
	outgoing: 51 
	datadep: 
	instructions:
		 0: def_%cl_1_59 
		 1: 
BB 50
	outgoing: 51 
	datadep: 
	instructions:
		 0: def_%cl_1_59 
BB 51
	outgoing: 52 53 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_60 comment->user comment[] 
		 2: def_%cl_1_61 %cl_1_60->username %cl_1_60[51.1,] 
		 3: 
		 4: def_%cl_1_62 comment->user comment[51.1,] 
		 5: def_%cl_1_63 %cl_1_62->is_active? %cl_1_62[51.4,] 
		 6: def_%cl_1_64 %cl_1_63->! %cl_1_63[51.5,] 
		 7: BRANCH %cl_1_64[51.6,] 
BB 52
	outgoing: 57 
	datadep: 
	instructions:
		 0: def_%cl_1_65 
		 1: 
BB 53
	outgoing: 54 55 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_66 comment->user comment[] 
		 2: def_%cl_1_67 %cl_1_66->is_new? %cl_1_66[53.1,] 
		 3: BRANCH %cl_1_67[53.2,] 
BB 54
	outgoing: 56 
	datadep: 
	instructions:
		 0: def_%cl_1_68 
		 1: 
BB 55
	outgoing: 56 
	datadep: 
	instructions:
		 0: def_%cl_1_68 
BB 56
	outgoing: 57 
	datadep: 
	instructions:
		 0: def_%cl_1_65 
BB 57
	outgoing: 58 59 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_69 comment->user comment[] 
		 2: def_%cl_1_70 %cl_1_69->username %cl_1_69[57.1,] 
		 3: 
		 4: def_%cl_1_71 comment->hat comment[57.1,] 
		 5: BRANCH %cl_1_71[57.4,] 
BB 58
	outgoing: 60 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_72 comment->hat comment[] 
		 2: def_%cl_1_73 %cl_1_72->to_html_label %cl_1_72[58.1,] 
		 3: 
BB 59
	outgoing: 60 
	datadep: 
	instructions:
		 0: def_%cl_1_73 
BB 60
	outgoing: 61 62 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_74 comment->previewing comment[] 
		 2: BRANCH %cl_1_74[60.1,] 
BB 61
	outgoing: 72 
	datadep: 
	instructions:
		 0: def_%cl_1_75 
		 1: 
BB 62
	outgoing: 63 64 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_76 comment->has_been_edited? comment[] 
		 2: BRANCH %cl_1_76[62.1,] 
BB 63
	outgoing: 68 
	datadep: 
	instructions:
		 0: def_%cl_1_77 
		 1: 
BB 64
	outgoing: 65 66 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_78 comment->is_from_email? comment[] 
		 2: BRANCH %cl_1_78[64.1,] 
BB 65
	outgoing: 67 
	datadep: 
	instructions:
		 0: def_%cl_1_79 
		 1: 
BB 66
	outgoing: 67 
	datadep: 
	instructions:
		 0: def_%cl_1_79 
BB 67
	outgoing: 68 
	datadep: 
	instructions:
		 0: def_%cl_1_77 
BB 68
	outgoing: 69 70 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_80 comment->has_been_edited? comment[] 
		 2: BRANCH %cl_1_80[68.1,] 
BB 69
	outgoing: 71 120 
	datadep: 
	instructions:
		 0: def_%cl_1_81 comment->updated_at comment[] 
		 1: 
BB 70
	outgoing: 71 120 
	datadep: 
	instructions:
		 0: def_%cl_1_82 comment->created_at comment[] 
		 1: def_%cl_1_81 %cl_1_82[70.0,] 
BB 71
	outgoing: 72 120 
	datadep: 
	instructions:
		 0: def_%cl_1_83 
		 1: def_%cl_1_84 %self->time_ago_in_words_label %self[2.0,] %cl_1_81[70.1,69.0,] %cl_1_83[71.0,] 
		 2: def_%cl_1_75 %cl_1_84[71.1,] 
BB 72
	outgoing: 73 110 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_85 comment->previewing comment[] 
		 2: def_%cl_1_86 %cl_1_85->! %cl_1_85[72.1,] 
		 3: BRANCH %cl_1_86[72.2,] 
BB 73
	outgoing: 74 75 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_87 comment->url comment[] 
		 2: 
		 3: def_%cl_1_88 %self[2.0,] @user[42.0,41.1,38.4,32.0,31.3,28.2,] 
		 4: def_%cl_1_89 comment->is_editable_by_user? comment[73.1,] %cl_1_88[73.3,] 
		 5: BRANCH %cl_1_89[73.4,] 
BB 74
	outgoing: 76 
	datadep: 
	instructions:
		 0: def_%cl_1_90 
		 1: 
BB 75
	outgoing: 76 
	datadep: 
	instructions:
		 0: def_%cl_1_90 
BB 76
	outgoing: 77 78 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_91 comment->is_gone? comment[] 
		 2: BRANCH %cl_1_91[76.1,] 
BB 77
	outgoing: 78 120 
	datadep: 
	instructions:
		 0: def_%cl_1_92 %self[2.0,] @user[73.3,42.0,41.1,38.4,32.0,31.3,28.2,] 
		 1: def_%cl_1_93 comment->is_undeletable_by_user? comment[] %cl_1_92[77.0,] 
		 2: def_%cl_1_91 %cl_1_93[77.1,] 
BB 78
	outgoing: 79 80 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_91[77.2,76.1,] 
BB 79
	outgoing: 86 
	datadep: 
	instructions:
		 0: def_%cl_1_94 
		 1: 
BB 80
	outgoing: 81 82 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_95 comment->is_gone? comment[] 
		 2: def_%cl_1_96 %cl_1_95->! %cl_1_95[80.1,] 
		 3: BRANCH %cl_1_96[80.2,] 
BB 81
	outgoing: 82 120 
	datadep: 
	instructions:
		 0: def_%cl_1_97 %self[2.0,] @user[77.0,73.3,42.0,41.1,38.4,32.0,31.3,28.2,] 
		 1: def_%cl_1_98 comment->is_deletable_by_user? comment[] %cl_1_97[81.0,] 
		 2: def_%cl_1_96 %cl_1_98[81.1,] 
BB 82
	outgoing: 83 84 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_96[81.2,80.2,] 
BB 83
	outgoing: 85 
	datadep: 
	instructions:
		 0: def_%cl_1_99 
		 1: 
BB 84
	outgoing: 85 
	datadep: 
	instructions:
		 0: def_%cl_1_99 
BB 85
	outgoing: 86 
	datadep: 
	instructions:
		 0: def_%cl_1_94 
BB 86
	outgoing: 87 88 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_100 %self[2.0,] @user[77.0,81.0,73.3,42.0,41.1,38.4,32.0,31.3,28.2,] 
		 2: BRANCH %cl_1_100[86.1,] 
BB 87
	outgoing: 88 120 
	datadep: 
	instructions:
		 0: def_%cl_1_101 comment->story comment[] 
		 1: def_%cl_1_102 %cl_1_101->is_gone? %cl_1_101[87.0,] 
		 2: def_%cl_1_103 %cl_1_102->! %cl_1_102[87.1,] 
		 3: def_%cl_1_100 %cl_1_103[87.2,] 
BB 88
	outgoing: 89 90 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_100[87.3,86.1,] 
BB 89
	outgoing: 90 120 
	datadep: 
	instructions:
		 0: def_%cl_1_104 comment->is_gone? comment[] 
		 1: def_%cl_1_105 %cl_1_104->! %cl_1_104[89.0,] 
		 2: def_%cl_1_100 %cl_1_105[89.1,] 
BB 90
	outgoing: 91 92 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_100[89.2,87.3,86.1,] 
BB 91
	outgoing: 93 
	datadep: 
	instructions:
		 0: def_%cl_1_106 
		 1: 
BB 92
	outgoing: 93 
	datadep: 
	instructions:
		 0: def_%cl_1_106 
BB 93
	outgoing: 94 99 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_107 comment->downvotes comment[] 
		 2: def_%cl_1_108 %cl_1_107[93.1,] 
		 3: BRANCH %cl_1_108[93.2,] 
BB 94
	outgoing: 95 96 120 
	datadep: 
	instructions:
		 0: def_%cl_1_109 comment->score comment[] 
		 1: def_%cl_1_110 %cl_1_109[94.0,] 
		 2: BRANCH %cl_1_110[94.1,] 
BB 95
	outgoing: 96 120 
	datadep: 
	instructions:
		 0: def_%cl_1_111 comment->user_id comment[] 
		 1: def_%cl_1_112 %self[2.0,] @user[86.1,77.0,81.0,73.3,42.0,41.1,38.4,32.0,31.3,28.2,] 
		 2: def_%cl_1_113 %cl_1_112->try %cl_1_112[95.1,] 
		 3: def_%cl_1_114 %cl_1_111[95.0,] %cl_1_113[95.2,] 
		 4: def_%cl_1_110 %cl_1_114[95.3,] 
BB 96
	outgoing: 97 98 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_110[95.4,94.1,] 
BB 97
	outgoing: 98 120 
	datadep: 
	instructions:
		 0: def_%cl_1_115 %self[2.0,] @user[95.1,86.1,77.0,81.0,73.3,42.0,41.1,38.4,32.0,31.3,28.2,] 
		 1: def_%cl_1_116 
		 2: def_%cl_1_117 %cl_1_115->try %cl_1_115[97.0,] %cl_1_116[97.1,] 
		 3: def_%cl_1_110 %cl_1_117[97.2,] 
BB 98
	outgoing: 99 
	datadep: 
	instructions:
		 0: def_%cl_1_108 %cl_1_110[97.3,95.4,94.1,] 
BB 99
	outgoing: 100 101 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_108[98.0,93.2,] 
BB 100
	outgoing: 109 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_118 comment->vote_summary comment[] 
		 2: def_%cl_1_119 %cl_1_118->downcase %cl_1_118[100.1,] 
		 3: 
BB 101
	outgoing: 102 103 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_120 comment->current_vote comment[] 
		 2: BRANCH %cl_1_120[101.1,] 
BB 102
	outgoing: 103 120 
	datadep: 
	instructions:
		 0: def_%cl_1_121 comment->current_vote comment[] 
		 1: def_%cl_1_122 %cl_1_121[102.0,] 
		 2: def_%cl_1_123 %cl_1_122[102.1,] 
		 3: def_%cl_1_120 %cl_1_123[102.2,] 
BB 103
	outgoing: 104 107 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_120[102.3,101.1,] 
BB 104
	outgoing: 105 106 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_124 (Vote) 
		 2: def_%cl_1_125 %cl_1_124[104.1,] 
		 3: %cl_1_125[104.2,] 
BB 105
	outgoing: 106 120 
	datadep: 
	instructions:
		 0: def_%cl_1_125 %cl_1_124[104.1,] 
BB 106
	outgoing: 108 120 
	datadep: 
	instructions:
		 0: def_%cl_1_126 comment->current_vote comment[] 
		 1: def_%cl_1_127 %cl_1_126[106.0,] 
		 2: def_%cl_1_128 %cl_1_125[105.0,104.2,] %cl_1_127[106.1,] 
		 3: def_%cl_1_129 %cl_1_128->downcase %cl_1_128[106.2,] 
		 4: 
BB 107
	outgoing: 108 
	datadep: 
	instructions:
		 0: def_%cl_1_129 
BB 108
	outgoing: 109 
	datadep: 
	instructions:
		 0: def_%cl_1_119 %cl_1_129[107.0,106.3,] 
BB 109
	outgoing: 111 
	datadep: 
	instructions:
		 0: 
BB 110
	outgoing: 111 
	datadep: 
	instructions:
		 0: def_%cl_1_119 
BB 111
	outgoing: 112 113 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_130 %self[2.0,] 
		 2: BRANCH %cl_1_130[111.1,] 
BB 112
	outgoing: 113 120 
	datadep: 
	instructions:
		 0: def_%cl_1_131 %self->show_story %self[2.0,] 
		 1: def_%cl_1_130 %cl_1_131[112.0,] 
BB 113
	outgoing: 114 115 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_130[112.1,111.1,] 
BB 114
	outgoing: 116 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_132 comment->story comment[] 
		 2: def_%cl_1_133 %cl_1_132->comments_path %cl_1_132[114.1,] 
		 3: 
		 4: def_%cl_1_134 comment->story comment[114.1,] 
		 5: def_%cl_1_135 %cl_1_134->title %cl_1_134[114.4,] 
		 6: 
BB 115
	outgoing: 116 
	datadep: 
	instructions:
		 0: def_%cl_1_135 
BB 116
	outgoing: 117 118 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_136 comment->is_gone? comment[] 
		 2: BRANCH %cl_1_136[116.1,] 
BB 117
	outgoing: 119 120 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_137 comment->gone_text comment[] 
		 2: 
BB 118
	outgoing: 120 122 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_138 comment->markeddown_comment comment[] 
		 2: def_%cl_1_139 %self->raw %self[2.0,] %cl_1_138[118.1,] 
		 3: RETURN %cl_1_139[118.2,] 
BB 119
	outgoing: 122 
	datadep: 
	instructions:
		 0: RETURN %cl_1_137[117.1,] 
BB 120
	outgoing: 122 
	datadep: 
	instructions:
		 0: def_%cl_1_140 
		 1: def_%cl_1_141 %cl_1_140[120.0,] 
		 2: RETURN %cl_1_141[120.1,] 
BB 122
	outgoing: 
	datadep: 
	instructions:
CLOSURE END
		 15: RETURN %v_37[15.14,] 
BB 16
	outgoing: 18 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_38 
		 2: ATTRASSIGN comment->current_vote comment[10.3,6.4,6.6,] %v_38[16.1,] 
		 3: 
		 4: def_%v_39 %self->preview %self[2.0,] comment[16.2,] 
		 5: RETURN %v_39[16.4,] 
BB 18
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = unvote
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: def_%current_scope 
		 3: def_%current_module 
		 4: 
		 5: 
		 6: def_%v_3 %self->find_comment %self[2.0,] 
		 7: def_comment %v_3[2.6,] 
		 8: def_%v_4 %v_3[2.6,] 
		 9: def_%v_5 %v_3->! %v_3[2.6,] 
		 10: BRANCH %v_5[2.9,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_6 
		 2: def_%v_7 %v_6[3.1,] 
		 3: def_%v_8 %self->render %self[2.0,] %v_7[3.2,] 
		 4: RETURN %v_8[3.3,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%v_9 
		 1: 
		 2: def_%v_10 (Vote) 
		 3: def_%v_11 comment->story_id comment[2.7,] 
		 4: def_%v_12 comment->id comment[4.3,2.7,] 
		 5: def_%v_13 %self[2.0,] @user[] 
		 6: def_%v_14 %v_13->id %v_13[4.5,] 
		 7: def_%v_15 %v_10->vote_thusly_on_story_or_comment_for_user_because %v_10[4.2,] %v_11[4.3,] %v_12[4.4,] %v_14[4.6,] 
		 8: 
		 9: def_%v_16 
		 10: def_%v_17 %v_16[4.9,] 
		 11: def_%v_18 %self->render %self[2.0,] %v_17[4.10,] 
		 12: RETURN %v_18[4.11,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = upvote
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: def_%current_scope 
		 3: def_%current_module 
		 4: 
		 5: 
		 6: def_%v_3 %self->find_comment %self[2.0,] 
		 7: def_comment %v_3[2.6,] 
		 8: def_%v_4 %v_3[2.6,] 
		 9: def_%v_5 %v_3->! %v_3[2.6,] 
		 10: BRANCH %v_5[2.9,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_6 
		 2: def_%v_7 %v_6[3.1,] 
		 3: def_%v_8 %self->render %self[2.0,] %v_7[3.2,] 
		 4: RETURN %v_8[3.3,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%v_9 
		 1: 
		 2: def_%v_10 (Vote) 
		 3: def_%v_11 comment->story_id comment[2.7,] 
		 4: def_%v_12 comment->id comment[4.3,2.7,] 
		 5: def_%v_13 %self[2.0,] @user[] 
		 6: def_%v_14 %v_13->id %v_13[4.5,] 
		 7: def_%v_15 %self->params %self[2.0,] 
		 8: def_%v_16 %v_15[4.7,] 
		 9: def_%v_17 %v_10->vote_thusly_on_story_or_comment_for_user_because %v_10[4.2,] %v_11[4.3,] %v_12[4.4,] %v_14[4.6,] %v_16[4.8,] 
		 10: 
		 11: def_%v_18 
		 12: def_%v_19 %v_18[4.11,] 
		 13: def_%v_20 %self->render %self[4.7,2.0,] %v_19[4.12,] 
		 14: RETURN %v_20[4.13,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = downvote
BB 1
	outgoing: 14 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: def_%current_scope 
		 3: def_%current_module 
		 4: 
		 5: 
		 6: def_%v_3 %self->find_comment %self[2.0,] 
		 7: def_comment %v_3[2.6,] 
		 8: def_%v_4 %v_3[2.6,] 
		 9: def_%v_5 %v_3->! %v_3[2.6,] 
		 10: BRANCH %v_5[2.9,] 
BB 3
	outgoing: 14 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_6 
		 2: def_%v_7 %v_6[3.1,] 
		 3: def_%v_8 %self->render %self[2.0,] %v_7[3.2,] 
		 4: RETURN %v_8[3.3,] 
BB 4
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: def_%v_9 
		 1: 
		 2: def_%v_10 (Vote) 
		 3: def_%v_11 %v_10[4.2,] 
		 4: %v_11[4.3,] 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: def_%v_11 %v_10[4.2,] 
BB 7
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: def_%v_12 %self->params %self[2.0,] 
		 1: def_%v_13 %v_12[7.0,] 
		 2: def_%v_14 %v_11[6.0,4.3,] %v_13[7.1,] 
		 3: def_%v_15 %v_14->! %v_14[7.2,] 
		 4: BRANCH %v_15[7.3,] 
BB 8
	outgoing: 14 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_16 
		 2: def_%v_17 %v_16[8.1,] 
		 3: def_%v_18 %self->render %self[2.0,] %v_17[8.2,] 
		 4: RETURN %v_18[8.3,] 
BB 9
	outgoing: 11 12 
	datadep: 
	instructions:
		 0: def_%v_19 
		 1: 
		 2: def_%v_20 %self[2.0,] @user[] 
		 3: def_%v_21 %v_20->can_downvote? %v_20[9.2,] comment[2.7,] 
		 4: def_%v_22 %v_21->! %v_21[9.3,] 
		 5: BRANCH %v_22[9.4,] 
BB 11
	outgoing: 14 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_23 
		 2: def_%v_24 %v_23[11.1,] 
		 3: def_%v_25 %self->render %self[2.0,] %v_24[11.2,] 
		 4: RETURN %v_25[11.3,] 
BB 12
	outgoing: 14 
	datadep: 
	instructions:
		 0: def_%v_26 
		 1: 
		 2: def_%v_27 (Vote) 
		 3: def_%v_28 comment->story_id comment[2.7,] 
		 4: def_%v_29 comment->id comment[12.3,2.7,] 
		 5: def_%v_30 %self[2.0,] @user[9.2,] 
		 6: def_%v_31 %v_30->id %v_30[12.5,] 
		 7: def_%v_32 %self->params %self[2.0,] 
		 8: def_%v_33 %v_32[12.7,] 
		 9: def_%v_34 %v_27->vote_thusly_on_story_or_comment_for_user_because %v_27[12.2,] %v_28[12.3,] %v_29[12.4,] %v_31[12.6,] %v_33[12.8,] 
		 10: 
		 11: def_%v_35 
		 12: def_%v_36 %v_35[12.11,] 
		 13: def_%v_37 %self->render %self[12.7,2.0,] %v_36[12.12,] 
		 14: RETURN %v_37[12.13,] 
BB 14
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = index
BB 1
	outgoing: 16 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: def_%current_scope 
		 3: def_%current_module 
		 4: 
		 5: 
		 6: def_%v_4 %self[2.0,] 
		 7: def_%v_3 %v_4[2.6,] 
		 8: %v_4[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: def_%v_5 %self[2.0,] @rss_link[] 
		 1: def_%v_3 %v_5[3.0,] 
BB 4
	outgoing: 5 9 
	datadep: 
	instructions:
		 0: BRANCH %v_3[3.1,2.7,] 
BB 5
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: def_%v_6 
		 1: def_%v_7 
		 2: 
		 3: def_%v_8 %self[2.0,] @user[] 
		 4: BRANCH %v_8[5.3,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: def_%v_9 
		 1: def_%v_10 %self[2.0,] @user[5.3,] 
		 2: def_%v_11 %v_10->rss_token %v_10[6.1,] 
		 3: def_%v_12 %v_9[6.0,] %v_11[6.2,] 
		 4: 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: def_%v_13 
		 1: def_%v_12 %v_13[7.0,] 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: def_%v_14 %v_7[5.1,] %v_12[7.1,6.3,] 
		 1: def_%v_15 %v_6[5.0,] %v_14[8.0,] 
		 2: ATTRASSIGN %self->@rss_link %self[2.0,] %v_15[8.1,] @rss_link[3.0,] 
		 3: def_%v_5 %v_15[8.1,] 
BB 9
	outgoing: 10 11 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_16 
		 2: ATTRASSIGN %self->@title %self[2.0,] %v_16[9.1,] @title[] 
		 3: ATTRASSIGN %self->@heading %self[2.0,] %v_16[9.1,] @heading[] 
		 4: 
		 5: def_%v_17 
		 6: ATTRASSIGN %self->@cur_url %self[2.0,] %v_17[9.5,] @cur_url[] 
		 7: 
		 8: ATTRASSIGN %self->@page %self[2.0,] @page[] 
		 9: 
		 10: def_%v_18 %self->params %self[2.0,] 
		 11: def_%v_19 %v_18[9.10,] 
		 12: def_%v_20 %v_19->to_i %v_19[9.11,] 
		 13: def_%v_21 %v_20[9.12,] 
		 14: BRANCH %v_21[9.13,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_22 %self->params %self[2.0,] 
		 2: def_%v_23 %v_22[10.1,] 
		 3: def_%v_24 %v_23->to_i %v_23[10.2,] 
		 4: ATTRASSIGN %self->@page %self[10.1,2.0,] %v_24[10.3,] @page[9.8,] 
		 5: 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: def_%v_24 
BB 12
	outgoing: 13 14 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_25 (Comment) 
		 2: def_%v_26 
		 3: def_%v_27 %v_25->where %v_25[12.1,] %v_26[12.2,] 
		 4: def_%v_28 
		 5: def_%v_29 %v_27->order %v_27[12.3,] %v_28[12.4,] 
		 6: 
		 7: def_%v_30 %self[2.0,] @page[10.4,9.8,] 
		 8: def_%v_31 %v_30[12.7,] 
		 9: def_%v_32 (COMMENTS_PER_PAGE) 
		 10: def_%v_33 %v_31[12.8,] %v_32[12.9,] 
		 11: def_%v_34 %v_29->offset %v_29[12.5,] %v_33[12.10,] 
		 12: def_%v_35 (COMMENTS_PER_PAGE) 
		 13: def_%v_36 %v_34->limit %v_34[12.11,] %v_35[12.12,] 
		 14: def_%v_37 %v_36->includes %v_36[12.13,] 
		 15: ATTRASSIGN %self->@comments %self[2.0,] %v_37[12.14,] @comments[] 
		 16: 
		 17: 
		 18: def_%v_38 %self[2.0,] @user[6.1,5.3,] 
		 19: BRANCH %v_38[12.18,] 
BB 13
	outgoing: 15 
	datadep: 
	instructions:
		 0: def_%v_39 %self[2.0,] @comments[12.15,] 
		 1: def_%v_40 
		 2: def_%v_41 
		 3: def_%v_42 %v_40[13.1,] %v_41[13.2,] 
		 4: def_%v_43 %self[2.0,] @user[12.18,6.1,5.3,] 
		 5: def_%v_44 %v_43->id %v_43[13.4,] 
		 6: def_%v_45 %v_39->where %v_39[13.0,] %v_42[13.3,] %v_44[13.5,] 
		 7: ATTRASSIGN %self->@comments %self[2.0,] %v_45[13.6,] @comments[13.0,12.15,] 
		 8: 
		 9: def_%v_46 (Vote) 
		 10: def_%v_47 %self[2.0,] @user[13.4,12.18,6.1,5.3,] 
		 11: def_%v_48 %v_47->id %v_47[13.10,] 
		 12: def_%v_49 %self[2.0,] @comments[13.0,13.7,12.15,] 
		 13: def_%v_50 %v_49->map %v_49[13.12,] %self[2.0,] 
CLOSURE BEGIN: c[] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: def_c RECEIVEARG 
		 3: def_%current_scope 
		 4: def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_3 c->id c[2.2,] 
		 2: RETURN %cl_1_3[3.1,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_4 
		 1: def_%cl_1_5 %cl_1_4[4.0,] 
		 2: RETURN %cl_1_5[4.1,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END
		 14: def_%v_51 %v_46->comment_votes_by_user_for_comment_ids_hash %v_46[13.9,] %v_48[13.11,] %v_50[13.13,] 
		 15: ATTRASSIGN %self->@votes %self[2.0,] %v_51[13.14,] @votes[] 
		 16: 
		 17: def_%v_52 %self[2.0,] @comments[13.0,13.7,13.12,12.15,] 
		 18: def_%v_53 %v_52->each %v_52[13.17,] %self[2.0,] 
CLOSURE BEGIN: %self[2.0,] c[] 
BB 1
	outgoing: 9 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_2_0 
		 2: def_c RECEIVEARG 
		 3: def_%current_scope 
		 4: def_%current_module 
BB 3
	outgoing: 4 5 7 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_3 %self[2.0,] @votes[] 
		 2: def_%cl_2_4 c->id c[2.2,] 
		 3: def_%cl_2_5 %cl_2_3[3.1,] %cl_2_4[3.2,] 
		 4: BRANCH %cl_2_5[3.3,] 
BB 4
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_6 %self[2.0,] @votes[3.1,] 
		 2: def_%cl_2_7 c->id c[2.2,] 
		 3: def_%cl_2_8 %cl_2_6[4.1,] %cl_2_7[4.2,] 
		 4: ATTRASSIGN c->current_vote c[4.2,2.2,] %cl_2_8[4.3,] 
		 5: 
BB 5
	outgoing: 9 
	datadep: 
	instructions:
		 0: RETURN 
BB 6
	outgoing: 9 
	datadep: 
	instructions:
		 0: RETURN %cl_2_8[4.3,] 
BB 7
	outgoing: 9 
	datadep: 
	instructions:
		 0: def_%cl_2_9 
		 1: def_%cl_2_10 %cl_2_9[7.0,] 
		 2: RETURN %cl_2_10[7.1,] 
BB 9
	outgoing: 
	datadep: 
	instructions:
CLOSURE END
		 19: 
BB 14
	outgoing: 15 
	datadep: 
	instructions:
		 0: def_%v_53 
BB 15
	outgoing: 16 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_54 %self->respond_to %self[2.0,] %self[2.0,] 
CLOSURE BEGIN: format[] %self[2.0,] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_3_0 
		 2: def_format RECEIVEARG 
		 3: def_%current_scope 
		 4: def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_3_3 format->html format[2.2,] %self[2.0,] 
CLOSURE BEGIN: %self[2.0,] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_4_0 
		 2: def_%current_scope 
		 3: def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_4_3 %self->ruby_code_from_view %self[2.0,] 
		 2: def_%cl_4_4 %cl_4_3->ruby_code_from_view %cl_4_3[3.1,] %self[3.1,2.0,] 
CLOSURE BEGIN: %self[3.1,2.0,] 
BB 1
	outgoing: 22 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_5_0 
		 2: def_rb_from_view RECEIVEARG 
		 3: def_%current_scope 
		 4: def_%current_module 
BB 3
	outgoing: 4 5 20 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_5_3 %self[2.0,] @comments[] 
		 2: def_%cl_5_4 %cl_5_3->each %cl_5_3[3.1,] %self[2.0,] 
CLOSURE BEGIN: comment[] %self[2.0,] 
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_6_0 
		 2: def_comment RECEIVEARG 
		 3: def_%current_scope 
		 4: def_%current_module 
BB 3
	outgoing: 4 6 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_6_3 
		 2: def_%cl_6_4 comment[2.2,] 
		 3: def_%cl_6_5 %self->render %self[2.0,] %cl_6_3[3.1,] %cl_6_4[3.2,] 
		 4: RETURN %cl_6_5[3.3,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_6_6 
		 1: def_%cl_6_7 %cl_6_6[4.0,] 
		 2: RETURN %cl_6_7[4.1,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END
		 3: 
		 4: def_%cl_5_5 %self[2.0,] @page[] 
		 5: BRANCH %cl_5_5[3.4,] 
BB 4
	outgoing: 5 20 
	datadep: 
	instructions:
		 0: def_%cl_5_6 %self[2.0,] @page[3.4,] 
		 1: def_%cl_5_7 %cl_5_6[4.0,] 
		 2: def_%cl_5_5 %cl_5_7[4.1,] 
BB 5
	outgoing: 6 10 
	datadep: 
	instructions:
		 0: BRANCH %cl_5_5[4.2,3.4,] 
BB 6
	outgoing: 7 8 20 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_5_8 %self[2.0,] @page[4.0,3.4,] 
		 2: def_%cl_5_9 %cl_5_8[6.1,] 
		 3: BRANCH %cl_5_9[6.2,] 
BB 7
	outgoing: 9 
	datadep: 
	instructions:
		 0: def_%cl_5_10 
		 1: 
BB 8
	outgoing: 9 20 
	datadep: 
	instructions:
		 0: def_%cl_5_11 
		 1: def_%cl_5_12 %self[2.0,] @page[6.1,4.0,3.4,] 
		 2: def_%cl_5_13 %cl_5_12[8.1,] 
		 3: def_%cl_5_14 %cl_5_11[8.0,] %cl_5_13[8.2,] 
		 4: def_%cl_5_10 %cl_5_14[8.3,] 
BB 9
	outgoing: 11 20 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_5_15 %self[2.0,] @page[8.1,6.1,4.0,3.4,] 
		 2: def_%cl_5_16 %cl_5_15[9.1,] 
		 3: 
BB 10
	outgoing: 11 
	datadep: 
	instructions:
		 0: def_%cl_5_16 
BB 11
	outgoing: 12 18 20 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_5_17 %self[2.0,] @comments[3.1,] 
		 2: def_%cl_5_18 %cl_5_17->any? %cl_5_17[11.1,] 
		 3: BRANCH %cl_5_18[11.2,] 
BB 12
	outgoing: 13 14 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_5_19 %self[2.0,] @page[9.1,8.1,4.0,3.4,6.1,] 
		 2: BRANCH %cl_5_19[12.1,] 
BB 13
	outgoing: 14 20 
	datadep: 
	instructions:
		 0: def_%cl_5_20 %self[2.0,] @page[12.1,9.1,8.1,4.0,3.4,6.1,] 
		 1: def_%cl_5_21 %cl_5_20[13.0,] 
		 2: def_%cl_5_19 %cl_5_21[13.1,] 
BB 14
	outgoing: 15 16 
	datadep: 
	instructions:
		 0: BRANCH %cl_5_19[13.2,12.1,] 
BB 15
	outgoing: 17 
	datadep: 
	instructions:
		 0: def_%cl_5_22 
		 1: 
BB 16
	outgoing: 17 
	datadep: 
	instructions:
		 0: def_%cl_5_22 
BB 17
	outgoing: 19 20 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_5_23 %self[2.0,] @page[13.0,12.1,9.1,8.1,4.0,3.4,6.1,] 
		 2: def_%cl_5_24 %cl_5_23[17.1,] 
		 3: 
		 4: def_%cl_5_25 %self[2.0,] @page[17.1,13.0,12.1,9.1,8.1,4.0,3.4,6.1,] 
		 5: def_%cl_5_26 %cl_5_25[17.4,] 
		 6: 
BB 18
	outgoing: 22 
	datadep: 
	instructions:
		 0: RETURN 
BB 19
	outgoing: 22 
	datadep: 
	instructions:
		 0: RETURN %cl_5_26[17.5,] 
BB 20
	outgoing: 22 
	datadep: 
	instructions:
		 0: def_%cl_5_27 
		 1: def_%cl_5_28 %cl_5_27[20.0,] 
		 2: RETURN %cl_5_28[20.1,] 
BB 22
	outgoing: 
	datadep: 
	instructions:
CLOSURE END
		 3: RETURN %cl_4_4[3.2,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_4_5 
		 1: def_%cl_4_6 %cl_4_5[4.0,] 
		 2: RETURN %cl_4_6[4.1,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END
		 2: 
		 3: def_%cl_3_4 format->rss format[3.1,2.2,] %self[2.0,] 
CLOSURE BEGIN: %self[2.0,] 
BB 1
	outgoing: 11 2 
	datadep: 
	instructions:
BB 2
	outgoing: 4 5 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_7_0 
		 2: def_%current_scope 
		 3: def_%current_module 
		 4: 
		 5: def_%cl_7_3 %self[2.0,] @user[] 
		 6: BRANCH %cl_7_3[2.5,] 
BB 4
	outgoing: 5 9 
	datadep: 
	instructions:
		 0: def_%cl_7_4 %self->params %self[2.0,] 
		 1: def_%cl_7_5 %cl_7_4[4.0,] 
		 2: def_%cl_7_6 %cl_7_5->present? %cl_7_5[4.1,] 
		 3: def_%cl_7_3 %cl_7_6[4.2,] 
BB 5
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: BRANCH %cl_7_3[4.3,2.5,] 
BB 6
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_7_7 
		 2: def_%cl_7_8 %self[2.0,] @user[2.5,] 
		 3: def_%cl_7_9 %cl_7_8->username %cl_7_8[6.2,] 
		 4: def_%cl_7_10 %cl_7_7[6.1,] %cl_7_9[6.3,] 
		 5: ATTRASSIGN %self->@title %self[2.0,] %cl_7_10[6.4,] @title[] 
		 6: 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: def_%cl_7_10 
BB 8
	outgoing: 9 11 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_7_11 
		 2: def_%cl_7_12 %cl_7_11[8.1,] 
		 3: def_%cl_7_13 %self->render %self[2.0,] %cl_7_12[8.2,] 
		 4: RETURN %cl_7_13[8.3,] 
BB 9
	outgoing: 11 
	datadep: 
	instructions:
		 0: def_%cl_7_14 
		 1: def_%cl_7_15 %cl_7_14[9.0,] 
		 2: RETURN %cl_7_15[9.1,] 
BB 11
	outgoing: 
	datadep: 
	instructions:
CLOSURE END
		 4: RETURN %cl_3_4[3.3,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_3_5 
		 1: def_%cl_3_6 %cl_3_5[4.0,] 
		 2: RETURN %cl_3_6[4.1,] 
BB 6
	outgoing: 
	datadep: 
	instructions:
CLOSURE END
		 2: RETURN %v_54[15.1,] 
BB 16
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = threads
BB 1
	outgoing: 14 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: def_%current_scope 
		 3: def_%current_module 
		 4: 
		 5: 
		 6: def_%v_3 %self->params %self[2.0,] 
		 7: def_%v_4 %v_3[2.6,] 
		 8: BRANCH %v_4[2.7,] 
BB 3
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_5 (User) 
		 2: def_%v_6 %self->params %self[2.0,] 
		 3: def_%v_7 %v_6[3.2,] 
		 4: def_%v_8 %v_7[3.3,] 
		 5: def_%v_9 %v_5->where %v_5[3.1,] %v_8[3.4,] 
		 6: def_%v_10 %v_9->first! %v_9[3.5,] 
		 7: ATTRASSIGN %self->@showing_user %self[3.2,2.0,] %v_10[3.6,] @showing_user[] 
		 8: 
		 9: def_%v_11 
		 10: def_%v_12 %self[3.2,2.0,] @showing_user[3.7,] 
		 11: def_%v_13 %v_12->username %v_12[3.10,] 
		 12: def_%v_14 %v_11[3.9,] %v_13[3.11,] 
		 13: ATTRASSIGN %self->@title %self[3.2,2.0,] %v_14[3.12,] @title[] 
		 14: ATTRASSIGN %self->@heading %self[3.2,2.0,] %v_14[3.12,] @heading[] 
		 15: 
		 16: def_%v_15 
		 17: def_%v_16 %self[3.2,2.0,] @showing_user[3.7,3.10,] 
		 18: def_%v_17 %v_16->username %v_16[3.17,] 
		 19: def_%v_18 %v_15[3.16,] %v_17[3.18,] 
		 20: ATTRASSIGN %self->@cur_url %self[3.2,2.0,] %v_18[3.19,] @cur_url[] 
		 21: 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_19 %self[2.0,] @user[] 
		 2: def_%v_20 %v_19->! %v_19[4.1,] 
		 3: BRANCH %v_20[4.2,] 
BB 5
	outgoing: 14 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_21 
		 2: def_%v_22 %self->redirect_to %self[2.0,] %v_21[5.1,] 
		 3: RETURN %v_22[5.2,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_24 %self[2.0,] @user[4.1,] 
		 2: ATTRASSIGN %self->@showing_user %self[2.0,] %v_24[6.1,] @showing_user[] 
		 3: 
		 4: def_%v_25 
		 5: ATTRASSIGN %self->@title %self[2.0,] %v_25[6.4,] @title[] 
		 6: ATTRASSIGN %self->@heading %self[2.0,] %v_25[6.4,] @heading[] 
		 7: 
		 8: def_%v_26 
		 9: ATTRASSIGN %self->@cur_url %self[2.0,] %v_26[6.8,] @cur_url[] 
		 10: def_%v_23 %v_26[6.8,] 
		 11: def_%v_18 %v_23[6.10,] 
BB 8
	outgoing: 9 10 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_27 %self[2.0,] @showing_user[3.7,3.10,3.17,6.2,] 
		 2: def_%v_28 %v_27[8.1,] 
		 3: def_thread_ids %v_28[8.2,] 
		 4: 
		 5: def_%v_29 (Comment) 
		 6: def_%v_30 %v_28[8.2,] 
		 7: def_%v_31 %v_29->where %v_29[8.5,] %v_30[8.6,] 
		 8: def_%v_32 %v_31->includes %v_31[8.7,] 
		 9: def_%v_33 %self[2.0,] @showing_user[8.1,3.7,3.10,3.17,6.2,] 
		 10: def_%v_34 %v_32->arrange_for_user %v_32[8.8,] %v_33[8.9,] 
		 11: def_comments %v_34[8.10,] 
		 12: 
		 13: def_%v_35 %v_34->group_by %v_34[8.10,] 
		 14: def_comments_by_thread_id %v_35[8.13,] 
		 15: 
		 16: def_%v_36 thread_ids[8.3,] 
		 17: def_%v_37 %v_35->values_at %v_35[8.13,] %v_36[8.16,] 
		 18: def_%v_38 %v_37->compact %v_37[8.17,] 
		 19: ATTRASSIGN %self->@threads %self[2.0,] %v_38[8.18,] @threads[] 
		 20: 
		 21: def_%v_39 %self[2.0,] @user[6.1,4.1,] 
		 22: BRANCH %v_39[8.21,] 
BB 9
	outgoing: 10 
	datadep: 
	instructions:
		 0: def_%v_40 %self[2.0,] @showing_user[8.1,8.9,3.7,3.10,3.17,6.2,] 
		 1: def_%v_41 %v_40->id %v_40[9.0,] 
		 2: def_%v_42 %self[2.0,] @user[8.21,6.1,4.1,] 
		 3: def_%v_43 %v_42->id %v_42[9.2,] 
		 4: def_%v_44 %v_41[9.1,] %v_43[9.3,] 
		 5: def_%v_39 %v_44[9.4,] 
BB 10
	outgoing: 11 12 
	datadep: 
	instructions:
		 0: BRANCH %v_39[9.5,8.21,] 
BB 11
	outgoing: 14 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_45 (Vote) 
		 2: def_%v_46 %self[2.0,] @user[9.2,8.21,6.1,4.1,] 
		 3: def_%v_47 %v_46->id %v_46[11.2,] 
		 4: def_%v_48 comments->map comments[8.11,] 
		 5: def_%v_49 %v_48->uniq %v_48[11.4,] 
		 6: def_%v_50 %v_45->comment_votes_by_user_for_story_hash %v_45[11.1,] %v_47[11.3,] %v_49[11.5,] 
		 7: ATTRASSIGN %self->@votes %self[2.0,] %v_50[11.6,] @votes[] 
		 8: 
		 9: def_%v_51 comments->each comments[11.4,8.11,] %self[2.0,] 
CLOSURE BEGIN: %self[2.0,] c[] 
BB 1
	outgoing: 9 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: def_c RECEIVEARG 
		 3: def_%current_scope 
		 4: def_%current_module 
BB 3
	outgoing: 4 5 7 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_3 %self[2.0,] @votes[] 
		 2: def_%cl_1_4 c->id c[2.2,] 
		 3: def_%cl_1_5 %cl_1_3[3.1,] %cl_1_4[3.2,] 
		 4: BRANCH %cl_1_5[3.3,] 
BB 4
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_6 %self[2.0,] @votes[3.1,] 
		 2: def_%cl_1_7 c->id c[2.2,] 
		 3: def_%cl_1_8 %cl_1_6[4.1,] %cl_1_7[4.2,] 
		 4: ATTRASSIGN c->current_vote c[4.2,2.2,] %cl_1_8[4.3,] 
		 5: 
BB 5
	outgoing: 9 
	datadep: 
	instructions:
		 0: RETURN 
BB 6
	outgoing: 9 
	datadep: 
	instructions:
		 0: RETURN %cl_1_8[4.3,] 
BB 7
	outgoing: 9 
	datadep: 
	instructions:
		 0: def_%cl_1_9 
		 1: def_%cl_1_10 %cl_1_9[7.0,] 
		 2: RETURN %cl_1_10[7.1,] 
BB 9
	outgoing: 
	datadep: 
	instructions:
CLOSURE END
		 10: RETURN %v_51[11.9,] 
BB 12
	outgoing: 14 
	datadep: 
	instructions:
		 0: RETURN 
BB 14
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = preview
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: def_%current_scope 
		 3: def_%current_module 
		 4: 
		 5: def_comment RECEIVEARG 
		 6: 
		 7: ATTRASSIGN comment->previewing comment[2.5,] 
		 8: 
		 9: ATTRASSIGN comment->is_deleted comment[2.5,2.7,] 
		 10: 
		 11: def_%v_3 %self->ruby_code_from_view %self[2.0,] 
		 12: def_%v_4 %v_3->ruby_code_from_view %v_3[2.11,] %self[2.0,2.11,] 
CLOSURE BEGIN: comment[2.5,2.7,2.9,] %self[2.0,2.11,] 
BB 1
	outgoing: 14 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_1_0 
		 2: def_rb_from_view RECEIVEARG 
		 3: def_%current_scope 
		 4: def_%current_module 
BB 3
	outgoing: 4 5 12 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_3 comment->persisted? comment[] 
		 2: BRANCH %cl_1_3[3.1,] 
BB 4
	outgoing: 6 12 
	datadep: 
	instructions:
		 0: def_%cl_1_4 comment->short_id comment[] 
		 1: 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_1_4 
BB 6
	outgoing: 7 8 12 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_5 
		 2: 
		 3: def_%cl_1_6 comment->short_id comment[] 
		 4: def_%cl_1_7 %cl_1_5[6.1,] %cl_1_6[6.3,] 
		 5: def_%cl_1_8 %cl_1_7[6.4,] 
		 6: def_%cl_1_9 %cl_1_8[6.5,] 
		 7: def_%cl_1_10 %self->form_for %self[2.0,] comment[6.3,] %cl_1_9[6.6,] %self[2.0,] 
CLOSURE BEGIN: comment[6.3,] %self[2.0,] 
BB 1
	outgoing: 34 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%cl_2_0 
		 2: def_f RECEIVEARG 
		 3: def_%current_scope 
		 4: def_%current_module 
BB 3
	outgoing: 4 5 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_3 comment->errors comment[] 
		 2: def_%cl_2_4 %cl_2_3->any? %cl_2_3[3.1,] 
		 3: BRANCH %cl_2_4[3.2,] 
BB 4
	outgoing: 6 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_5 %self->errors_for %self[2.0,] comment[] 
		 2: 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: def_%cl_2_5 
BB 6
	outgoing: 7 8 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_6 
		 2: def_%cl_2_7 comment->story comment[] 
		 3: def_%cl_2_8 %cl_2_7->short_id %cl_2_7[6.2,] 
		 4: def_%cl_2_9 %self->hidden_field_tag %self[2.0,] %cl_2_6[6.1,] %cl_2_8[6.3,] 
		 5: 
		 6: def_%cl_2_10 comment->parent_comment comment[6.2,] 
		 7: BRANCH %cl_2_10[6.6,] 
BB 7
	outgoing: 9 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_11 
		 2: def_%cl_2_12 comment->parent_comment comment[] 
		 3: def_%cl_2_13 %cl_2_12->short_id %cl_2_12[7.2,] 
		 4: def_%cl_2_14 %self->hidden_field_tag %self[2.0,] %cl_2_11[7.1,] %cl_2_13[7.3,] 
		 5: 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: def_%cl_2_14 
BB 9
	outgoing: 10 11 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_15 
		 2: def_%cl_2_16 comment->comment comment[] 
		 3: def_%cl_2_17 
		 4: def_%cl_2_18 
		 5: 
		 6: def_%cl_2_19 %self[2.0,] @user[] 
		 7: def_%cl_2_20 %cl_2_19->! %cl_2_19[9.6,] 
		 8: 
		 9: def_%cl_2_21 %self[2.0,] @user[9.6,] 
		 10: BRANCH %cl_2_21[9.9,] 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: def_%cl_2_22 
		 1: 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: def_%cl_2_23 
		 1: def_%cl_2_22 %cl_2_23[11.0,] 
BB 12
	outgoing: 13 14 32 
	datadep: 
	instructions:
		 0: def_%cl_2_24 %cl_2_17[9.3,] %cl_2_18[9.4,] %cl_2_20[9.7,] %cl_2_22[11.1,10.0,] 
		 1: def_%cl_2_25 %self->text_area_tag %self[2.0,] %cl_2_15[9.1,] %cl_2_16[9.2,] %cl_2_24[12.0,] 
		 2: 
		 3: 
		 4: def_%cl_2_26 %self[12.1,2.0,] @user[9.6,9.9,] 
		 5: BRANCH %cl_2_26[12.4,] 
BB 13
	outgoing: 15 
	datadep: 
	instructions:
		 0: def_%cl_2_27 
		 1: 
BB 14
	outgoing: 15 
	datadep: 
	instructions:
		 0: def_%cl_2_27 
BB 15
	outgoing: 16 17 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_28 comment->new_record? comment[] 
		 2: BRANCH %cl_2_28[15.1,] 
BB 16
	outgoing: 18 
	datadep: 
	instructions:
		 0: def_%cl_2_29 
		 1: 
BB 17
	outgoing: 18 
	datadep: 
	instructions:
		 0: def_%cl_2_30 
		 1: def_%cl_2_29 %cl_2_30[17.0,] 
BB 18
	outgoing: 19 20 32 
	datadep: 
	instructions:
		 0: def_%cl_2_31 %cl_2_29[17.1,16.0,] 
		 1: def_%cl_2_32 
		 2: def_%cl_2_33 
		 3: 
		 4: def_%cl_2_34 %self[2.0,] @user[12.4,9.6,9.9,] 
		 5: def_%cl_2_35 %cl_2_34->! %cl_2_34[18.4,] 
		 6: def_%cl_2_36 %cl_2_32[18.1,] %cl_2_33[18.2,] %cl_2_35[18.5,] 
		 7: def_%cl_2_37 %self->button_tag %self[2.0,] %cl_2_31[18.0,] %cl_2_36[18.6,] 
		 8: def_%cl_2_38 
		 9: def_%cl_2_39 
		 10: def_%cl_2_40 
		 11: 
		 12: def_%cl_2_41 %self[18.7,2.0,] @user[18.4,12.4,9.6,9.9,] 
		 13: def_%cl_2_42 %cl_2_41->! %cl_2_41[18.12,] 
		 14: def_%cl_2_43 %cl_2_39[18.9,] %cl_2_40[18.10,] %cl_2_42[18.13,] 
		 15: def_%cl_2_44 %self->button_tag %self[18.7,2.0,] %cl_2_38[18.8,] %cl_2_43[18.14,] 
		 16: def_%cl_2_45 comment->persisted? comment[] 
		 17: BRANCH %cl_2_45[18.16,] 
BB 19
	outgoing: 20 32 
	datadep: 
	instructions:
		 0: def_%cl_2_46 comment->parent_comment_id comment[] 
		 1: def_%cl_2_45 %cl_2_46[19.0,] 
BB 20
	outgoing: 21 22 
	datadep: 
	instructions:
		 0: BRANCH %cl_2_45[19.1,18.16,] 
BB 21
	outgoing: 23 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_47 
		 2: def_%cl_2_48 
		 3: def_%cl_2_49 
		 4: def_%cl_2_50 %cl_2_48[21.2,] %cl_2_49[21.3,] 
		 5: def_%cl_2_51 %self->button_tag %self[2.0,] %cl_2_47[21.1,] %cl_2_50[21.4,] 
		 6: 
BB 22
	outgoing: 23 
	datadep: 
	instructions:
		 0: def_%cl_2_51 
BB 23
	outgoing: 24 25 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_52 %self[2.0,] @user[18.4,18.12,12.4,9.6,9.9,] 
		 2: BRANCH %cl_2_52[23.1,] 
BB 24
	outgoing: 25 32 
	datadep: 
	instructions:
		 0: def_%cl_2_53 %self[2.0,] @user[23.1,18.4,18.12,12.4,9.6,9.9,] 
		 1: def_%cl_2_54 %cl_2_53->hats %cl_2_53[24.0,] 
		 2: def_%cl_2_55 %cl_2_54->any? %cl_2_54[24.1,] 
		 3: def_%cl_2_52 %cl_2_55[24.2,] 
BB 25
	outgoing: 26 27 
	datadep: 
	instructions:
		 0: BRANCH %cl_2_52[24.3,23.1,] 
BB 26
	outgoing: 28 32 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_2_56 
		 2: def_%cl_2_57 %self[2.0,] @user[24.0,23.1,18.4,18.12,12.4,9.6,9.9,] 
		 3: def_%cl_2_58 %cl_2_57->hats %cl_2_57[26.2,] 
		 4: def_%cl_2_59 
		 5: def_%cl_2_60 
		 6: def_%cl_2_61 comment->hat_id comment[] 
		 7: def_%cl_2_62 %self->options_from_collection_for_select %self[2.0,] %cl_2_58[26.3,] %cl_2_59[26.4,] %cl_2_60[26.5,] %cl_2_61[26.6,] 
		 8: def_%cl_2_63 
		 9: def_%cl_2_64 %self->select_tag %self[26.7,2.0,] %cl_2_56[26.1,] %cl_2_62[26.7,] %cl_2_63[26.8,] 
		 10: 
BB 27
	outgoing: 28 
	datadep: 
	instructions:
		 0: def_%cl_2_64 
BB 28
	outgoing: 29 30 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: def_%cl_2_65 %self[2.0,] @user[26.2,24.0,23.1,18.4,18.12,12.4,9.6,9.9,] 
		 3: BRANCH %cl_2_65[28.2,] 
BB 29
	outgoing: 31 32 
	datadep: 
	instructions:
		 0: def_%cl_2_66 
		 1: def_%cl_2_67 %cl_2_66[29.0,] 
		 2: def_%cl_2_68 %self->render %self[2.0,] %cl_2_67[29.1,] 
		 3: 
BB 30
	outgoing: 34 
	datadep: 
	instructions:
		 0: RETURN 
BB 31
	outgoing: 34 
	datadep: 
	instructions:
		 0: RETURN %cl_2_68[29.2,] 
BB 32
	outgoing: 34 
	datadep: 
	instructions:
		 0: def_%cl_2_69 
		 1: def_%cl_2_70 %cl_2_69[32.0,] 
		 2: RETURN %cl_2_70[32.1,] 
BB 34
	outgoing: 
	datadep: 
	instructions:
CLOSURE END
		 8: 
		 9: def_%cl_1_11 %self[6.7,2.0,] 
		 10: BRANCH %cl_1_11[6.9,] 
BB 7
	outgoing: 8 12 
	datadep: 
	instructions:
		 0: def_%cl_1_12 %self->show_comment %self[2.0,] 
		 1: def_%cl_1_13 %cl_1_12->valid? %cl_1_12[7.0,] 
		 2: def_%cl_1_11 %cl_1_13[7.1,] 
BB 8
	outgoing: 9 10 
	datadep: 
	instructions:
		 0: BRANCH %cl_1_11[7.2,6.9,] 
BB 9
	outgoing: 11 12 
	datadep: 
	instructions:
		 0: 
		 1: def_%cl_1_14 
		 2: def_%cl_1_15 %self->show_comment %self[2.0,] 
		 3: def_%cl_1_16 %cl_1_15[9.2,] 
		 4: def_%cl_1_17 %self->render %self[9.2,2.0,] %cl_1_14[9.1,] %cl_1_16[9.3,] 
		 5: 
BB 10
	outgoing: 14 
	datadep: 
	instructions:
		 0: RETURN 
BB 11
	outgoing: 14 
	datadep: 
	instructions:
		 0: RETURN %cl_1_17[9.4,] 
BB 12
	outgoing: 14 
	datadep: 
	instructions:
		 0: def_%cl_1_18 
		 1: def_%cl_1_19 %cl_1_18[12.0,] 
		 2: RETURN %cl_1_19[12.1,] 
BB 14
	outgoing: 
	datadep: 
	instructions:
CLOSURE END
		 13: RETURN %v_4[2.12,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = find_comment
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: def_%self 
		 1: def_%v_0 
		 2: def_%current_scope 
		 3: def_%current_module 
		 4: 
		 5: 
		 6: def_%v_3 (Comment) 
		 7: def_%v_4 %self->params %self[2.0,] 
		 8: def_%v_5 %v_4[2.7,] 
		 9: def_%v_6 %v_5[2.8,] 
		 10: def_%v_7 %v_3->where %v_3[2.6,] %v_6[2.9,] 
		 11: def_%v_8 %v_7->first %v_7[2.10,] 
		 12: def_comment %v_8[2.11,] 
		 13: 
		 14: def_%v_9 %self[2.0,2.7,] @user[] 
		 15: BRANCH %v_9[2.14,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: def_%v_9 comment[2.12,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: BRANCH %v_9[3.0,2.14,] 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: 
		 1: def_%v_10 (Vote) 
		 2: def_%v_11 %self[2.0,] @user[2.14,] 
		 3: def_%v_12 %v_11->id %v_11[5.2,] 
		 4: def_%v_13 comment->story_id comment[2.12,] 
		 5: def_%v_14 comment->id comment[5.4,2.12,] 
		 6: def_%v_15 %v_12[5.3,] %v_13[5.4,] %v_14[5.5,] 
		 7: def_%v_16 %v_10->where %v_10[5.1,] %v_15[5.6,] 
		 8: def_%v_17 %v_16->first %v_16[5.7,] 
		 9: ATTRASSIGN comment->current_vote comment[5.4,5.5,2.12,] %v_17[5.8,] 
		 10: 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: def_%v_17 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: RETURN comment[5.9,2.12,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

