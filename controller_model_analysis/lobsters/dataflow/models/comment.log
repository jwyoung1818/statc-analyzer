SET IRMethod, name = arrange_for_user
BB 1
	outgoing: 30 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: 
		 7: 
		 8: %self->order %self[2.0,] %v_3[2.7,] 
		 9: %v_4->group_by %v_4[2.8,] 
		 10: %v_5[2.9,] 
		 11: 
		 12: 
		 13: %v_6[2.12,] 
		 14: 
		 15: 
		 16: %v_7[2.15,] 
		 17: 
		 18: %v_5[2.9,] 
		 19: %v_8[2.18,] 
		 20: 
BB 3
	outgoing: 4 28 
	datadep: 
	instructions:
		 0: 
BB 4
	outgoing: 5 25 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: subtree->shift 
		 3: %v_10[4.2,] 
		 4: %v_10[4.2,] 
BB 5
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: 
		 1: node->id 
		 2: %v_11[5.1,] 
		 3: %v_12[5.2,] 
		 4: 
		 5: node->is_gone? 
		 6: %v_13->! %v_13[5.5,] 
		 7: %v_14[5.6,] 
BB 6
	outgoing: 18 
	datadep: 
	instructions:
		 0: 
		 1: 
BB 7
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: 
		 1: 
BB 8
	outgoing: 17 
	datadep: 
	instructions:
		 0: 
		 1: 
BB 9
	outgoing: 10 13 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
BB 10
	outgoing: 11 12 
	datadep: 
	instructions:
		 0: user->is_moderator? 
		 1: %v_18[10.0,] 
BB 11
	outgoing: 12 
	datadep: 
	instructions:
		 0: node->user_id 
		 1: user->id 
		 2: %v_19[11.0,] %v_20[11.1,] 
		 3: %v_21[11.2,] 
BB 12
	outgoing: 13 
	datadep: 
	instructions:
		 0: 
BB 13
	outgoing: 14 15 
	datadep: 
	instructions:
		 0: 
BB 14
	outgoing: 17 
	datadep: 
	instructions:
		 0: 
		 1: %v_22[14.0,] 
BB 15
	outgoing: 27 
	datadep: 
	instructions:
		 0: 
		 1: 
BB 17
	outgoing: 18 
	datadep: 
	instructions:
		 0: 
BB 18
	outgoing: 19 20 
	datadep: 
	instructions:
		 0: 
		 1: ancestors->length 
		 2: %v_23[18.1,] 
		 3: 
		 4: node[18.2,] 
		 5: 
		 6: 
BB 19
	outgoing: 22 23 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: node->is_moderated? 
		 3: %v_26[19.2,] 
BB 20
	outgoing: 27 
	datadep: 
	instructions:
		 0: 
BB 22
	outgoing: 27 
	datadep: 
	instructions:
		 0: 
BB 23
	outgoing: 26 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: 
BB 25
	outgoing: 26 
	datadep: 
	instructions:
		 0: 
		 1: ancestors->pop 
		 2: %v_30[25.1,] 
		 3: %v_30[25.1,] 
BB 26
	outgoing: 27 
	datadep: 
	instructions:
BB 27
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
BB 28
	outgoing: 30 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: RETURN 
BB 30
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = regenerate_markdown
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: (Comment) 
		 7: 
		 8: 
		 9: (Comment) 
		 10: %v_4->all %v_4[2.9,] 
		 11: %v_5->each %v_5[2.10,] 
		 12: 
		 13: (Comment) 
		 14: 
		 15: 
		 16: RETURN 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = score_sql
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: 
		 7: (Story) 
		 8: %v_4->votes_cast_type %v_4[2.7,] 
		 9: 
		 10: %v_3[2.6,] %v_6[2.9,] 
		 11: 
		 12: 
		 13: (Story) 
		 14: %v_9->votes_cast_type %v_9[2.13,] 
		 15: 
		 16: %v_8[2.11,] %v_11[2.15,] 
		 17: %v_7[2.10,] %v_12[2.16,] 
		 18: RETURN %v_13[2.17,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = as_json
BB 1
	outgoing: 11 2 
	datadep: 
	instructions:
BB 2
	outgoing: 4 5 9 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: options[2.5,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: 
		 1: %v_3[4.0,] 
BB 5
	outgoing: 6 7 9 
	datadep: 
	instructions:
		 0: 
		 1: (Rails) 
		 2: %v_4->application %v_4[5.1,] 
		 3: %v_5->root_url %v_5[5.2,] 
		 4: 
		 5: 
		 6: %self->short_id 
		 7: %v_7[5.4,] 
		 8: %v_9[5.7,] %v_6[5.3,] 
		 9: 
		 10: 
		 11: %self->is_gone? 
		 12: %v_12[5.11,] 
BB 6
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: 
		 1: %self->gone_text 
		 2: 
		 3: %v_13[6.0,] %v_15[6.2,] 
		 4: 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
BB 8
	outgoing: 9 11 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: %v_19[8.2,] 
		 4: 
		 5: 
		 6: %v_20[8.5,] 
		 7: 
		 8: %v_19->each %v_19[8.2,] 
		 9: 
		 10: RETURN js[8.6,] 
BB 9
	outgoing: 11 
	datadep: 
	instructions:
		 0: 
		 1: %v_22[9.0,] 
		 2: RETURN %v_23[9.1,] 
BB 11
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = assign_initial_confidence
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: %self->calculated_confidence %self[2.0,] 
		 7: %v_3[2.6,] 
		 8: RETURN %v_3[2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = assign_short_id_and_upvote
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: (ShortId) 
		 7: %self->class %self[2.0,] 
		 8: %v_3->new %v_4[2.7,] %v_3[2.6,] 
		 9: %v_5->generate %v_5[2.8,] 
		 10: %v_6[2.9,] 
		 11: 
		 12: 
		 13: RETURN 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = assign_thread_id
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: %self->parent_comment_id %self[2.0,] 
		 7: %v_3->present? %v_3[2.6,] 
		 8: %v_4[2.7,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: %self->parent_comment 
		 2: %v_5->thread_id %v_5[3.1,] 
		 3: %v_6[3.2,] 
		 4: RETURN %v_6[3.2,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: (Keystore) 
		 2: 
		 3: %v_7->incremented_value_for %v_8[4.2,] %v_7[4.1,] 
		 4: %v_9[4.3,] 
		 5: RETURN %v_9[4.3,] 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = calculated_confidence
BB 1
	outgoing: 7 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: %self->upvotes %self[2.0,] 
		 7: %self->downvotes %self[2.0,] 
		 8: %v_4[2.7,] %v_3[2.6,] 
		 9: %v_5->to_f %v_5[2.8,] 
		 10: %v_6[2.9,] 
		 11: 
		 12: %v_6[2.9,] 
		 13: %v_7[2.12,] 
BB 3
	outgoing: 7 
	datadep: 
	instructions:
		 0: 
		 1: RETURN 
BB 4
	outgoing: 7 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: %self->upvotes 
		 5: %v_9->to_f %v_9[4.4,] 
		 6: %v_10[4.5,] 
		 7: %v_11[4.6,] 
		 8: 
		 9: 
		 10: z[4.2,] %v_12[4.9,] 
		 11: %v_13[4.10,] z[4.2,] 
		 12: %v_14[4.11,] 
		 13: %v_15[4.12,] p[4.7,] 
		 14: %v_16[4.13,] 
		 15: 
		 16: (Math) 
		 17: p[4.7,] 
		 18: %v_18[4.17,] 
		 19: %v_19[4.18,] p[4.7,] 
		 20: 
		 21: %v_21[4.20,] 
		 22: z[4.2,] %v_22[4.21,] 
		 23: z[4.2,] %v_23[4.22,] 
		 24: %v_24[4.23,] %v_20[4.19,] 
		 25: %v_17->sqrt %v_25[4.24,] %v_17[4.16,] 
		 26: z[4.2,] %v_26[4.25,] 
		 27: %v_27[4.26,] 
		 28: 
		 29: 
		 30: z[4.2,] %v_28[4.29,] 
		 31: z[4.2,] %v_29[4.30,] 
		 32: %v_30[4.31,] 
		 33: %v_31[4.32,] 
		 34: 
		 35: right[4.27,] left[4.14,] 
		 36: %v_32[4.35,] under[4.33,] 
		 37: RETURN %v_33[4.36,] 
BB 7
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = comment=
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: 
		 7: com->to_s com[2.5,] 
		 8: %v_3->rstrip %v_3[2.7,] 
		 9: %v_4[2.8,] 
		 10: 
		 11: %self->generated_markeddown_comment %self[2.0,2.9,] 
		 12: %v_5[2.11,] 
		 13: RETURN %v_5[2.11,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = delete_for_user
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: 
		 7: (Comment) 
		 8: 
		 9: 
		 10: 
		 11: 
		 12: user->is_moderator? user[2.5,] 
		 13: %v_4[2.12,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: user->id 
		 1: %self->user_id 
		 2: %v_5[3.0,] %v_6[3.1,] 
		 3: %v_7[3.2,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
BB 5
	outgoing: 7 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: (Moderation) 
		 4: %v_8->new %v_8[5.3,] 
		 5: %v_9[5.4,] 
		 6: 
		 7: %self->id %self[5.1,] 
		 8: %v_10[5.7,] 
		 9: 
		 10: user->id 
		 11: %v_11[5.10,] 
		 12: 
		 13: 
		 14: %v_12[5.13,] 
		 15: 
		 16: m->save m[5.5,5.8,5.11,5.14,] 
		 17: 
BB 6
	outgoing: 7 
	datadep: 
	instructions:
		 0: 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: %self->save %v_14[7.1,] 
		 3: 
		 4: (Comment) 
		 5: 
		 6: 
		 7: %self->story 
		 8: %v_17->update_comments_count! %v_17[7.7,] 
		 9: RETURN %v_18[7.8,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = deliver_mention_notifications
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: %self->plaintext_comment %self[2.0,] 
		 7: 
		 8: %v_3->scan %v_3[2.6,] 
		 9: %v_5->flatten %v_5[2.8,] 
		 10: %v_6->uniq %v_6[2.9,] 
		 11: %v_7->each %v_7[2.10,] 
		 12: RETURN %v_8[2.11,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = deliver_reply_notifications
BB 1
	outgoing: 25 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: %self->parent_comment_id %self[2.0,] 
		 7: %v_3[2.6,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: %self->parent_comment 
		 1: %v_4->try %v_4[3.0,] 
		 2: %v_5[3.1,] 
		 3: %v_5[3.1,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: u->id 
		 1: %self->user 
		 2: %v_7->id %v_7[5.1,] 
		 3: %v_8[5.2,] %v_6[5.0,] 
		 4: %v_9[5.3,] 
BB 6
	outgoing: 7 23 
	datadep: 
	instructions:
		 0: 
BB 7
	outgoing: 8 18 
	datadep: 
	instructions:
		 0: 
		 1: u->email_replies? 
		 2: %v_10[7.1,] 
BB 8
	outgoing: 10 
	datadep: 
	instructions:
		 0: 
		 1: 
BB 10
	outgoing: 11 12 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: (EmailReply) 
		 3: %v_14->reply %v_14[10.2,] 
		 4: %v_15->deliver %v_15[10.3,] 
		 5: %v_16[10.4,] 
		 6: 
BB 11
	outgoing: 17 
	datadep: 
	instructions:
		 0: 
BB 12
	outgoing: 13 14 16 
	datadep: 
	instructions:
		 0: 
		 1: %v_17[12.0,] 
		 2: %v_18[12.1,] 
BB 13
	outgoing: 16 25 
	datadep: 
	instructions:
		 0: 
BB 14
	outgoing: 15 16 
	datadep: 
	instructions:
		 0: 
		 1: %v_19[14.0,] 
		 2: 
		 3: (Rails) 
		 4: %v_20->logger %v_20[14.3,] 
		 5: 
		 6: u->email 
		 7: 
		 8: %v_24[14.7,] %v_22[14.5,] 
		 9: %v_21->error %v_25[14.8,] %v_21[14.4,] 
		 10: %v_26[14.9,] 
		 11: 
BB 15
	outgoing: 17 
	datadep: 
	instructions:
		 0: 
BB 16
	outgoing: 25 
	datadep: 
	instructions:
		 0: 
		 1: %v_27[16.0,] 
		 2: %v_27[16.0,] 
BB 17
	outgoing: 19 
	datadep: 
	instructions:
		 0: 
BB 18
	outgoing: 19 
	datadep: 
	instructions:
		 0: 
BB 19
	outgoing: 20 21 
	datadep: 
	instructions:
		 0: 
		 1: u->pushover_replies? 
		 2: %v_29[19.1,] 
BB 20
	outgoing: 22 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: (Rails) 
		 3: %v_30->application %v_30[20.2,] 
		 4: %v_31->name %v_31[20.3,] 
		 5: 
		 6: %v_33[20.5,] 
		 7: 
		 8: %self->user 
		 9: %v_35->username %v_35[20.8,] 
		 10: 
		 11: %self->story 
		 12: %v_38->title %v_38[20.11,] 
		 13: %v_37[20.10,] 
		 14: %v_40[20.13,] %v_34[20.6,] 
		 15: %self->plaintext_comment 
		 16: %self->url 
		 17: 
		 18: 
		 19: %self->user 
		 20: %v_45->username %v_45[20.19,] 
		 21: %v_44[20.17,] 
		 22: 
		 23: u->pushover! %v_48[20.22,] 
		 24: 
BB 21
	outgoing: 22 
	datadep: 
	instructions:
		 0: 
BB 22
	outgoing: 25 
	datadep: 
	instructions:
		 0: RETURN 
BB 23
	outgoing: 25 
	datadep: 
	instructions:
		 0: RETURN 
BB 25
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = generated_markeddown_comment
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: (Markdowner) 
		 7: %self->comment %self[2.0,] 
		 8: %v_3->to_html %v_4[2.7,] %v_3[2.6,] 
		 9: RETURN %v_5[2.8,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = give_upvote_or_downvote_and_recalculate_confidence!
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: 
		 7: 
		 8: %self->upvotes %self[2.0,] 
		 9: upvote->to_i upvote[2.5,] 
		 10: %v_5[2.9,] %v_3[2.8,] 
		 11: %self[2.0,] %v_6[2.10,] 
		 12: 
		 13: %self->downvotes %self[2.0,] 
		 14: downvote->to_i downvote[2.6,] 
		 15: %v_9[2.14,] %v_7[2.13,] 
		 16: %self[2.0,] %v_10[2.15,] 
		 17: 
		 18: (Comment) 
		 19: %v_11->connection %v_11[2.18,] 
		 20: 
		 21: (Comment) 
		 22: %v_14->table_name %v_14[2.21,] 
		 23: 
		 24: %v_13[2.20,] %v_16[2.23,] 
		 25: 
		 26: 
		 27: upvote->to_i upvote[2.5,] 
		 28: 
		 29: %v_18[2.25,] %v_20[2.28,] 
		 30: %v_17[2.24,] %v_21[2.29,] 
		 31: 
		 32: 
		 33: downvote->to_i downvote[2.6,] 
		 34: 
		 35: %v_25[2.34,] %v_23[2.31,] 
		 36: %v_26[2.35,] %v_22[2.30,] 
		 37: 
		 38: 
		 39: %self->calculated_confidence %self[2.0,] 
		 40: 
		 41: %v_28[2.37,] %v_30[2.40,] 
		 42: %v_27[2.36,] %v_31[2.41,] 
		 43: 
		 44: %self->id %self[2.0,] 
		 45: %v_33->to_i %v_33[2.44,] 
		 46: 
		 47: %v_35[2.46,] %v_32[2.42,] 
		 48: %v_12->execute %v_36[2.47,] %v_12[2.19,] 
		 49: 
		 50: %self->story %self[2.0,] 
		 51: %v_38->recalculate_hotness! %v_38[2.50,] 
		 52: RETURN %v_39[2.51,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = gone_text
BB 1
	outgoing: 8 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 6 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: %self->is_moderated? %self[2.0,] 
		 7: %v_3[2.6,] 
BB 3
	outgoing: 4 5 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: %self->moderation 
		 3: %v_5->try %v_5[3.2,] 
		 4: %v_6->try %v_6[3.3,] 
		 5: %v_7->to_s %v_7[3.4,] 
		 6: %v_4[3.1,] %v_8[3.5,] 
		 7: 
		 8: %v_9[3.6,] %v_10[3.7,] 
		 9: 
		 10: %self->moderation 
		 11: %v_12->try %v_12[3.10,] 
		 12: %v_13[3.11,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: 
		 1: %v_14[4.0,] 
BB 5
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: RETURN %v_15[5.0,] 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: RETURN %v_16[6.1,] 
BB 8
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = has_been_edited?
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: %self->updated_at %self[2.0,] 
		 7: %v_3[2.6,] 
BB 3
	outgoing: 5 
	datadep: 
	instructions:
		 0: %self->updated_at 
		 1: %self->created_at 
		 2: %v_4[3.0,] %v_5[3.1,] 
		 3: 
		 4: %v_6[3.2,] %v_7[3.3,] 
		 5: RETURN %v_8[3.4,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: RETURN 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = is_deletable_by_user?
BB 1
	outgoing: 12 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: 
		 7: user[2.5,] 
		 8: user[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: user->is_moderator? 
		 1: %v_4[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
BB 5
	outgoing: 12 
	datadep: 
	instructions:
		 0: 
		 1: RETURN 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: user->id 
		 1: %self->user_id 
		 2: %v_8[7.1,] %v_7[7.0,] 
		 3: %v_9[7.2,] 
BB 8
	outgoing: 9 10 
	datadep: 
	instructions:
		 0: 
BB 9
	outgoing: 12 
	datadep: 
	instructions:
		 0: 
		 1: RETURN 
BB 10
	outgoing: 12 
	datadep: 
	instructions:
		 0: 
		 1: RETURN 
BB 12
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = is_downvotable?
BB 1
	outgoing: 6 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: %self->created_at %self[2.0,] 
		 7: %v_3[2.6,] 
BB 3
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: (Time) 
		 2: %v_4->now %v_4[3.1,] 
		 3: %self->created_at 
		 4: %v_5[3.2,] %v_6[3.3,] 
		 5: (DOWNVOTABLE_DAYS) 
		 6: %v_8->days %v_8[3.5,] 
		 7: %v_9[3.6,] %v_7[3.4,] 
		 8: RETURN %v_10[3.7,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: RETURN 
BB 6
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = is_editable_by_user?
BB 1
	outgoing: 13 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: 
		 7: user[2.5,] 
		 8: user[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: user->id 
		 1: %self->user_id 
		 2: %v_4[3.0,] %v_5[3.1,] 
		 3: %v_6[3.2,] 
BB 4
	outgoing: 5 11 
	datadep: 
	instructions:
		 0: 
BB 5
	outgoing: 6 7 
	datadep: 
	instructions:
		 0: 
		 1: %self->is_moderated? 
		 2: %v_7[5.1,] 
BB 6
	outgoing: 13 
	datadep: 
	instructions:
		 0: 
		 1: RETURN 
BB 7
	outgoing: 8 9 
	datadep: 
	instructions:
		 0: 
		 1: (Time) 
		 2: %v_9->now %v_9[7.1,] 
		 3: %v_10->to_i %v_10[7.2,] 
		 4: %self->updated_at 
		 5: %v_12[7.4,] 
BB 8
	outgoing: 10 
	datadep: 
	instructions:
		 0: %self->updated_at 
		 1: %v_13->to_i %v_13[8.0,] 
		 2: 
BB 9
	outgoing: 10 
	datadep: 
	instructions:
		 0: %self->created_at 
		 1: %v_15->to_i %v_15[9.0,] 
		 2: %v_16[9.1,] 
BB 10
	outgoing: 13 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: (MAX_EDIT_MINS) 
		 3: %v_18[10.2,] 
		 4: %v_17[10.0,] %v_19[10.3,] 
		 5: RETURN %v_20[10.4,] 
BB 11
	outgoing: 13 
	datadep: 
	instructions:
		 0: 
		 1: RETURN 
BB 13
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = is_gone?
BB 1
	outgoing: 5 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: %self->is_deleted? %self[2.0,] 
		 7: %v_3[2.6,] 
BB 3
	outgoing: 5 
	datadep: 
	instructions:
		 0: %self->is_moderated? 
		 1: RETURN %v_4[3.0,] 
BB 4
	outgoing: 5 
	datadep: 
	instructions:
		 0: RETURN 
BB 5
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = is_undeletable_by_user?
BB 1
	outgoing: 14 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 4 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: 
		 7: user[2.5,] 
		 8: user[2.5,] 
BB 3
	outgoing: 4 
	datadep: 
	instructions:
		 0: user->is_moderator? 
		 1: %v_4[3.0,] 
BB 4
	outgoing: 5 6 
	datadep: 
	instructions:
		 0: 
BB 5
	outgoing: 14 
	datadep: 
	instructions:
		 0: 
		 1: RETURN 
BB 6
	outgoing: 7 8 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: user->id 
		 1: %self->user_id 
		 2: %v_8[7.1,] %v_7[7.0,] 
		 3: %v_9[7.2,] 
BB 8
	outgoing: 9 10 
	datadep: 
	instructions:
		 0: 
BB 9
	outgoing: 10 
	datadep: 
	instructions:
		 0: %self->is_moderated? 
		 1: %v_10->! %v_10[9.0,] 
		 2: %v_11[9.1,] 
BB 10
	outgoing: 11 12 
	datadep: 
	instructions:
		 0: 
BB 11
	outgoing: 14 
	datadep: 
	instructions:
		 0: 
		 1: RETURN 
BB 12
	outgoing: 14 
	datadep: 
	instructions:
		 0: 
		 1: RETURN 
BB 14
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = log_to_countinual
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: (Countinual) 
		 7: (Rails) 
		 8: %v_4->application %v_4[2.7,] 
		 9: %v_5->shortname %v_5[2.8,] 
		 10: 
		 11: %v_7[2.10,] 
		 12: 
		 13: %v_3->count! %v_3[2.6,] %v_8[2.11,] %v_9[2.12,] 
		 14: RETURN %v_10[2.13,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = mark_submitter
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: (Keystore) 
		 7: 
		 8: %self->user_id %self[2.0,] 
		 9: 
		 10: %v_4[2.7,] %v_6[2.9,] 
		 11: %v_3->increment_value_for %v_3[2.6,] %v_7[2.10,] 
		 12: RETURN %v_8[2.11,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = mailing_list_message_id
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: 
		 7: %self->short_id %self[2.0,] 
		 8: 
		 9: %self->created_at %self[2.0,] 
		 10: %v_6->to_i %v_6[2.9,] 
		 11: 
		 12: (Rails) 
		 13: %v_9->application %v_9[2.12,] 
		 14: %v_10->domain %v_10[2.13,] 
		 15: %v_5[2.8,] %v_3[2.6,] %v_8[2.11,] 
		 16: RETURN %v_12[2.15,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = path
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: %self->story %self[2.0,] 
		 7: %v_3->comments_path %v_3[2.6,] 
		 8: 
		 9: %self->short_id %self[2.0,] 
		 10: 
		 11: %self->short_id %self[2.0,] 
		 12: %v_5[2.8,] %v_7[2.10,] 
		 13: %v_4[2.7,] %v_9[2.12,] 
		 14: RETURN %v_10[2.13,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = plaintext_comment
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: %self->comment %self[2.0,] 
		 7: RETURN %v_3[2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = record_initial_upvote
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: (Vote) 
		 7: %self->story_id %self[2.0,] 
		 8: %self->id %self[2.0,] 
		 9: %self->user_id %self[2.0,] 
		 10: %v_3->vote_thusly_on_story_or_comment_for_user_because %v_4[2.7,] %v_5[2.8,] %v_3[2.6,] %v_6[2.9,] 
		 11: 
		 12: %self->story %self[2.0,] 
		 13: %v_8->update_comments_count! %v_8[2.12,] 
		 14: RETURN %v_9[2.13,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = score
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: %self->upvotes %self[2.0,] 
		 7: %self->downvotes %self[2.0,] 
		 8: %v_4[2.7,] %v_3[2.6,] 
		 9: RETURN %v_5[2.8,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = short_id_path
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: %self->story %self[2.0,] 
		 7: %v_3->short_id_path %v_3[2.6,] 
		 8: 
		 9: %self->short_id %self[2.0,] 
		 10: 
		 11: %self->short_id %self[2.0,] 
		 12: %v_5[2.8,] %v_7[2.10,] 
		 13: %v_4[2.7,] %v_9[2.12,] 
		 14: RETURN %v_10[2.13,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = short_id_url
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: %self->story %self[2.0,] 
		 7: %v_3->short_id_url %v_3[2.6,] 
		 8: 
		 9: %self->short_id %self[2.0,] 
		 10: 
		 11: %self->short_id %self[2.0,] 
		 12: %v_5[2.8,] %v_7[2.10,] 
		 13: %v_4[2.7,] %v_9[2.12,] 
		 14: RETURN %v_10[2.13,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = to_param
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: %self->short_id %self[2.0,] 
		 7: RETURN %v_3[2.6,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = unassign_votes
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: %self->story %self[2.0,] 
		 7: %v_3->update_comments_count! %v_3[2.6,] 
		 8: RETURN %v_4[2.7,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = url
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: %self->story %self[2.0,] 
		 7: %v_3->comments_url %v_3[2.6,] 
		 8: 
		 9: %self->short_id %self[2.0,] 
		 10: 
		 11: %self->short_id %self[2.0,] 
		 12: %v_5[2.8,] %v_7[2.10,] 
		 13: %v_4[2.7,] %v_9[2.12,] 
		 14: RETURN %v_10[2.13,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = vote_summary
BB 1
	outgoing: 3 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: 
		 7: %v_3[2.6,] 
		 8: 
		 9: (Vote) 
		 10: %self->id %self[2.0,] 
		 11: 
		 12: %v_4->where %v_4[2.9,] %v_6[2.11,] 
		 13: %v_7->each %v_7[2.12,] 
		 14: 
		 15: r_counts->keys r_counts[2.7,] 
		 16: %v_9->sort %v_9[2.15,] 
		 17: %v_10->map %v_10[2.16,] 
		 18: 
		 19: %v_11->join %v_11[2.17,] %v_12[2.18,] 
		 20: RETURN %v_13[2.19,] 
BB 3
	outgoing: 
	datadep: 
	instructions:

SET IRMethod, name = undelete_for_user
BB 1
	outgoing: 9 2 
	datadep: 
	instructions:
BB 2
	outgoing: 3 7 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: 
		 4: 
		 5: 
		 6: 
		 7: (Comment) 
		 8: 
		 9: 
		 10: 
		 11: 
		 12: user->is_moderator? user[2.5,] 
		 13: %v_4[2.12,] 
BB 3
	outgoing: 4 5 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: 
		 3: user->id 
		 4: %self->user_id %self[3.1,] 
		 5: %v_5[3.3,] %v_6[3.4,] 
		 6: %v_7[3.5,] 
BB 4
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
		 1: (Moderation) 
		 2: %v_8->new %v_8[4.1,] 
		 3: %v_9[4.2,] 
		 4: 
		 5: %self->id 
		 6: %v_10[4.5,] 
		 7: 
		 8: user->id 
		 9: %v_11[4.8,] 
		 10: 
		 11: 
		 12: %v_12[4.11,] 
		 13: 
		 14: m->save m[4.3,4.6,4.9,4.12,] 
		 15: 
BB 5
	outgoing: 6 
	datadep: 
	instructions:
		 0: 
BB 6
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
BB 7
	outgoing: 8 
	datadep: 
	instructions:
		 0: 
BB 8
	outgoing: 9 
	datadep: 
	instructions:
		 0: 
		 1: 
		 2: %self->save %v_14[8.1,] 
		 3: 
		 4: (Comment) 
		 5: 
		 6: 
		 7: %self->story 
		 8: %v_17->update_comments_count! %v_17[8.7,] 
		 9: RETURN %v_18[8.8,] 
BB 9
	outgoing: 
	datadep: 
	instructions:

